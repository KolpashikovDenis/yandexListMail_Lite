!function(e){function t(t){for(var a,i,c=t[0],u=t[1],l=t[2],d=0,f=[];d<c.length;d++)i=c[d],o[i]&&f.push(o[i][0]),o[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(s&&s(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={0:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;r.push([0,1,2]),n()}({0:function(e,t,n){n("fb1015b849d9a302a920"),n("29afd0734b013bb38bcc"),n("7eeaaa509db84bd002ac"),n("82358643b094698c859b"),n("9688ea3961634556428b"),n("a654130e78b91427150b"),n("eca537d636f49b157ed8"),n("fd655a88c237557b154f"),n("2a846d7d1abf615e1355"),n("a8e291b9732ae90c96bd"),n("d662be519faba3f05f3e"),e.exports=n("5ae6357351fffc3d4dc4")},"041bd6492602bccda0c8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4ee320a8137784c050e0"),o=n("2a8109ac628133d5b12f"),r=c(n("6720f7e94eecea453799")),i=c(n("2e00c83ced56b4015524"));function c(e){return e&&e.__esModule?e:{default:e}}var u=void 0,l={init:function(e){this.setStore(e)},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState().common,n=t.track_id,a=t.csrf,o=t.retpath;e.track_id=n,e.csrf_token=a,e.retpath=o,e.trackNotFoundErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout(function(){e._interval=1e3},6e4),window.redirectTimeout=setTimeout(function(){window.location.reload(!0)},6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout(function(){e.poll()},e._interval)},poll:function(){var e=this,t=this.getStore();$.ajax("/auth/letter/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",type:"POST"}).done(function(n){if(n.state&&"auth_challenge"===n.state)return e.stop(),void(window.location.href="/auth/challenges/?track_id="+n.track_id);if("ok"===n.status&&n.magic_link_confirmed){e.stop(),r.default.send([o.SUCCESS_AUTH_LETTER]);var c="/auth/finish/?track_id="+e.track_id;return e.retpath&&(c+="&retpath="+e.retpath),void(window.location.href=c)}if(n.errors){var u=t.getState().mailAuth.isEnabled,l="magic_link.invalidated"===n.errors[0]&&!u?"messenger_link.invalidated":n.errors[0],s=["track.not_found","track_id.empty"].includes(l);if(t.dispatch((0,a.changePagePopupVisibility)(!1)),s||(e.stop(),t.dispatch((0,a.setAuthMailError)(l))),"captcha.required"===l)return t.dispatch((0,a.setPasswordError)("")),t.dispatch((0,a.changeCaptchaState)(!0)),t.dispatch((0,a.setAuthMailCancelled)(!0)),void t.dispatch((0,i.default)());if("magic_link.invalidated"===l||"messenger_link.invalidated"===l)t.getState().mailAuth.isUpdatedAuthLetterStatus||t.dispatch((0,a.setMagicLinkDisabled)());if(s){if(e.trackNotFoundErrorCount>5)return e.stop(),void t.dispatch((0,a.setAuthMailError)("global"));e.trackNotFoundErrorCount++,e.restartPolling()}}e.restartPolling()})},setStore:function(e){u=e},getStore:function(){return u},stopPoll:function(){this._stopped=!0},stop:function(){clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout),this.stopPoll()}};t.default=l},"0658a9410be6c0797656":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=(p(n("8a2d1b95e05b6a321e74")),p(n("b912ecc4473ae8a2ff0b"))),c=p(n("ac563649a2d33b90d3d7")),u=n("b24de1e495698d2f533b"),l=p(n("2e00c83ced56b4015524")),s=p(n("2de5c9c49c6d5989f45c")),d=p(n("8673aa839ecc941c412a")),f=p(n("ca24a59b6c35f0274ada"));function p(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(e){b(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeCaptchaType=n.changeCaptchaType.bind(n),n.reloadCaptcha=n.reloadCaptcha.bind(n),n.playCaptcha=n.playCaptcha.bind(n),n.isAudioCaptchaEnabled=!1,n.isLoading=!0,n}return h(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){var e=this;this.isLoading=!1,$.ajax({url:"https://yastatic.net/howler/2.0.2/howler.min.js",dataType:"script",cache:!0,success:function(){e.isAudioCaptchaEnabled=!0,e.props.dispatch((0,f.default)(!0))},error:function(){e.props.dispatch((0,f.default)())}}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,u.clearCaptchaProps)())}},{key:"changeCaptchaType",value:function(){var e=this.props,t=e.type,n=e.dispatch;n("text"===t?(0,d.default)(!0):(0,f.default)()),n((0,u.changeCaptchaType)())}},{key:"reloadCaptcha",value:function(){this.props.dispatch((0,l.default)())}},{key:"playCaptcha",value:function(){this.props.dispatch((0,d.default)())}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.introSound,a=e.type,o=e.loading,i=e.loadingAudio,c=e.playing,u=e.visible,l=e.lang,s=e.isMobile,d=e.dispatch,f=Boolean(("ru"===l||"tr"===l)&&!s&&!this.isLoading&&this.isAudioCaptchaEnabled);return r.default.createElement("div",{className:"captcha captcha_type_"+a},Boolean(u)&&r.default.createElement("div",{className:"captcha__container"},"text"===a&&r.default.createElement(y,{onClick:this.reloadCaptcha,imageUrl:t,loading:o,dispatch:d}),"audio"===a&&f&&r.default.createElement(g,{loading:i,introSound:n,playing:c,dispatch:d,playCaptcha:this.playCaptcha})),r.default.createElement("div",{className:"captcha__footer clearfix"},!this.isLoading&&r.default.createElement("div",{className:"captcha__reload",onClick:this.reloadCaptcha},r.default.createElement("span",{className:"captcha__reload-icon"}),"Другой код"),f&&r.default.createElement("div",{className:"captcha__change-type",onClick:this.changeCaptchaType},r.default.createElement("span",{className:"captcha__change-type-icon"}),"text"===a?"Послушать код":"Текстовый код")))}}]),t}(),y=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.imageUrl;return t?r.default.createElement(c.default,{progress:!0,size:"l"}):r.default.createElement("img",{src:n,onClick:this.props.onClick,className:"captcha__image",alt:"captcha image","aria-label":"captcha image"})}}]),t}(),g=function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o.Component),a(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch((0,s.default)())}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.loading,a=e.playCaptcha;return n?r.default.createElement(c.default,{progress:!0,size:"l"}):r.default.createElement("div",{className:(0,i.default)("captcha__audio ",{captcha__audio_playing:t}),onClick:a})}}]),t}();t.default=m},"0698b1766c3773917931":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.common,n=t.magicUrl,o=t.addUserUrl,r=t.editUrl,i=e.auth,c=i.magicError,u=i.isFromLoginSuggest,l=i.isQRAuthEnabled,s=i.processedAccount,d=i.form.login,f=i.magicTrack,p=i.magicCSRF,b=e.settings,_=b.tld,h=b.ua.isTouch,m=s&&s.allowed_auth_methods||[],y=c&&(a.default[c]||a.default.global)||null,g=m.some(function(e){return e.indexOf("social_")>-1}),v=m.indexOf("magic")>-1,E=m.indexOf("magic_x_token")>-1,O=Boolean(l&&(u&&E||!u)),T=Boolean(m.length&&!m.some(function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e})),C="Или войдите по одноразовому паролю";O&&(v||(C=u&&!g?"Войти с помощью пароля":"Войти с помощью пароля или соцсети"),T&&(C="Войти с помощью соцсети"));return{magicUrl:n,addUserUrl:o,editUrl:r,isQRAuth:O,hasMagicAuthMethod:v,isFromLoginSuggest:u,isSocialAccount:T,trackId:f,magicCSRFToken:p,login:d,tld:_,isTouch:h,fieldError:y,fallbackLinkText:C}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("f3e5b0b53b9a60481e9f"))},"0989ebdb8e72257c9e48":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.additionalDataRequest,n=t.email,a=t.confirmationCode,o=t.isConfirmationCodeSent,r=t.isCaptchaRequired,i=t.action,c=t.denyResendUntil,u=t.errors;return{email:n,confirmationCode:a,isConfirmationCodeSent:o,isCaptchaRequired:r,action:i,denyResendUntil:c,errors:u}}},"0a6182e4a23d9b6c7858":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.additionalDataRequest,n=t.phone,a=t.confirmationCode,o=t.isConfirmationCodeSent,r=t.isCaptchaRequired,i=t.action,c=t.denyResendUntil,u=t.errors,l=n.number.replace(/ /gi,"&nbsp;"),s="Код подтверждения отправлен на номер %1, введите его в поле ниже:".replace("%1","<b>"+l+"</b>");return{confirmationCode:a,isConfirmationCodeSent:o,isCaptchaRequired:r,action:i,denyResendUntil:c,errors:u,popupTitle:s,phoneNumber:n.number,phoneId:n.id}}},"0b88835c11ed4414a373":function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,a){"object"===t(e)&&e.exports?e.exports=a($):n.Monitoring=a(n.$)}(void 0,function(e){return{inited:!1,_data:null,init:function(t){this._data=e.extend({},{app:"passport"},t)},send:function(t){var n=e.extend({},this._data,t);"load"===t.event&&(n=e.extend(n,this.preparePerformanceData())),e.ajax({url:"/monitoring",data:n})},preparePerformanceData:function(){var e,t;return"performance"in window&&"timing"in window.performance&&"navigation"in window.performance?(e=performance.timing,t=performance.navigation,{"tm.navigationStart":e.navigationStart,"tm.unloadEventStart":e.unloadEventStart,"tm.unloadEventEnd":e.unloadEventEnd,"tm.redirectStart":e.redirectStart,"tm.redirectEnd":e.redirectEnd,"tm.fetchStart":e.fetchStart,"tm.domainLookupStart":e.domainLookupStart,"tm.domainLookupEnd":e.domainLookupEnd,"tm.connectStart":e.connectStart,"tm.connectEnd":e.connectEnd,"tm.secureConnectionStart":e.secureConnectionStart,"tm.requestStart":e.requestStart,"tm.responseStart":e.responseStart,"tm.responseEnd":e.responseEnd,"tm.domLoading":e.domLoading,"tm.domInteractive":e.domInteractive,"tm.domContentLoadedEventStart":e.domContentLoadedEventStart,"tm.domContentLoadedEventEnd":e.domContentLoadedEventEnd,"tm.domComplete":e.domComplete,"tm.loadEventStart":e.loadEventStart,"tm.loadEventEnd":e.loadEventEnd,"nav.type":t.type,"nav.redirectCount":t.redirectCount}):{}}}})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},"0d8cf9c2d8b9da899bb4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(n,s){var d=s(),f=d.common,p=f.track_id,b=f.profile_url,_=f.csrf,h=f.retpath,m=d.auth.isAdditionalDataRequestEnabled,y={track_id:p,csrf_token:_,password:e};n((0,o.domikIsLoading)(!0)),n((0,o.setPasswordError)(null)),a.default.request("auth/multi_step/commit_password",y).done(function(e){if(e){l.default.goal(u.SUCCESS_AUTH_GOAL),l.default.send([t.getMetricsHeader(d),u.SEND_AUTH_FORM,u.SEND_AUTH_FORM_SUCCESS]);var a=h||b;if("ok"===e.status&&!e.state){if(!m)return void(window.location=a);n((0,i.default)())}e.state&&e.redirect_url&&(window.location=e.redirect_url)}else n((0,o.domikIsLoading)(!1))}).fail(function(e){var a=e.errors[0],i=s(),f=i.auth.isCaptchaRequired;l.default.send([t.getMetricsHeader(d),u.SEND_AUTH_FORM,u.SEND_AUTH_FORM_ERROR,a]),["captcha.required","captcha.invalid"].indexOf(a)>-1&&(n((0,o.changeCaptchaState)(!0)),f&&n((0,r.default)())),["password.not_matched","password.empty","rfc_otp.invalid"].indexOf(a)>-1&&(n((0,o.updatePasswordValue)("")),n((0,c.default)("passwd",""))),n((0,o.setPasswordError)(a)),n((0,o.domikIsLoading)(!1))})}},t.getMetricsHeader=function(e){var t=e.auth,n=t.form.isForceOTP,a=t.processedAccount,o=e.social.providers,r=a.allowed_auth_methods||[],i=a.preferred_auth_method||"password";r.indexOf("otp")>-1&&n&&(i="otp");var c=o.filter(function(e){var t=e.data;return"social_"+t.code===i})[0]||null,l=Boolean("password"===i||r.indexOf("password")>-1),s=Boolean(d.indexOf(i)>-1&&c);if(l&&s)return u.SHOW_SOCIAL_WITH_PASSWORD_FORM;if(l)return u.SHOW_PASSWORD_FORM;return u.SHOW_OTP_FORM};var a=s(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=s(n("2e00c83ced56b4015524")),i=s(n("59a79a597a3c3539dd27")),c=s(n("8150816e8c486cf8a0f0")),u=n("2a8109ac628133d5b12f"),l=s(n("6720f7e94eecea453799"));function s(e){return e&&e.__esModule?e:{default:e}}var d=["social_gg","social_fb","social_tw","social_mr","social_vk","social_ok"]},"0e5b208e12cd109c8734":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={updatePasswordValue:r.updatePasswordValue,setPasswordError:r.setPasswordError,switchToModeMagic:o.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("ec7a66791361653ff08d")),r=n("4ee320a8137784c050e0")},"0f125486b115cac153fb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),f(n("f829dce6e807e79181ee"))),u=f(n("ce71044ed50ae6df54b1")),l=f(n("a1d676ee048a2b15fe67")),s=f(n("1809b07d433d27eca75c")),d=f(n("28637f994d02637a7b94"));function f(e){return e&&e.__esModule?e:{default:e}}var p={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",firstName:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",rateLimitExceeded:"Лимит попыток исчерпан. Пожалуйста, попробуйте ещё раз через некоторое время."},lastName:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",rateLimitExceeded:"Лимит попыток исчерпан. Пожалуйста, попробуйте ещё раз через некоторое время."}},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submitForm=n.submitForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.changeFirstName,n=e.changeLastName,a=e.changeNativeInputValue,o=e.setupBackPane,r=e.restoreLoginUrl;t(""),n(""),a("firstname",""),a("lastname",""),o(r)}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkNames()}},{key:"render",value:function(){var e=this.props,t=e.firstName,n=e.lastName,a=e.changeFirstName,o=e.changeLastName,i=e.checkNames,s=e.firstNameError,d=e.lastNameError,f=s&&(p.firstName[s]||p.internal)||"",b=d&&(p.lastName[d]||p.internal)||"";return r.default.createElement(l.default,{onSubmit:this.submitForm,cls:"enter-name"},r.default.createElement(c.default,{fieldName:"firstname",fieldType:"text",fieldLabel:"Введите ваше имя",fieldValue:t,fieldError:f,onFieldChange:a}),r.default.createElement(c.default,{fieldName:"lastname",fieldType:"text",fieldLabel:"Введите вашу фамилию",fieldValue:n,fieldError:b,onFieldChange:o}),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Далее",buttonTheme:"action",onClick:i})))}}]),t}();t.default=(0,i.connect)(s.default,d.default)(b)},"10de8bcf61d920a73cf5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(p(n("8a2d1b95e05b6a321e74")),p(n("5fdd10d997beea04dc36"))),u=p(n("415b2ec7a2c957bbe58a")),l=p(n("fcbfd009d184700124a8")),s=p(n("f7184967d7de6dd38a1e")),d=p(n("32f2686eeb882a4ae234")),f=p(n("ed71d4c250ec26f8dc96"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCloseClick=n.handleCloseClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t((0,d.default)())}},{key:"render",value:function(){return r.default.createElement(l.default,{cls:"al-send-popup"},r.default.createElement(u.default,null,"Откройте ваше приложение Яндекс и подтвердите вход"),r.default.createElement(s.default,{text:"Сравните символы в приложении и на экране. Убедитесь, что  там те же символы, что здесь"}),r.default.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля"),r.default.createElement(f.default,null))}}]),t}();t.default=(0,i.connect)(c.default)(b)},"10e962d582339e41eb7c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=(0,i.default)(e),n=t.fallbackUrl,u=t.socialStyleClass,l=t.avatarStyle,s=t.displayName,d=t.displayLogin,f=t.logoutUrlAttribute,p=t.isDefault,b=t.isTouch,_=t.isAuthorized,h=t.hasSocial,m=t.onClick,y=t.onCrossClick,g=t.showMobileMenu;return o.default.createElement("div",{className:"passp-account-list-item-block"},o.default.createElement(c.default,{url:n,theme:"normal",onClick:m,cls:(0,r.default)("passp-account-list-item "+u,{"passp-account-list-item__default":p,"passp-account-list-item__social-method":!p&&h,"passp-account-list-item__without-login":!d})},o.default.createElement("div",{className:"passp-account-list-item__inner"},o.default.createElement("span",{className:"passp-account-list-item__avatar",style:l}),o.default.createElement("span",{className:"passp-account-list-item__display-name"},s),d&&o.default.createElement("span",{className:"passp-account-list-item__login"},d))),!b&&o.default.createElement(c.default,a({cls:"passp-account-list-item__remove-button",onClick:y,theme:"normal"},f),_?"Выйти":"Удалить из списка"),b&&o.default.createElement("button",{onClick:g,className:"passp-account-list-item__remove-button"},o.default.createElement("span",{className:"passp-account-list-item__remove-button-icon"})))};var o=u(n("8af190b70a6bc55c6f1b")),r=(u(n("8a2d1b95e05b6a321e74")),u(n("b912ecc4473ae8a2ff0b"))),i=u(n("1facfbbca3d4db8c24ac")),c=u(n("1def7208fe0e21ce16a3"));function u(e){return e&&e.__esModule?e:{default:e}}},"12409bff7d6b1ff45b24":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date;e.setDate(e.getDate()+365),document.cookie="qr_auth_promo="+(new Date).toUTCString()+";expires="+e.toUTCString()}},"12fa7a13d9989723ecf9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=(s(n("8a2d1b95e05b6a321e74")),s(n("5b1ba08c9bbd7767f36c"))),c=s(n("ce71044ed50ae6df54b1")),u=s(n("a1d676ee048a2b15fe67")),l=s(n("f3e5b0b53b9a60481e9f"));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.errors,a=e.sentConfirmationCode,o=e.goBack,s=e.goToPhonesPage;return r.default.createElement(u.default,{cls:"confirm-secure-phone"},t&&r.default.createElement(i.default,null),0!==n.length&&r.default.createElement("div",null,r.default.createElement("p",{className:"passp-confirm-secure-phone-form__error"},l.default[n[0]]?l.default[n[0]]:l.default.internal)),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"submit",buttonText:"Да, хочу",buttonTheme:"action",onClick:a})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:o})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Изменить номер",buttonTheme:"normal",onClick:s})))}}]),t}();t.default=d},"1322e380206bd356b59d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=h(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(h(n("8a2d1b95e05b6a321e74")),h(n("492f0884ca0d25627280"))),u=h(n("0d8cf9c2d8b9da899bb4")),l=h(n("88a71a8f4ebb2edd9f88")),s=h(n("0e5b208e12cd109c8734")),d=h(n("5b1ba08c9bbd7767f36c")),f=h(n("d588776d16def5f6ce0b")),p=h(n("26d491dcf52ec9788aa1")),b=h(n("e71cbcfb936ff794222f")),_=h(n("13a6fd289c62825ef787"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changePasswordValue=n.changePasswordValue.bind(n),n.submitPasswordForm=n.submitPasswordForm.bind(n),n.switchToMagicPage=n.switchToMagicPage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillUnmount",value:function(){(0,this.props.setPasswordError)("")}},{key:"changePasswordValue",value:function(e){(0,this.props.updatePasswordValue)(e)}},{key:"submitPasswordForm",value:function(e){e.preventDefault();var t=this.props,n=t.password;(0,t.dispatch)((0,c.default)(u.default,n))}},{key:"switchToMagicPage",value:function(){(0,this.props.switchToModeMagic)(!0)}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.trackId,a=e.csrf,o=e.hasSocialButton,i=e.hasCaptcha,c=e.isShowOTPField,u=e.isShowPasswordField,l=e.isShowSubmitButton,s=e.isMagicAuth,h=e.authUrl;return r.default.createElement("div",{className:"passp-password-form"},r.default.createElement("form",{onSubmit:this.submitPasswordForm,method:"post",action:h,noValidate:!0},r.default.createElement("input",{type:"hidden",name:"track_id",value:n,readOnly:!0}),r.default.createElement("input",{type:"hidden",name:"csrf_token",value:a,readOnly:!0}),i&&r.default.createElement(d.default,null),r.default.createElement(f.default,null),c&&r.default.createElement(p.default,{onChange:this.changePasswordValue,password:t}),u&&r.default.createElement(b.default,{onChange:this.changePasswordValue,hasSocialButton:o,password:t}),l&&r.default.createElement(_.default,{switchToModeMagic:s?this.switchToMagicPage:void 0})))}}]),t}();m.defaultProps={trackId:"",csrf:""},t.default=(0,i.connect)(l.default,s.default)(m)},"13992da66eaf75a3d77b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.restoreLogin,n=t.accounts,a=t.errors.phone,o=(n||[]).length>0?"Аккаунты связанные с вашем именем, фамилией и номером телефона":"Данные имя и фамилия не привязаны ни к одному аккаунту на Яндексе";"notFound"===a&&(o="Этот номер не привязан ни к одному аккаунту");return{pageTitle:o}}},"13a6fd289c62825ef787":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var a=i(n("8af190b70a6bc55c6f1b")),o=(i(n("8a2d1b95e05b6a321e74")),i(n("a6fd5b93bd0fb4ce3d49"))),r=i(n("ce71044ed50ae6df54b1"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.switchToModeMagic,n=t&&"function"==typeof t;return a.default.createElement("div",{className:"passp-button passp-sign-in-button"},a.default.createElement(r.default,{buttonType:"submit",buttonText:"Войти",buttonTheme:"action"}),n&&a.default.createElement(o.default,{cls:"passp-sign-in-button__magic-link",onClick:t,size:"l",width:"max",theme:"action",type:"button"},a.default.createElement("span",{className:"passp-sign-in-button__magic-link-icon"})))}c.defaultProps={switchToModeMagic:null}},"15a1cb3beb4f3d6cfe2c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){if(!e||!e.trim())return t((0,r.setErrors)(["number.empty"])),void t((0,o.domikIsLoading)(!1));var l=n(),s=l.additionalDataRequest,d=s.track_id,f=s.action,p=l.settings.lang,b=l.common.csrf,_={number:e,track_id:d,csrf_token:b,display_language:p};t((0,r.clearErrors)()),a.default.request("phone/confirm_and_bind_secure/submit_v2",_).done(function(e){t((0,u.default)("request_phone_confirmation_code","secure"===f?"Показ превращения телефона в защищенный":"Показ привязки телефона","Отправка кода")),t((0,r.sentPhoneConfirmationCodeSuccess)(e)),t((0,o.domikIsLoading)(!1)),t((0,o.changePagePopupVisibility)(!0)),t((0,o.changePagePopupType)("phoneConfirmation"))}).fail(function(e){for(var n=e.errors.length,a=0;a<n;a++){var u=e.errors[a];if("password.required"===u)return void t((0,c.default)());if("phone.confirmed"===u||"phone_secure.bound_and_confirmed"===u)return void t((0,i.default)())}t((0,r.setErrors)(e.errors)),t((0,o.domikIsLoading)(!1))})}};var a=l(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=n("2dad848e8287918fdb83"),i=l(n("7bec9e0f5607402a990d")),c=l(n("bb35215c4a46a2d07b5f")),u=l(n("c1c5f474e631e6348cde"));function l(e){return e&&e.__esModule?e:{default:e}}},"16de34b25409679aeacf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=t.unitedAccounts,o=t.authorizedAccountsDefaultUid,r=(0,a.default)(n,{status:"VALID"}),i=(0,a.default)(r,function(e){return e.uid===o})[0],c=(0,a.default)(n,function(e){return"VALID"!==e.status}),u=(0,a.default)(c,function(e){return void 0!==e.allowed_auth_methods}),l=(0,a.default)(c,function(e){return void 0===e.allowed_auth_methods}),s=Boolean(u.length||l.length),d=Boolean(r.length>=15);return{authorizedAccounts:r,defaultAccount:i,suggestedAccounts:u,invalidAccounts:l,hasUnauthorizedAccounts:s,isSessionOverflow:d}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("1a5a0e788b4f35a6460a"))},"173a4ba6a567c7817809":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(d(n("8a2d1b95e05b6a321e74")),d(n("c62440e8cccaf06588e5"))),u=d(n("f469c14f5c3cd24dad9a")),l=d(n("415b2ec7a2c957bbe58a")),s=d(n("13992da66eaf75a3d77b"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return r.default.createElement(u.default,{cls:"restore-login-account-list"},r.default.createElement(l.default,null,this.props.pageTitle),r.default.createElement(c.default,null))}}]),t}();t.default=(0,i.connect)(s.default)(f)},"1809b07d433d27eca75c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.restoreLogin,n=t.firstName,a=t.lastName,o=t.errors,r=o.firstName,i=o.lastName,c=e.common.restoreLoginUrl;return{firstName:n||"",lastName:a||"",firstNameError:r||"",lastNameNameError:i||"",restoreLoginUrl:c}}},"187fb00d6fb085509d48":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={updatePasswordValue:r.updatePasswordValue,updateLoginValue:r.updateLoginValue,setupBackPane:r.setupBackPane,setupMode:r.setupMode,setupPane:o.setupPane,changeNativeInputValue:i.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("d980a6b4f65a3a13be8b"),r=n("4ee320a8137784c050e0"),i=function(e){return e&&e.__esModule?e:{default:e}}(n("8150816e8c486cf8a0f0"))},"199afe915d0301db3224":function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,o){"object"===t(e)&&e.exports?e.exports=o($,n("e272e63d5ec4572635b2")):o(a.$,a.passport)}(void 0,function(e,n){return"object"!==("undefined"==typeof window?"undefined":t(window))?{}:n.block("broker",{yaWindow:null,defaultParams:{startUrl:"/auth/social/start",retpath:location.protocol+"//"+location.host+"/auth/i-social__closer.html",retnopopup:!1,consumer:"passport",popupName:"social_passport",display:"popup",place:"fragment"},isClosed:function(){var e;if(!this.yaWindow||this.yaWindow&&void 0===this.yaWindow.closed)return!0;try{e=this.yaWindow.closed}catch(t){e=!0}return e},open:function(e){var t,a,o,r,i=this,c="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+Math.round(((window.opera?window.innerWidth:screen.availWidth)-650)/2)+", top="+Math.round(((window.opera?window.innerHeight:screen.availHeight)-400)/2)+", width=650, height=400",u=!1,l={},s=this.url;Object.keys(this.defaultParams).forEach(function(e){l[e]=i.defaultParams[e]}),[].concat(Object.keys(e)).forEach(function(t){l[t]=e[t]}),l.display&&"popup"!==l.display||l.currentWindow?(delete(a=n.util.getUrlParams(window.location.href)).uid,o=Object.keys(a).map(function(e){return e+"="+a[e]}).join("&"),t="https://"+window.location.hostname+window.location.pathname+(o?"?":"")+o,l.retpath=l.retnopopup||t,u=!0):(r="ddom="+(l.ddom||(location.hostname===document.domain?"":document.domain)),l.retpath+=(l.retpath.match("#")?"&":"#")+r,"retnopopup"in l&&delete l.retnopopup),Object.keys(l).forEach(function(e,t){s+=0===t?"?":"&",s+=encodeURIComponent(e)+"="+encodeURIComponent(l[e])}),u?window.location.href=s:(this.yaWindow=window.open(s,this.popupName,c),this.yaWindow&&this.yaWindow.focus())},cleanup:function(){this.isClosed()||this.yaWindow.close(),this.yaWindow=null},start:function(e){this.cleanup(),this.open(e)},init:function(t){this.defaultParams=e.extend(this.defaultParams,t||{}),this.url=this.defaultParams.startUrl,delete this.defaultParams.startUrl}})})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},"1c828d4515da2e1f9a20":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".passp-auth"),t=e.style.transition,n=document.querySelector(".passp-auth-screen"),a=document.querySelector(".passp-auth-header");e.style.transition="",setTimeout(function(){var o=window.getComputedStyle(n),r=n.scrollHeight+a.scrollHeight+parseInt(o.marginTop,10)+parseInt(o.marginBottom,10);e.style.height=r+"px",e.style.transition=t},0)}},"1e85d4dfe3ef0b693888":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.trackId,n=e.fieldError,r=t?{backgroundImage:'url("/auth/magic/code/?track_id='+t+'")'}:{};return a.default.createElement("div",{className:(0,o.default)("passp-magic-field",{"passp-magic-field_hidden":!t})},Boolean(n)&&a.default.createElement("div",{className:"passp-magic-field__error",dangerouslySetInnerHTML:{__html:n}}),a.default.createElement("div",{className:"passp-magic-field__qr",style:r}))};var a=r(n("8af190b70a6bc55c6f1b")),o=(r(n("8a2d1b95e05b6a321e74")),r(n("b912ecc4473ae8a2ff0b")));function r(e){return e&&e.__esModule?e:{default:e}}},"1facfbbca3d4db8c24ac":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.account,n=e.avatarSettings,o=e.logoutUrl,r=e.isAuthorized,i=e.isDefault,c=e.isTouch,u=e.fallbackUrl,l=e.onClick,s=e.onCrossClick,d=e.showMobileMenu,f=t.avatarId,p=t.login,b=t.displayName,_=t.hasSocial,h=t.mail,m=t.defaultEmail,y=t.socialProvider,g=n.host,v=n.pathname,E={backgroundImage:'url("https://'+g+v.replace("%uid%",f).replace("%size%","200").replace("%login%",p)+'")'},O=o?{url:o}:{pseudo:!0},T=!i&&_?"passp-account-list-item__social-method_"+y:"",C=_?a.default[y]:h||m||"";return{fallbackUrl:u,socialStyleClass:T,avatarStyle:E,displayName:b,displayLogin:C,logoutUrlAttribute:O,isDefault:i,isTouch:c,isAuthorized:r,hasSocial:_,onClick:l,onCrossClick:s,showMobileMenu:d}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b1ce1a7989017c577d0f"))},"22f09ca8e62af3f653cf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=y(o),i=n("27361837e9c8186338e3"),c=n("d7dd51e1bf6bfc2c9c3d"),u=(y(n("8a2d1b95e05b6a321e74")),y(n("a6fd5b93bd0fb4ce3d49"))),l=y(n("63721097bf159e4fbcc6")),s=n("4ee320a8137784c050e0"),d=y(n("d8640f8c6b90b5cc4700")),f=y(n("f8f0212f92cde3c17f5d")),p=y(n("4072be4ee13c92cdf2ce")),b=y(n("7731cce99672b741f8e5")),_=y(n("6c882d39cffd0b9bc9c2")),h=y(n("10de8bcf61d920a73cf5")),m=y(n("7322946f1fcdb2d75ace"));function y(e){return e&&e.__esModule?e:{default:e}}var g={authLetter:d.default,phoneConfirmation:f.default,emailConfirmation:p.default,restoreLoginEnterCaptcha:b.default,restoreLoginEnterConfirmationCode:_.default,authMessenger:h.default,authMessengerInfo:m.default},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closePopup=n.closePopup.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"closePopup",value:function(){this.props.changePagePopupVisibility(!1)}},{key:"render",value:function(){var e=this.props.pagePopupType,t=g[e],n="authLetter"!==e&&"authMessenger"!==e;return r.default.createElement("div",{className:"passp-page-popup"},n&&r.default.createElement(u.default,{theme:"default",size:"m",onClick:this.closePopup,cls:"passp-page-popup__close-btn"},r.default.createElement(l.default,{type:"cross"})),t&&r.default.createElement(t,{closePopup:this.closePopup}))}}],[{key:"mapStateToProps",value:function(e){var t=e.pagePopup;return{isShowPagePopup:t.isShowPagePopup,pagePopupType:t.pagePopupType}}},{key:"mapDispatchToProps",value:function(e){var t={changePagePopupVisibility:s.changePagePopupVisibility};return Object.assign({},(0,i.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,c.connect)(v.mapStateToProps,v.mapDispatchToProps)(v)},"248f42311cec94e0128e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{checkPhone:function(){return e((0,a.default)(o.default))}}};var a=r(n("492f0884ca0d25627280")),o=r(n("7db34b3d0bca6392a74a"));function r(e){return e&&e.__esModule?e:{default:e}}},"256898036d63d335a892":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var i=n(),c=i.settings.ua,u=i.common.csrf,l=c&&c.isTouch,s={_uid:e,csrf_token:u};t((0,o.domikIsLoading)(!0)),a.default.request("accounts/forget",s).done(function(){t((0,r.default)()),l&&t((0,o.changeMobileMenuVisibility)(!1))}).fail(function(){t((0,r.default)())}).always(function(){return t((0,o.domikIsLoading)(!1))})}};var a=i(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=i(n("400d618db20c4ff01c08"));function i(e){return e&&e.__esModule?e:{default:e}}},"26d491dcf52ec9788aa1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=p(n("63f14ac74ce296f77f4d")),c=p(n("b912ecc4473ae8a2ff0b")),u=n("d7dd51e1bf6bfc2c9c3d"),l=(p(n("8a2d1b95e05b6a321e74")),p(n("f829dce6e807e79181ee"))),s=n("2a8109ac628133d5b12f"),d=p(n("6720f7e94eecea453799")),f=p(n("92479e208533a17dd8c9"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPasswordShowed:!1},n.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"},n.togglePasswordVision=n.togglePasswordVision.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.isNoTabletTouch;d.default.send([s.SHOW_OTP_FORM]),t||setTimeout(function(){i.default.findDOMNode(e.passwordField).querySelector("input").focus()},300)}},{key:"togglePasswordVision",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState(function(e){return{isPasswordShowed:!e.isPasswordShowed}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.password,a=t.isShowFieldLink,o=t.onChange,i=t.login,u=t.fieldError,s=t.fieldLink,d=this.state.isPasswordShowed;return r.default.createElement("div",{className:"passp-otp-field"},r.default.createElement("input",{className:"passp-hidden-login-field",type:"text",name:"login",id:"login",readOnly:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"username",value:i}),r.default.createElement(l.default,{ref:function(t){e.passwordField=t},fieldLabel:"Введите одноразовый пароль",fieldValue:n,fieldName:"passwd",fieldType:d?"text":"password",fieldError:u,fieldLink:s,fieldOptions:this.fieldOptions,isShowFieldLink:a,onFieldChange:o}),r.default.createElement("span",{onClick:this.togglePasswordVision,className:(0,c.default)("passp-otp-field__eye",{"passp-otp-field__eye_closed":d})}))}}]),t}();b.defaultProps={fieldValue:""},t.default=(0,u.connect)(f.default)(b)},"28637f994d02637a7b94":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{setupBackPane:function(t){return e((0,r.setupBackPane)(t))},changeFirstName:function(t){return e((0,a.changeFirstName)(t))},changeLastName:function(t){return e((0,a.changeLastName)(t))},checkNames:function(){return e((0,o.default)())},changeNativeInputValue:function(t,n){return e((0,i.default)(t,n))}}};var a=n("b2d0f77fd033b41cb6bc"),o=c(n("70e0fdbf164ce0083c23")),r=n("4ee320a8137784c050e0"),i=c(n("8150816e8c486cf8a0f0"));function c(e){return e&&e.__esModule?e:{default:e}}},"28903d0c99393aba8a5e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=(s(n("8a2d1b95e05b6a321e74")),s(n("5b1ba08c9bbd7767f36c"))),c=s(n("ce71044ed50ae6df54b1")),u=s(n("a1d676ee048a2b15fe67")),l=s(n("f3e5b0b53b9a60481e9f"));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.errors,a=e.confirmActualPhone,o=e.goToPhonesPage,s=e.goBack;return r.default.createElement(u.default,{cls:"confirm-actual-phone"},t&&r.default.createElement(i.default,null),0!==n.length&&r.default.createElement("div",null,r.default.createElement("p",{className:"passp-confirm-actual-phone-form__error"},l.default[n[0]]?l.default[n[0]]:l.default.internal)),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"submit",buttonText:"Да, это мой номер",buttonTheme:"action",onClick:a})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Нет",buttonTheme:"normal",onClick:o})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:s})))}}]),t}();t.default=d},"2a8109ac628133d5b12f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SHOW_LOGIN_FORM="Показ ввода логина",t.SEND_LOGIN_FORM="Отправка формы логина",t.SEND_LOGIN_FORM_SUCCESS="Успешный ввод",t.SEND_LOGIN_FORM_ERROR="Показ ошибки",t.CLICK_REGISTRATION_LINK_FROM_ERROR="Переход на регистрацию из ошибки",t.CLICK_REGISTRATION_LINK="Переход на регистрацию из общей ссылки",t.CLICK_RESTORE_ACCESS_LINK="Переход на восстановление логина из ошибки",t.START_SOCIAL_AUTH="Начало соц.авторизации",t.BACK_TO_SERVICE="Вернуться на сервис",t.SHOW_PASSWORD_FORM="Показ формы ввод пароля",t.SHOW_SOCIAL_FORM="Показ формы соц.сеть",t.SHOW_OTP_FORM="Показ формы 2fa",t.SHOW_SOCIAL_WITH_PASSWORD_FORM="Показ формы соц.сеть и пароль",t.CLICK_ANOTHER_ACCOUNT_LINK='Нажатие "Другой аккаунт"',t.SEND_AUTH_FORM="Отправка формы",t.SEND_AUTH_FORM_SUCCESS="Успешный ввод",t.SEND_AUTH_FORM_ERROR="Показ ошибки",t.SHOW_SUGGEST_LIST="Показ списка",t.LOGOUT_ACCOUNT="Выход из аккаунта",t.FORGET_ACCOUNT="Удаление из списка",t.SHOW_QR_FORM="Показ формы QR",t.SHOW_LOGIN_FORM_GOAL="2step_domik_show_login_form",t.SHOW_PASSWORD_FORM_GOAL="2step_domik_show_pass_form",t.SHOW_SUGGEST_LIST_GOAL="2step_domik_show_suggest_pass_form",t.SHOW_QR_FORM_GOAL="2step_domik_show_qr_form",t.SUCCESS_AUTH_GOAL="one_domik_auth_sucess",t.SHOW_AUTH_LETTER_BUTTON='Показ кнопки "Войти без пароля"',t.CLICK_AUTH_LETTER_BUTTON='Нажатие кнопки "Войти без пароля"',t.SUCCESS_AUTH_LETTER="Успешный вход через подтверждение",t.SHOW_AUTH_LETTER_CONFIRMATION_PAGE="Показ страницы подтверждения",t.AUTH_LETTER_DENY_AUTH='Нажатие "Это не Я"',t.AUTH_LETTER_ALLOW_AUTH='Нажатие "Это Я"',t.AUTH_LETTER_SUCCESS_AUTH="Успешное подтвреждение",t.AUTH_LETTER_FAIL_AUTH="Получение ошибок",t.AUTH_LETTER_INVALIDATE="Вход по ссылке отменен",t.ADDITIONAL_DATA_REQUEST_METRICS_PREFIX="additional_data_request"},"2d4f8b4913646867c015":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=t.form,a=n.login,o=n.isCanRegister,r=n.registrationLogin,i=n.registrationType,c=n.registrationPhoneNumber,u=n.registrationCountry,l=t.loginError,s=t.isQRPromo2Enabled,d=t.isQRAuthPromoShowed,f=t.mode,p=e.common,b=p.registration_url_with_params,_=p.lite_registration_url_with_params,h=p.retpath,m=p.fretpath,y=p.clean,g=p.csrf,v=p.addUserUrl,E=p.backPane,O=p.authUrl,T=e.settings.ua,C=("portal"===i?b:_).replace("login=login",r&&!c?"login="+r:"").replace("phone_number=phone_number",c?"phone_number="+encodeURIComponent(c):"").replace("country=country",u?"country="+u:""),P=Boolean(l&&l.indexOf("captcha")>-1),S=Boolean(T&&T.isTouch);return{registrationUrl:C,login:a,retpath:h,fretpath:m,clean:y,csrf:g,addUserUrl:v,backPane:E,isCanRegister:o,registrationLogin:r,hasCaptcha:P,authUrl:O,mode:f,isQRPromo2Enabled:s,isShowQRAuthPromoTooltip:s&&!S&&!d}}},"2dad848e8287918fdb83":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearErrors=function(){return{type:a}},t.setErrors=function(e){return{type:o,errors:e}},t.changeCaptchaAnswer=function(e){return{type:r,captchaAnswer:e}},t.changeCaptchaState=function(e){return{type:i,isCaptchaRequired:e}},t.changePhoneNumber=function(e){return{type:c,phoneNumber:e}},t.changeEmail=function(e){return{type:u,email:e}},t.changeConfirmationCode=function(e){return{type:l,confirmationCode:e}},t.changeConfirmationCodeSentStatus=function(e){return{type:s,isConfirmationCodeSent:e}},t.sentPhoneConfirmationCodeSuccess=function(e){return{type:d,payload:e}},t.sentEmailConfirmationCodeSuccess=function(){return{type:f}};var a=t.CLEAR_ERRORS="CLEAR_ERRORS",o=t.SET_ERRORS="SET_ERRORS",r=t.CHANGE_CAPTCHA_ANSWER="CHANGE_CAPTCHA_ANSWER",i=t.CHANGE_CAPTCHA_STATE="CHANGE_CAPTCHA_STATE",c=t.CHANGE_PHONE_NUMBER="CHANGE_PHONE_NUMBER",u=t.CHANGE_EMAIL="CHANGE_EMAIL",l=t.CHANGE_CONFIRMATION_CODE="CHANGE_CONFIRMATION_CODE",s=t.CHANGE_CONFIRMATION_CODE_SENT_STATUS="CHANGE_CONFIRMATION_CODE_SENT_STATUS",d=t.SENT_PHONE_CONFIRMATION_CODE_SUCCESS="SENT_PHONE_CONFIRMATION_CODE_SUCCESS",f=t.SENT_EMAIL_CONFIRMATION_CODE_SUCCESS="SENT_EMAIL_CONFIRMATION_CODE_SUCCESS"},"2de5c9c49c6d5989f45c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),o=n.captcha,r=o.introSound,i=o.captchaSound;r&&"function"==typeof r.stop&&r.stop(),i&&"function"==typeof i.stop&&i.stop(),e((0,a.changeCaptchaPlayStatus)(!1))}};var a=n("b24de1e495698d2f533b")},"2e00c83ced56b4015524":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){"text"===t().captcha.type?e((0,a.default)()):e((0,o.default)(!1))}};var a=r(n("ca24a59b6c35f0274ada")),o=r(n("e11671dbd7053ced2817"));function r(e){return e&&e.__esModule?e:{default:e}}},"3025578a00df69bdcb8e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.restoreLoginUrl,i=n.auth.mode;"restoreLogin"!==i&&(e((0,a.push)(r)),e((0,o.setupBackPane)(null)),e((0,o.switchToModeRestoreLoginSuccess)()))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},"311fad8e7fa58bbf8bec":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),a=n.captcha.captchaSound;a&&"function"==typeof a.play&&a.play()}}},"32f2686eeb882a4ae234":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),u=n.common,l=u.csrf,s=u.track_id,d=n.mailAuth,f=d.mailTrack,p=d.isEnabled,b=n.auth.processedAccount,_={csrf_token:l,track_id:f||s};a.default.request("auth/invalidate_magic_letter",_).done(function(t){if("ok"===t.status&&(e((0,o.setAuthMailCancelled)(!0)),r.default.send([i.AUTH_LETTER_INVALIDATE]),!f)){var n=p?"magic_link.invalidated":"messenger_link.invalidated";e((0,o.setAuthMailError)(n)),e((0,c.default)(b.login)),e((0,o.updateAuthMailStatus)(!0))}}).fail(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0]||"global";e((0,o.setAuthMailError)(n)),r.default.send([i.AUTH_LETTER_FAIL_AUTH])})}};var a=u(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=u(n("6720f7e94eecea453799")),i=n("2a8109ac628133d5b12f"),c=u(n("614b39f039bc9b9d408e"));function u(e){return e&&e.__esModule?e:{default:e}}},"342c6a6050f4abd31e48":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=(s(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=n("72bbe3add50f39ca7e72"),u=s(n("1c828d4515da2e1f9a20")),l=s(n("a5c230583b029017a5c8"));function s(e){return e&&e.__esModule?e:{default:e}}var d={enter:300,exit:300},f=["isCanRegister","isCaptchaRequired","isShowMobileMenu","isShowPagePopup","accounts","magicError","loginError","passwordError","captchaError","additionalDataErrors"],p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={transitionClassName:"",historyKeys:[]},n.changeContentHeight=n.changeContentHeight.bind(n),n.addRouteTransitionHandler=n.addRouteTransitionHandler.bind(n),n.removeRouteTransitionHandler=n.removeRouteTransitionHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this,a=this.props.location,o=e.location,r=e.history,i=this.state,c=i.transitionClassName,u=i.historyKeys,l="/auth"===a.pathname?"/auth/add":a.pathname,s="/auth"===o.pathname?"/auth/add":o.pathname,d=a.search,p=o.search;return!!f.some(function(t){return n.props[t]!==e[t]})||(c!==t.transitionClassName||(u.length!==t.historyKeys.length||(l!==s||d!==p)&&"replace"!==r.action.toLowerCase()))}},{key:"componentDidMount",value:function(){this.addRouteTransitionHandler()}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.state.historyKeys,a=this.props,o=a.location,r=a.history;if((0,u.default)(),t!==o&&t.pathname!==o.pathname)if(o.state&&o.state.isPreviousStep)this.setState(function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.concat([o.key])}});else if("push"!==r.action.toLowerCase()){var i=n[n.length-1-1];o.key!==i?this.setState(function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}}):this.setState(function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.slice(0,-1)}})}else this.setState(function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}})}},{key:"componentWillUnmount",value:function(){this.removeRouteTransitionHandler(),this.removeBrowserPageVisibilityStateHandler()}},{key:"addRouteTransitionHandler",value:function(){var e=document.querySelector(".passp-auth");e.style.height=e.scrollHeight+"px",e.addEventListener?e.addEventListener("transitionend",this.changeContentHeight):e.attachEvent("ontransitionend",this.changeContentHeight)}},{key:"removeRouteTransitionHandler",value:function(){var e=document.querySelector(".passp-auth");e.removeEventListener?e.removeEventListener("transitionend",this.changeContentHeight):e.detachEvent("ontransitionend",this.changeContentHeight)}},{key:"changeContentHeight",value:function(e){if("transform"===e.propertyName&&e.target.classList.contains("passp-route-exit")){var t=document.querySelector(".passp-auth"),n=t.style.transition;t.style.transition="";var a=document.querySelector(".passp-route-enter"),o=window.getComputedStyle(a),r=a.scrollHeight+124+parseInt(o.marginTop,10)+parseInt(o.marginBottom,10);window.requestAnimationFrame(function(){t.style.height=r+"px",t.style.transition=n})}}},{key:"render",value:function(){var e=this.props.location,t=this.state.transitionClassName;return r.default.createElement(c.TransitionGroup,{className:t},r.default.createElement(c.CSSTransition,{key:e.key,timeout:d,classNames:"passp-route",appear:!0},this.props.children))}}]),t}();t.default=(0,i.connect)(l.default)(p)},"34e58c9e2d9a1cf8fd9a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(s(n("8a2d1b95e05b6a321e74")),s(n("b912ecc4473ae8a2ff0b"))),u=s(n("1def7208fe0e21ce16a3")),l=s(n("7f0c15697e5a680030ab"));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleLangswitcherPopup=n.toggleLangswitcherPopup.bind(n),n.onOutsideClick=n.onOutsideClick.bind(n),n.state={langPopupOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){window.addEventListener?window.addEventListener("click",this.onOutsideClick):window.attachEvent("onclick",this.onOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"toggleLangswitcherPopup",value:function(e){e.stopPropagation(),this.setState(function(e){return{langPopupOpen:!e.langPopupOpen}})}},{key:"onOutsideClick",value:function(){this.setState({langPopupOpen:!1})}},{key:"render",value:function(){var e=this.props,n=e.tld,a=e.lang,o=e.options,i=e.currentYear,l=e.helpLink,s=e.hasSwitcher,d=this.state.langPopupOpen;return r.default.createElement("footer",{className:"passp-footer"},r.default.createElement("div",{className:"passp-footer__wrapper"},s&&r.default.createElement("span",{onKeyUp:t.handleEnterKey,className:"passp-footer__item"},r.default.createElement(u.default,{onClick:this.toggleLangswitcherPopup,theme:"normal",pseudo:!0,cls:"passp-footer__item-cap"},a),r.default.createElement("span",{className:(0,c.default)("passp-footer__lang-list",{"passp-footer__lang-list_opened":d,"passp-footer__lang-list_closed":!d})},r.default.createElement("ul",null,o.map(function(e,t){return r.default.createElement("li",{className:"passp-footer__lang-list-item",key:t},r.default.createElement(u.default,{theme:"normal",url:e.url},e.text))})))),r.default.createElement("span",{className:"passp-footer__item"},r.default.createElement(u.default,{url:l,theme:"normal",target:"_blank"},"Помощь")),r.default.createElement("span",{className:"passp-footer__item"},r.default.createElement("span",{className:"passp-footer__copyright"},"© "+("ru"===n?"2001-":"")+i+", "),r.default.createElement(u.default,{theme:"normal",url:"//yandex."+n},"Яндекс"))))}}],[{key:"handleEnterKey",value:function(e){13===e.keyCode&&e.target.click()}}]),t}();t.default=(0,i.connect)(l.default)(d)},"35fa35a6ddf0da461521":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.AUTH_MESSENGER_SENT:return Object.assign({},e,{isSent:!0,code:t.code});case a.SET_AUTH_MESSENGER_ERROR:return Object.assign({},e,{error:t.error});case o.AUTH_MAIL_CANCELLED:return Object.assign({},e,{isCancelled:t.status});case o.SET_AUTH_MAIL_DISABLED:return Object.assign({},e,{isEnabled:!1});case o.SET_AUTH_MAIL_ERROR:return Object.assign({},e,{error:t.error});default:return e}};var a=n("7ed68ea4ffabadd59750"),o=n("4ee320a8137784c050e0")},"360ec9d703334ea25de8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={setupMode:i.setupMode,setupPane:r.setupPane,authPasswordSubmitForMagic:o.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("4eace1c4b1c1b9d59cfe")),r=n("d980a6b4f65a3a13be8b"),i=n("4ee320a8137784c050e0")},"36a80cb99a6f08006fc5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.AUTH_MAIL_SENT:return Object.assign({},e,{isAuthMailSent:!0,code:t.code});case a.AUTH_MAIL_CONFIRMED:return Object.assign({},e,{isAuthConfirmed:!0});case a.AUTH_MAIL_CANCELLED:return Object.assign({},e,{isAuthCancelled:t.status});case a.TOGGLE_MAIL_SENT_TOOLTIP:return Object.assign({},e,{isAuthMailConfirmationVisible:t.isVisible});case a.SET_AUTH_MAIL_ERROR:return Object.assign({},e,{mailAuthError:t.error});case a.UPDATE_LOGIN_VALUE:return Object.assign({},e,{isAuthMailSent:!1,isAuthConfirmed:!1,isAuthCancelled:!1,isAuthMailConfirmationVisible:!1,mailAuthError:"",isUpdatedAuthLetterStatus:!1});case a.SET_AUTH_MAIL_UPDATED:return Object.assign({},e,{isUpdatedAuthLetterStatus:t.isUpdated});case a.SET_AUTH_MAIL_DISABLED:return Object.assign({},e,{isEnabled:!1});default:return e}};var a=n("4ee320a8137784c050e0")},"376afcf70180c39dfa41":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yes";return function(t,n){var c=n(),u=c.additionalDataRequest.track_id,l=c.common.csrf,s={track_id:u,csrf_token:l,user_declined:e};t((0,i.clearErrors)()),a.default.request("auth/additional_data/freeze_v2",s).done(function(){t((0,o.domikIsLoading)(!1)),t((0,r.default)())}).fail(function(){t((0,o.domikIsLoading)(!1)),t((0,r.default)())})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=c(n("7bec9e0f5607402a990d")),i=n("2dad848e8287918fdb83");function c(e){return e&&e.__esModule?e:{default:e}}},"3c1b3101563cb704ee07":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.common,n=t.magicUrl,o=t.addUserUrl,r=t.editUrl,i=e.auth,c=i.magicError,u=i.isFromLoginSuggest,l=i.form.login,s=i.magicTrack,d=i.magicCSRF,f=e.settings,p=f.tld,b=f.ua.isTouch,_=c&&(a.default[c]||a.default.global)||null;return{magicUrl:n,addUserUrl:o,editUrl:r,isFromLoginSuggest:u,trackId:s,magicCSRFToken:d,login:l,tld:p,isTouch:b,fieldError:_}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("f3e5b0b53b9a60481e9f"))},"3c1f4d4fa3f6ebca8253":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.settings,o=n.avatar,r=n.ua,i=e.common,c=i.embeddedauth_url,u=i.retpath,l=i.yu,s=i.origin,d=i.editUrl,f=t.account.uid,p=(0,a.default)({action:"switchTo",embeddedAuthUrl:c,retpath:u,yu:l,origin:s,uid:f});return{isTouch:r&&r.isTouch,fallbackUrl:p,avatarSettings:o,editUrl:d}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b20b60813c34dac7b6ce"))},"3e862ab11c8c2ccd9817":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=n("3aced5b508e7389026da"),u=f(n("b912ecc4473ae8a2ff0b")),l=(f(n("8a2d1b95e05b6a321e74")),f(n("1def7208fe0e21ce16a3"))),s=n("2a8109ac628133d5b12f"),d=f(n("6720f7e94eecea453799"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBack=n.handleBack.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleBack",value:function(e){e.preventDefault();var t=this.props,n=t.link,a=t.backPane,o=t.dispatch,r=t.mode;if(a)o((0,c.push)(a,{isPreviousStep:!0}));else if(n){var i={addingAccount:s.SHOW_LOGIN_FORM,edit:s.SHOW_SUGGEST_LIST,welcome:s.SHOW_PASSWORD_FORM};d.default.send([i[r],s.BACK_TO_SERVICE]),window.location=n}}},{key:"render",value:function(){var e=this.props,t=e.backPane,n=e.link;return r.default.createElement(l.default,{url:t||n||"#",theme:"normal",onClick:this.handleBack,cls:(0,u.default)("passp-previous-step-button",{"passp-previous-step-button_hidden":!t&&!n})},r.default.createElement("span",{className:"passp-previous-step-button__icon","data-pane":t,"data-link":n}))}}],[{key:"mapStateToProps",value:function(e){var t=e.common,n=t.pane,a=t.backPane,o=t.retpath,r=t.backpath,i=t.noreturn,c=e.auth.mode;return{backPane:n===a?null:a,link:!i&&(r||o),mode:c}}}]),t}();t.default=(0,i.connect)(p.mapStateToProps)(p)},"3f552ab013eb664d938f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.restoreLoginResultUrl,i=n.auth.mode;"restoreLoginResult"!==i&&(e((0,a.push)(r)),e((0,o.setupBackPane)(null)),e((0,o.switchToModeRestoreLoginResultSuccess)()))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},"400d618db20c4ff01c08":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var c=n(),u=c.common.addUserUrl;t((0,i.domikIsLoading)(!0)),o.default.request("auth/accounts").done(function(n){t((0,r.updateCSRF)(n.csrf)),t((0,i.showAccountsSuccess)(n.accounts)),e||0!==Object.keys(n.accounts.unitedAccounts).length||t((0,a.push)(u))}).fail(function(e){return t((0,i.showAccountsFail)(e.errors))}).always(function(){return t((0,i.domikIsLoading)(!1))})}};var a=n("3aced5b508e7389026da"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c")),r=n("d980a6b4f65a3a13be8b"),i=n("4ee320a8137784c050e0")},"4072be4ee13c92cdf2ce":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=g(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(g(n("8a2d1b95e05b6a321e74")),g(n("c076fa5b09b60deed733"))),u=g(n("8dae3155fb6dee0092b8")),l=g(n("f829dce6e807e79181ee")),s=g(n("5b1ba08c9bbd7767f36c")),d=g(n("ce71044ed50ae6df54b1")),f=g(n("415b2ec7a2c957bbe58a")),p=g(n("a1d676ee048a2b15fe67")),b=g(n("fcbfd009d184700124a8")),_=g(n("e5f7320146580cab6ff9")),h=g(n("dafcc85692a2c3d9f452")),m=g(n("376afcf70180c39dfa41")),y=g(n("f3e5b0b53b9a60481e9f"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleConfirmationCodeChange=n.handleConfirmationCodeChange.bind(n),n.approveEmail=n.approveEmail.bind(n),n.sentConfirmationCode=n.sentConfirmationCode.bind(n),n.goBack=n.goBack.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_email",null,"Показ")}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code","")}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approveEmail",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.confirmationCode;n(_.default,a)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.email;n(h.default,a)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_email",null,"Отложить"),t(m.default)}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,a=e.errors,o=e.email,i=null;return a.length&&(i=y.default[a[0]]?y.default[a[0]]:y.default.internal),r.default.createElement(b.default,{cls:"email-confirmation"},r.default.createElement(f.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:"Код подтверждения отправлен на почту %1, введите его в поле ниже:".replace("%1","<b>"+o+"</b>")}})),r.default.createElement(p.default,{cls:"email-confirmation"},r.default.createElement(l.default,{fieldLabel:"Код из письма",fieldValue:t,fieldName:"confirmation_code",fieldType:"text",fieldError:i,onFieldChange:this.handleConfirmationCodeChange}),n&&r.default.createElement(s.default,null),r.default.createElement("div",{className:"passp-button"},r.default.createElement(d.default,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:this.approveEmail})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(d.default,{buttonType:"button",buttonText:"Отправить ещё код",buttonTheme:"normal",onClick:this.sentConfirmationCode})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(d.default,{buttonType:"button",buttonText:"Подтвердить позже",buttonTheme:"normal",onClick:this.goBack}))))}}]),t}();t.default=(0,i.connect)(c.default,u.default)(v)},"410c72216bba39e80c40":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.csrf,i={csrf_token:r};o.default.request("reAuthPasswordSubmit",i).done(function(t){var n=t.track_id,o=t.csrf_token;e((0,a.updateMagicTokensSuccess)(n,o))})}};var a=n("4ee320a8137784c050e0"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c"))},"415b2ec7a2c957bbe58a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){var t=e.cls,n=e.children;return a.default.createElement("h1",{className:"passp-title "+(t||"")},n)};r.defaultProps={isPopupTitle:!1},t.default=r},"4361156a89db2be4395a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.restoreLoginProcessUrl,i=n.auth.mode;"restoreLoginProcess"!==i&&(e((0,a.push)(r)),e((0,o.setupBackPane)(null)),e((0,o.switchToModeRestoreLoginProcessSuccess)()))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},"4368a5920ed0ae125c88":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=y(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(y(n("8a2d1b95e05b6a321e74")),y(n("492f0884ca0d25627280"))),u=y(n("614b39f039bc9b9d408e")),l=y(n("fa93acbe643a2e0cfe93")),s=n("2a8109ac628133d5b12f"),d=y(n("6720f7e94eecea453799")),f=y(n("0698b1766c3773917931")),p=y(n("a529209de7dba1496ebb")),b=y(n("1def7208fe0e21ce16a3")),_=y(n("1e85d4dfe3ef0b693888")),h=y(n("f469c14f5c3cd24dad9a")),m=y(n("415b2ec7a2c957bbe58a"));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.switchToOTP=n.switchToOTP.bind(n),n.getMarkup=n.getMarkup.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.magicUrl,n=e.setupMode,a=e.setupPane,o=e.authPasswordSubmitForMagic;n("magic"),a(t),d.default.goal(s.SHOW_QR_FORM_GOAL),d.default.send([s.SHOW_QR_FORM]),o()}},{key:"componentDidUpdate",value:function(e){e.magicCSRFToken===this.props.magicCSRFToken&&e.trackId===this.props.trackId||l.default.restart()}},{key:"componentWillUnmount",value:function(){l.default.stop()}},{key:"switchToOTP",value:function(e){e.preventDefault();var t=this.props,n=t.switchToModeAddingAccount,a=t.forceOTPMethod,o=t.login,r=t.addUserUrl,i=t.editUrl,l=t.isSocialAccount,s=t.dispatch;if(o){a(!0);var d=l?i:r;s((0,c.default)(u.default,o,d))}else n()}},{key:"getMarkup",value:function(e,t){var n=this.props,a=n.isQRAuth,o=n.isFromLoginSuggest,r=n.hasMagicAuthMethod,i=["com","co.il","fr"].indexOf(e)>-1?"com":"ru";"com.tr"===e&&(i="com.tr");var c={MagicAuthTitlePart1:"Откройте приложение %s",MagicAuthTitlePart2:", введите пин-код и наведите камеру на QR-код:",QRAuthTitle:"Откройте приложение %1 или %2, нажмите на значок камеры и наведите её на QR-код\n",QRAuthTitlev2:"Откройте приложение %1 и наведите камеру на QR код для входа:",YandexKey:"Яндекс.Ключ",YandexApp:"Яндекс",YandexKeyTouchLink:"https://mobile.yandex.ru/apps/key",YandexKeyDesktopLink:"https://yandex."+i+"/support/passport/authorization/twofa.html",YandexAppLink:"https://ya.cc/2KMUJ"},u="<a tabindex='-1' class='link link_theme_normal' href='"+(t?c.YandexKeyTouchLink:c.YandexKeyDesktopLink)+"'>"+c.YandexKey+"</a>",l="<a tabindex='-1' class='link link_theme_normal' \n            href='"+c.YandexAppLink+"'>"+c.YandexApp+"</a>";return a?{__html:(o&&!r?c.QRAuthTitlev2:c.QRAuthTitle).replace("%1",l).replace("%2",u)}:{__html:""+c.MagicAuthTitlePart1.replace("%s",u)+c.MagicAuthTitlePart2}}},{key:"render",value:function(){var e=this.props,t=e.addUserUrl,n=e.trackId,a=e.tld,o=e.isTouch,i=e.fieldError,c=e.fallbackLinkText;return r.default.createElement(h.default,{cls:"magic"},r.default.createElement(m.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:this.getMarkup(a,o)})),r.default.createElement(_.default,{trackId:n,fieldError:i}),r.default.createElement(b.default,{cls:"passp-otp-link",url:t,onClick:this.switchToOTP,theme:"normal"},c))}}]),t}();t.default=(0,i.connect)(f.default,p.default)(g)},"43ddd0574412f3c99762":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var l=n(),s=l.settings.lang,d=l.common.csrf,f={csrf_token:d,phone_id:e,display_language:s};t((0,o.clearErrors)()),a.default.request("phone/manage/prolong_valid_v2",f).done(function(){t((0,c.default)("approve_actual_phone","Показ актуализации телефона","Актуализация номера")),t((0,r.default)("no"))}).fail(function(e){-1===e.errors.indexOf("password.required")?(t((0,o.setErrors)(e.errors)),t((0,u.domikIsLoading)(!1))):t((0,i.default)())})}};var a=l(n("fb6358edfd8976cf491c")),o=n("2dad848e8287918fdb83"),r=l(n("376afcf70180c39dfa41")),i=l(n("bb35215c4a46a2d07b5f")),c=l(n("c1c5f474e631e6348cde")),u=n("4ee320a8137784c050e0");function l(e){return e&&e.__esModule?e:{default:e}}},"44cf7cc3e87e91eeaaf7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("27361837e9c8186338e3"),c=n("d7dd51e1bf6bfc2c9c3d"),u=(f(n("8a2d1b95e05b6a321e74")),f(n("1def7208fe0e21ce16a3"))),l=n("4ee320a8137784c050e0"),s=f(n("a3c2d05881d3875b5dbb")),d=f(n("8150816e8c486cf8a0f0"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.switchToModeAddingAccount,a=t.updateLoginValue,o=t.setLoginError,r=t.changeNativeInputValue;e.preventDefault(),a(""),r("login",""),o(null),n()}},{key:"render",value:function(){var e=this.props.addUserUrl;return r.default.createElement(u.default,{url:e,theme:"normal",onClick:this.handleClick,cls:"passp-account-list__sign-in-button"},r.default.createElement("span",{className:"passp-account-list__sign-in-icon"},r.default.createElement("span",{className:"passp-account-list__sign-in-icon-helpers"},r.default.createElement("span",{className:"passp-account-list__sign-in-icon-helper1"}),r.default.createElement("span",{className:"passp-account-list__sign-in-icon-helper2"}))),r.default.createElement("span",{className:"passp-account-list__sign-in-button-text"},"Войти в другой аккаунт"))}}],[{key:"mapStateToProps",value:function(e){return{addUserUrl:e.common.addUserUrl}}},{key:"mapDispatchToProps",value:function(e){var t={switchToModeAddingAccount:s.default,updateLoginValue:l.updateLoginValue,setLoginError:l.setLoginError,changeNativeInputValue:d.default};return Object.assign({},(0,i.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,c.connect)(p.mapStateToProps,p.mapDispatchToProps)(p)},"44d4b8d069a581a33217":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{phoneError:e.restoreLogin.errors.phone||""}}},"44da5fe6d25cbcf41044":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.SWITCH_TO_MODE_RESTORE_LOGIN:return r;case a.CHANGE_PHONE:return Object.assign({},e,{phone:t.phone});case a.CHANGE_FIRST_NAME:return Object.assign({},e,{firstName:t.firstName});case a.CHANGE_LAST_NAME:return Object.assign({},e,{lastName:t.lastName});case a.SET_SUGGESTED_ACCOUNTS:return Object.assign({},e,{accounts:t.accounts});case a.CHANGE_CHECK_PHONE_STATUS:return Object.assign({},e,{isPhoneCheckSent:!e.isPhoneCheckSent});case a.SET_ERRORS:return Object.assign({},e,{errors:t.errors});case a.CLEAR_ERRORS:return Object.assign({},e,{errors:{}});default:return e}};var a=n("b2d0f77fd033b41cb6bc"),o=n("4ee320a8137784c050e0"),r={phone:"",firstName:"",lastName:"",isPhoneCheckSent:!1,accounts:[],errors:{}}},"4589c07dfb5f37a60c4a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.restoreLogin,n=t.accounts,a=t.errors.phone,o=e.settings.avatar,r=e.common,i=r.restoreLoginUrl,c=r.addUserWithLoginUrl,u=r.addUserUrl,l="https://"+o.host+o.pathname,s=(n||[]).length>0,d=Boolean(a&&"notFound"===a);return{accounts:n,hasAccounts:s,avatarPath:l,restoreLoginUrl:i,addUserWithLoginUrl:c,addUserUrl:u,isNotFoundPhoneError:d}}},"47b80c31b4ddd2e9b923":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.CHANGE_CAPTCHA_ANSWER:return Object.assign({},e,{captchaAnswer:t.captchaAnswer});case a.CHANGE_CAPTCHA_STATE:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case a.CHANGE_PHONE_NUMBER:return Object.assign({},e,{phone:Object.assign(e.phone,{number:t.phoneNumber})});case a.CHANGE_EMAIL:return Object.assign({},e,{email:t.email});case a.CHANGE_CONFIRMATION_CODE:return Object.assign({},e,{confirmationCode:t.confirmationCode});case a.CHANGE_CONFIRMATION_CODE_SENT_STATUS:return Object.assign({},e,{isConfirmationCodeSent:t.isConfirmationCodeSent});case a.SENT_EMAIL_CONFIRMATION_CODE_SUCCESS:return Object.assign({},e,{isConfirmationCodeSent:!0});case a.SENT_PHONE_CONFIRMATION_CODE_SUCCESS:var n=t.payload;return Object.assign({},e,{phone:Object.assign(e.phone,{number:n.number.original}),denyResendUntil:1e3*n.deny_resend_until,isConfirmationCodeSent:!0});case a.CLEAR_ERRORS:return Object.assign({},e,{errors:[]});case a.SET_ERRORS:var r=t.errors,i=Boolean(r.join(",").match(/captcha\./));return Object.assign({},e,{errors:r,isCaptchaRequired:i});case o.INIT_ADDITIONAL_DATA_REQUEST:var c=t.payload,u={};if(Object.assign(u,{status:"ok",isConfirmationCodeSent:!1,isCaptchaRequired:!1,confirmationCode:"",errors:[],denyResendUntil:null}),c&&c.state){var l=c.phone,s=c.email,d=c.social,f=c.track_id;Object.assign(u,{state:c.state,action:c.action,track_id:f}),"email"===c.state?u[c.state]=s||"":u[c.state]=l||d||{},"phone"===c.state&&(u.phone.id=String(u.phone.id||""),u.phone.number=String(u.phone.number||""))}return Object.assign({},u);default:return e}};var a=n("2dad848e8287918fdb83"),o=n("4ee320a8137784c050e0")},"492f0884ca0d25627280":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t,r){var i=r();t((0,o.domikIsLoading)(!0)),i.auth.isCaptchaRequired?t((0,a.default)(e,n)):t(e.apply(void 0,n))}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("887066909d91988c03a4")),o=n("4ee320a8137784c050e0")},"49ee5dddfd8832afebe2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{confirmPhone:function(){return e((0,a.default)())},checkPhone:function(){return e((0,r.default)())},changeCheckPhoneStatus:function(){return e((0,o.changeCheckPhoneStatus)())}}};var a=i(n("bf544cefb06e388421f9")),o=n("b2d0f77fd033b41cb6bc"),r=i(n("7db34b3d0bca6392a74a"));function i(e){return e&&e.__esModule?e:{default:e}}},"4b89f6d4ff311c5307f2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthLetterButton=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=y(o),i=(y(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=y(n("b912ecc4473ae8a2ff0b")),u=y(n("1c828d4515da2e1f9a20")),l=y(n("d3959c63d47d0a3395f0")),s=y(n("5d51df58f5a0fa2181cb")),d=y(n("887066909d91988c03a4")),f=y(n("7480964e971a7ed927ee")),p=n("4ee320a8137784c050e0"),b=y(n("630a74f01d0a21892d92")),_=y(n("77f681800336a30ab2e7")),h=n("2a8109ac628133d5b12f"),m=y(n("6720f7e94eecea453799"));function y(e){return e&&e.__esModule?e:{default:e}}var g=t.AuthLetterButton=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAuthLetter=n.handleAuthLetter.bind(n),n.handleCaptcha=n.handleCaptcha.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){m.default.send([h.SHOW_AUTH_LETTER_BUTTON])}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,p.setAuthMailError)("")),(0,u.default)()}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&((0,u.default)(),setTimeout(function(){t.props.dispatch((0,p.setAuthMailError)(""))},6e3))}},{key:"handleAuthLetter",value:function(){var e=this.props,t=e.isAuthMailConfirmationVisible,n=e.isAuthLetterStatusChecking,a=e.dispatch;if(n&&!t)return a((0,p.changePagePopupVisibility)(!0)),void a((0,p.changePagePopupType)("authLetter"));a((0,s.default)(!0)),m.default.send([h.CLICK_AUTH_LETTER_BUTTON])}},{key:"handleCaptcha",value:function(e){e.preventDefault(),this.props.dispatch((0,d.default)(f.default))}},{key:"render",value:function(){var e=this.props,t=e.isAuthMailSent,n=e.isCaptchaRequired,a=e.isShouldBeDisabled,o=e.email,i=e.error,u=e.buttonText,l=e.descriptionText,s=e.titleRequired;return n?r.default.createElement(b.default,{handleCaptcha:this.handleCaptcha}):r.default.createElement("div",{className:"al-button__wrapper"},s&&r.default.createElement("div",{className:"al-title"},"Не хотите вводить пароль?"),r.default.createElement("button",{className:(0,c.default)("al-button",{"al-button-disabled":a}),onClick:this.handleAuthLetter,disabled:a,type:"button"},r.default.createElement("span",{className:"al-button__icon","aria-hidden":"true"}),u),!t&&o&&r.default.createElement("div",{className:"al-description",dangerouslySetInnerHTML:{__html:l}}),r.default.createElement(_.default,{isVisible:Boolean(i&&!n)},i))}}]),t}();t.default=(0,i.connect)(l.default)(g)},"4d6111b200ed4957f4a6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=(d(n("8a2d1b95e05b6a321e74")),d(n("f829dce6e807e79181ee"))),c=d(n("5b1ba08c9bbd7767f36c")),u=d(n("ce71044ed50ae6df54b1")),l=d(n("a1d676ee048a2b15fe67")),s=d(n("f3e5b0b53b9a60481e9f"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.isCaptchaRequired,a=e.errors,o=e.handleEmailChange,d=e.sentConfirmationCode,f=e.goBack,p=e.action,b=null;return a.length&&(b=s.default[a[0]]?s.default[a[0]]:s.default.internal),r.default.createElement(l.default,{cls:"enter-email"},r.default.createElement(i.default,{fieldLabel:"Адрес дополнительной почты",fieldValue:t,fieldName:"additional_email",fieldType:"text",fieldError:b,onFieldChange:o}),n&&r.default.createElement(c.default,null),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"submit",buttonText:"add"===p?"Добавить":"Подтвердить",buttonTheme:"action",onClick:d})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:f})))}}]),t}();t.default=f},"4d617d801a577ae80099":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=u(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(u(n("8a2d1b95e05b6a321e74")),u(n("400d618db20c4ff01c08")));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addBrowserPageVisibilityStateHandler=n.addBrowserPageVisibilityStateHandler.bind(n),n.handleBrowserPageVisibilityState=n.handleBrowserPageVisibilityState.bind(n),n.removeBrowserPageVisibilityStateHandler=n.removeBrowserPageVisibilityStateHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.addBrowserPageVisibilityStateHandler()}},{key:"componentWillUnmount",value:function(){this.removeBrowserPageVisibilityStateHandler()}},{key:"addBrowserPageVisibilityStateHandler",value:function(){document.addEventListener?document.addEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.attachEventListener("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"removeBrowserPageVisibilityStateHandler",value:function(){document.removeEventListener?document.removeEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.detachEvent("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"handleBrowserPageVisibilityState",value:function(){var e=this.props.dispatch;"visible"===document.visibilityState&&e((0,c.default)(!0))}},{key:"render",value:function(){return r.default.createElement("div",{className:"passp-page-visibility"})}}]),t}();t.default=(0,i.connect)()(l)},"4eace1c4b1c1b9d59cfe":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),c=n.common,u=c.profile_url,l=c.retpath,s=c.fretpath,d=c.clean,f=c.origin,p={retpath:l||u,fretpath:s,clean:d,origin:f};e((0,o.domikIsLoading)(!0)),a.default.request("auth/password/submit",p).done(function(t){var n=t.track_id,a=t.csrf_token;e((0,o.updateMagicTokensSuccess)(n,a)),i.default.start()}).fail(function(){e((0,r.default)())}).always(function(){return e((0,o.domikIsLoading)(!1))})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=c(n("400d618db20c4ff01c08")),i=c(n("fa93acbe643a2e0cfe93"));function c(e){return e&&e.__esModule?e:{default:e}}},"4ee320a8137784c050e0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domikIsLoading=function(e){return{type:g,loading:e}},t.updateLoginValue=function(e){return{type:a,value:e}},t.changeProcessedAccount=function(e){return{type:c,account:e}},t.updatePasswordValue=function(e){return{type:o,value:e}},t.updateCaptchaValue=function(e){return{type:U,value:e}},t.updateTokensSuccess=function(e,t){return{type:r,track_id:e,csrf_token:t}},t.updateMagicTokensSuccess=function(e,t){return{type:i,track:e,csrf:t}},t.canRegister=function(e){var t=e.isCanRegister,n=e.registrationLogin,a=e.registrationType,o=e.registrationPhoneNumber,r=e.registrationCountry;return{type:N,isCanRegister:t,registrationLogin:n,registrationType:a,registrationPhoneNumber:o,registrationCountry:r}},t.setupBackPane=function(e){return{type:A,pane:e}},t.setLoginError=function(e){return{type:w,error:e}},t.setPasswordError=function(e){return{type:k,error:e}},t.setCaptchaError=function(e){return{type:M,error:e}},t.setMagicError=function(e){return{type:R,error:e}},t.changeCaptchaState=function(e){return{type:j,isCaptchaRequired:e}},t.setupMode=function(e){return{type:L,mode:e}},t.forceOTPMethod=function(e){return{type:I,isForceOTP:e}},t.changeMobileMenuVisibility=function(e){return{type:u,visible:e}},t.changeMobileMenuType=function(e){return{type:l,mobileMenuType:e}},t.changePagePopupVisibility=function(e){return{type:d,visible:e}},t.changePagePopupType=function(e){return{type:f,pagePopupType:e}},t.setProccessedAccountUid=function(e){return{type:s,processedAccountUid:e}},t.setAuthMailSent=function(e){return{type:D,code:e}},t.setAuthMailConfirmed=function(e){return{type:H,status:e}},t.setAuthMailCancelled=function(e){return{type:x,status:e}},t.setAuthMailError=function(e){return{type:G,error:e}},t.updateAuthMailStatus=function(e){return{type:F,isUpdated:e}},t.setMagicLinkDisabled=function(){return{type:W}},t.loginSuggestedAccountSuccess=function(e){return{type:p,account:e}},t.inputLoginSuccess=function(e){return{type:h,inputLogin:e}},t.showAccountsSuccess=function(e){return{type:m,accounts:e}},t.showAccountsFail=function(e){return{type:y,errors:e}},t.switchToModeAddingAccountSuccess=function(){return{type:C}},t.switchToModeEditSuccess=function(){return{type:v}},t.switchToModeMagicSuccess=function(e){return{type:S,isFromLoginSuggest:e}},t.switchToModeWelcomeSuccess=function(){return{type:P}},t.switchToModeRestoreLoginSuccess=function(){return{type:E}},t.switchToModeRestoreLoginProcessSuccess=function(){return{type:O}},t.switchToModeRestoreLoginResultSuccess=function(){return{type:T}},t.redirectToRetpathSuccess=function(){return{type:b}},t.redirectToBackpathSuccess=function(){return{type:_}},t.initAdditionalDataRequest=function(e){return{type:B,payload:e}},t.redirect=function(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)};var a=t.UPDATE_LOGIN_VALUE="UPDATE_LOGIN_VALUE",o=t.UPDATE_PASSWORD_VALUE="UPDATE_PASSWORD_VALUE",r=t.UPDATE_TOKENS_SUCCESS="UPDATE_TOKENS_SUCCESS",i=t.UPDATE_MAGIC_TOKENS_SUCCESS="UPDATE_MAGIC_TOKENS_SUCCESS",c=t.CHANGE_PROCESSED_ACCOUNT="CHANGE_PROCESSED_ACCOUNT",u=t.CHANGE_MOBILE_MENU_VISIBILITY="CHANGE_MOBILE_MENU_VISIBILITY",l=t.CHANGE_MOBILE_MENU_TYPE="CHANGE_MOBILE_MENU_TYPE",s=t.SET_PROCESSED_ACCOUNT_UID="SET_PROCESSED_ACCOUNT_UID",d=t.CHANGE_PAGE_POPUP_VISIBILITY="CHANGE_PAGE_POPUP_VISIBILITY",f=t.CHANGE_PAGE_POPUP_TYPE="CHANGE_PAGE_POPUP_TYPE",p=(t.CHANGE_ACTIVE_ACCOUNT="CHANGE_ACTIVE_ACCOUNT",t.LOGIN_SUGGESTED_ACCOUNT="LOGIN_SUGGESTED_ACCOUNT"),b=t.REDIRECT_TO_RETPATH="REDIRECT_TO_RETPATH",_=t.REDIRECT_TO_BACKPATH="REDIRECT_TO_BACKPATH",h=t.INPUT_LOGIN_SUCCESS="INPUT_LOGIN_SUCCESS",m=t.SHOW_ACCOUNTS_SUCCESS="SHOW_ACCOUNTS_SUCCESS",y=t.SHOW_ACCOUNTS_FAIL="SHOW_ACCOUNTS_FAIL",g=t.DOMIK_IS_LOADING="DOMIK_IS_LOADING",v=t.SWITCH_TO_MODE_EDIT="SWITCH_TO_MODE_EDIT",E=t.SWITCH_TO_MODE_RESTORE_LOGIN="SWITCH_TO_MODE_RESTORE_LOGIN",O=t.SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS="SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS",T=t.SWITCH_TO_MODE_RESTORE_LOGIN_RESULT="SWITCH_TO_MODE_RESTORE_LOGIN_RESULT",C=t.SWITCH_TO_MODE_ADDING_ACCOUNT="SWITCH_TO_MODE_ADDING_ACCOUNT",P=t.SWITCH_TO_MODE_WELCOME="SWITCH_TO_MODE_WELCOME",S=t.SWITCH_TO_MODE_MAGIC="SWITCH_TO_MODE_MAGIC",A=t.SETUP_BACK_PANE="SETUP_BACK_PANE",w=t.SET_LOGIN_ERROR="SET_LOGIN_ERROR",k=t.SET_PASSWORD_ERROR="SET_PASSWORD_ERROR",M=t.SET_CAPTCHA_ERROR="SET_CAPTCHA_ERROR",R=t.SET_MAGIC_ERROR="SET_MAGIC_ERROR",N=t.CAN_REGISTER="CAN_REGISTER",j=t.CHANGE_CAPTCHA_STATE="CHANGE_CAPTCHA_STATE",U=t.UPDATE_CAPTCHA_VALUE="UPDATE_CAPTCHA_VALUE",I=t.FORCE_OTP_METHOD="FORCE_OTP_METHOD",L=t.SETUP_MODE="SETUP_MODE",D=(t.TOGGLE_MAIL_SENT_TOOLTIP="TOGGLE_MAIL_SENT_TOOLTIP",t.AUTH_MAIL_SENT="AUTH_MAIL_SENT"),H=t.AUTH_MAIL_CONFIRMED="AUTH_MAIL_CONFIRMED",x=t.AUTH_MAIL_CANCELLED="AUTH_MAIL_CANCELLED",G=t.SET_AUTH_MAIL_ERROR="SET_AUTH_MAIL_ERROR",F=t.SET_AUTH_MAIL_UPDATED="SET_AUTH_MAIL_UPDATED",W=t.SET_AUTH_MAIL_DISABLED="SET_AUTH_MAIL_DISABLED",B=t.INIT_ADDITIONAL_DATA_REQUEST="INIT_ADDITIONAL_DATA_REQUEST"},"52d9fd07e1608f87903b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{changePhone:function(t){return e((0,a.changePhone)(t))},changeCaptchaState:function(t){return e((0,i.changeCaptchaState)(t))},getTrack:function(){return e((0,o.default)())},checkPhone:function(){return e((0,r.default)())},setupBackPane:function(t){return e((0,i.setupBackPane)(t))},changeNativeInputValue:function(t,n){return e((0,c.default)(t,n))}}};var a=n("b2d0f77fd033b41cb6bc"),o=u(n("722170a77da63173c100")),r=u(n("7db34b3d0bca6392a74a")),i=n("4ee320a8137784c050e0"),c=u(n("8150816e8c486cf8a0f0"));function u(e){return e&&e.__esModule?e:{default:e}}},"5473a41a79acc5e35b6e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n("99d31cffdbf327a0604b")),o=c(n("199afe915d0301db3224")),r=n("a7262dc46759c15aec75"),i=c(n("6720f7e94eecea453799"));function c(e){return e&&e.__esModule?e:{default:e}}var u=void 0,l={init:function(e){var t=(u=e).getState(),n=t.social,r=t.customs.display,i={},c=this,l=t.common.retpath||location.protocol+"//"+location.host+"/profile";"yandex"===t.common.origin&&(l=t.common.backpath||location.protocol+"//"+location.host+"/profile"),i.resize=1,i.startUrl=n.brokerParams.startUrl,("popup"===r||"touch"===r||a.default.isTouch)&&(i.display="touch",i.retnopopup=l),window.addEventListener?window.addEventListener("message",c.onSuccess):window.attachEvent("onmessage",c.onSuccess),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname),window.socialResponse=function(e){c.onSuccess({origin:location.origin,data:e})},o.default.init(i)},onSuccess:function(e){var t=u.getState(),n=t.common.origin;e.origin===location.origin&&e.data.socialAuth&&(t.common.pane.match(/\/auth\/social/)||("ok"===e.data.status?(i.default.goal(r.ONE_DOMIK_GOAL_PREFIX+"_social_auth_success"),i.default.send(["Успешная соцавторизация"]),"yandex"===n?u.dispatch((0,r.redirectToBackpath)()):u.dispatch((0,r.redirectToRetpath)())):(i.default.goal(r.ONE_DOMIK_GOAL_PREFIX+"_social_auth_fail"),i.default.send(["Безуспешная соцавторизация"]))))},start:function(e){o.default.start(e)}};t.default=l},"54e87e818f78ae30bfd7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthMessengerButton=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=(f(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=f(n("a23cf05af20146052ad3")),u=f(n("9e21ce072b9980bb7099")),l=f(n("77f681800336a30ab2e7")),s=f(n("630a74f01d0a21892d92")),d=f(n("1c828d4515da2e1f9a20"));function f(e){return e&&e.__esModule?e:{default:e}}var p=t.AuthMessengerButton=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillUnmount",value:function(){this.props.setAuthMessengerError(""),(0,d.default)()}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&((0,d.default)(),setTimeout(function(){t.props.setAuthMessengerError("")},6e3))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isCaptchaRequired;return n?r.default.createElement(s.default,{handleCaptcha:this.props.handleCaptcha}):r.default.createElement("div",{className:"al-button__wrapper"},r.default.createElement("button",{className:"al-button",onClick:this.props.sendRequestToMessenger,type:"button"},r.default.createElement("span",{className:"al-button__icon","aria-hidden":"true"}),"Войти без пароля"),r.default.createElement("div",{className:"al-description"},"Подтвердите вход с помощью приложения Яндекс на мобильном"),r.default.createElement(l.default,{isVisible:Boolean(t&&!n)},t))}}]),t}();t.default=(0,i.connect)(c.default,u.default)(p)},"55621460a7f2ac679428":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={redirectToRetpath:r.default,logoutAccount:i.default,changeMobileMenuVisibility:o.changeMobileMenuVisibility,changeMobileMenuType:o.changeMobileMenuType,setProccessedAccountUid:o.setProccessedAccountUid};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("4ee320a8137784c050e0"),r=c(n("7bec9e0f5607402a990d")),i=c(n("dabe4e15a14257fec3c9"));function c(e){return e&&e.__esModule?e:{default:e}}},"573c88a2fcf19180eb5f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=T(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(T(n("8a2d1b95e05b6a321e74")),T(n("b912ecc4473ae8a2ff0b"))),u=T(n("1def7208fe0e21ce16a3")),l=T(n("14ba22521ff803c76888")),s=T(n("3b099b882189775d0404")),d=T(n("df082eebca57bc13f720")),f=T(n("3e862ab11c8c2ccd9817")),p=T(n("c518566eeaa42dd53309")),b=T(n("22f09ca8e62af3f653cf")),_=T(n("34e58c9e2d9a1cf8fd9a")),h=n("2a8109ac628133d5b12f"),m=T(n("6720f7e94eecea453799")),y=T(n("5bbec79c8fb167a933d5")),g=n("4ee320a8137784c050e0"),v=T(n("a3c2d05881d3875b5dbb")),E=T(n("8150816e8c486cf8a0f0")),O=T(n("b121c4bc383810f1ee5a"));function T(e){return e&&e.__esModule?e:{default:e}}var C=["/auth","/auth/add","/auth/list"],P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendRegisterMetrics=n.sendRegisterMetrics.bind(n),n.sendAnotherAccountMetrics=n.sendAnotherAccountMetrics.bind(n),n.switchToListPage=n.switchToListPage.bind(n),n.switchToLoginPage=n.switchToLoginPage.bind(n),n.isRuLogo=!e.lang||-1!==["ru","uk"].indexOf(e.lang),n.logoName="ys-"+(n.isRuLogo?"ru":"en")+"-"+(n.isRuLogo?"98":"102")+"x42",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"sendRegisterMetrics",value:function(){var e=this.props.mode,t={addingAccount:h.SHOW_LOGIN_FORM,edit:h.SHOW_SUGGEST_LIST,welcome:h.SHOW_PASSWORD_FORM};m.default.send([t[e],h.CLICK_REGISTRATION_LINK])}},{key:"sendAnotherAccountMetrics",value:function(){var e=this.props.mode,t={addingAccount:h.SHOW_LOGIN_FORM,edit:h.SHOW_SUGGEST_LIST,welcome:h.SHOW_PASSWORD_FORM};m.default.send([t[e],h.CLICK_ANOTHER_ACCOUNT_LINK])}},{key:"switchToListPage",value:function(e){e.preventDefault();var t=this.props,n=t.accounts,a=t.isShowPagePopup,o=t.dispatch;this.sendAnotherAccountMetrics(),a&&o((0,g.changePagePopupVisibility)(!1)),Object.keys(n).length>0?o((0,y.default)()):(o((0,g.updateLoginValue)("")),o((0,E.default)("login","")),o((0,v.default)()))}},{key:"switchToLoginPage",value:function(e){e.preventDefault();var t=this.props.dispatch;t((0,g.updateLoginValue)("")),t((0,g.changePagePopupVisibility)(!1)),t((0,g.changePagePopupType)("")),t((0,E.default)("login","")),t((0,v.default)())}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.registrationUrl,a=e.editUrl,o=e.addUserUrl,i=e.tld,h=e.bgNumber,m=e.minimal,y=e.isTouch,g=e.isShowMobileMenu,v=e.isShowPagePopup,E=e.isRestoreLoginMode,O=e.isQRPromo1Enabled,T=e.isQRPromo2Enabled,P=e.mode,S=C.indexOf(t.pathname)>-1;return r.default.createElement("div",{className:(0,c.default)("passp-page",{"passp-page_minimal":m,"passp-show-mobile-menu":y&&g})},r.default.createElement(s.default,null),r.default.createElement("div",{className:"passp-bg passp-bg_"+h}),r.default.createElement("div",{className:"passp-content"},O&&r.default.createElement("div",{id:"qr-promo-tooltip",className:"qr-promo__tooltip qr-promo__tooltip-1"},"Входите с помощью приложения Яндекс"),T&&r.default.createElement("div",{id:"qr-promo-tooltip",className:"qr-promo__tooltip qr-promo__tooltip-2"},r.default.createElement("div",{className:"qr-promo__tooltip-image"}),r.default.createElement("div",{className:"qr-promo__tooltip-text"},"Входите с помощью приложения Яндекс")),r.default.createElement("div",{className:"passp-auth"},r.default.createElement(d.default,null),r.default.createElement(f.default,null),r.default.createElement("div",{className:"passp-auth-header"},!m&&r.default.createElement(u.default,{cls:(0,c.default)("passp-auth-header-link",{"passp-auth-header-link_visible":S}),onClick:this.sendRegisterMetrics,url:n,theme:"normal"},"Зарегистрироваться"),E?r.default.createElement(u.default,{cls:"passp-auth-header-link passp-auth-header-link_visible",onClick:this.switchToLoginPage,url:o,theme:"normal"},"Я вспомнил логин"):r.default.createElement(u.default,{cls:(0,c.default)("passp-auth-header-link",{"passp-auth-header-link_visible":!S&&P}),onClick:this.switchToListPage,url:a,theme:"normal"},"Другой аккаунт"),r.default.createElement(l.default,{cls:(0,c.default)("passp-logo",{"passp-logo_ru":this.isRuLogo,"passp-logo_qr-promo":"magic"===P&&(O||T)}),name:this.logoName,type:"link",tabIndex:"-1",url:"//yandex."+i})),r.default.createElement("div",{className:"passp-auth-content"},this.props.children),y&&r.default.createElement(p.default,null),v&&r.default.createElement(b.default,null),r.default.createElement("iframe",{className:"passp-iframe",name:"iframe",src:"about:blank"}))),r.default.createElement(_.default,null))}}]),t}();t.default=(0,i.connect)(O.default)(P)},"57a16c95b6e173614d88":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=d(n("8af190b70a6bc55c6f1b")),r=(d(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),i=n("91409e3157f4cc61f11f"),c=d(n("573c88a2fcf19180eb5f")),u=d(n("342c6a6050f4abd31e48")),l=d(n("4d617d801a577ae80099")),s=d(n("5ca44d31a363ec082218"));function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.withRouter)((0,r.connect)(function(e){var t=e.auth;return{isFromLoginSuggest:t.isFromLoginSuggest,isAdditionalDataRequestEnabled:t.isAdditionalDataRequestEnabled,isQRPromo1Enabled:t.isQRPromo1Enabled,isQRPromo2Enabled:t.isQRPromo2Enabled}})(function(e){var t=e.location,n=e.history,r=e.isFromLoginSuggest,d=e.isAdditionalDataRequestEnabled,f=e.isQRPromo1Enabled,p=e.isQRPromo2Enabled,b=(0,s.default)();return d&&(b=(0,s.default)("isAdditionalDataRequestEnabled")),r&&(f||p)&&(b=(0,s.default)("isQRPromoEnabled")),o.default.createElement(c.default,{location:t},o.default.createElement(l.default,null),o.default.createElement(u.default,{location:t,history:n},o.default.createElement(i.Switch,{location:t},b.map(function(e){return o.default.createElement(i.Route,a({key:e.path},e))}))))}))},"59a79a597a3c3539dd27":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),l=n.common,s=l.askEmailUrl,d=l.askPhoneUrl;a.default.request("auth/accounts").done(function(t){var n={csrf_token:t.csrf,uid:t.accounts.defaultAccount&&t.accounts.defaultAccount.uid};e((0,o.updateCSRF)(t.csrf)),a.default.request("auth/additional_data/ask_v2",n).done(function(t){var n=t.state;return e((0,u.initAdditionalDataRequest)(t)),e((0,u.setupBackPane)(null)),"phone"===n?(e((0,c.default)()),void e((0,r.push)(d))):"email"===n?(e((0,c.default)()),void e((0,r.push)(s))):void e((0,i.default)())}).fail(function(){e((0,i.default)())})}).fail(function(){e((0,i.default)())})}};var a=l(n("fb6358edfd8976cf491c")),o=n("d980a6b4f65a3a13be8b"),r=n("3aced5b508e7389026da"),i=l(n("7bec9e0f5607402a990d")),c=l(n("400d618db20c4ff01c08")),u=n("4ee320a8137784c050e0");function l(e){return e&&e.__esModule?e:{default:e}}},"5ae6357351fffc3d4dc4":function(e,t,n){"use strict";n("fb1015b849d9a302a920"),n("29afd0734b013bb38bcc"),n("eca537d636f49b157ed8"),n("82358643b094698c859b");var a=m(n("99d31cffdbf327a0604b")),o=m(n("8af190b70a6bc55c6f1b")),r=m(n("63f14ac74ce296f77f4d")),i=n("d7dd51e1bf6bfc2c9c3d"),c=n("3aced5b508e7389026da"),u=m(n("89fa59dfd48f288c4600")),l=m(n("fb6358edfd8976cf491c")),s=m(n("57a16c95b6e173614d88")),d=m(n("a684d6c85e32bf428d22")),f=m(n("d6b450235dea56f14038")),p=m(n("fa93acbe643a2e0cfe93")),b=m(n("041bd6492602bccda0c8")),_=m(n("6720f7e94eecea453799")),h=m(n("b3e5f07f6776122055c4"));function m(e){return e&&e.__esModule?e:{default:e}}n("3da6e706e32fb073eff8"),n("be200975e9e0adf66a82"),n("587391ef0a5fa4f84c07"),$(function(){var e=$("body"),t=e.data("csrf"),n=e.data("locals")||{};n.common.csrf=t;var m=n.common.pane,y=(0,u.default)();m&&y.replace(m+location.search);var g=(0,d.default)(n,y),v=g.getState().social;m&&g.dispatch((0,c.replace)(m+location.search)),e.removeAttr("data-locals"),a.default.init(),l.default.init(g),v&&v.brokerParams&&f.default.init(g),p.default.init(g),b.default.init(g),_.default.init(g),h.default.init(g),r.default.render(o.default.createElement(i.Provider,{store:g},o.default.createElement(c.ConnectedRouter,{history:y},o.default.createElement(s.default,null))),document.getElementById("root")),_.default.send(["показ страницы"]),$(window).on("load",function(){setTimeout(function(){h.default.send({event:"load"})},0)})})},"5b1ba08c9bbd7767f36c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=f(n("63f14ac74ce296f77f4d")),u=(f(n("8a2d1b95e05b6a321e74")),n("4ee320a8137784c050e0")),l=f(n("66be2c172b1c8ec1cd27")),s=f(n("0658a9410be6c0797656")),d=f(n("f829dce6e807e79181ee"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeCaptcha=n.onChangeCaptcha.bind(n),n.focusOnCaptchaField=n.focusOnCaptchaField.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.isCaptchaRequired&&this.focusOnCaptchaField()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.isCaptchaRequired!==e.isCaptchaRequired&&e.isCaptchaRequired&&setTimeout(function(){t.focusOnCaptchaField()},0)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e((0,u.changeCaptchaState)(!1)),e((0,u.updateCaptchaValue)(""))}},{key:"onChangeCaptcha",value:function(e){(0,this.props.dispatch)((0,u.updateCaptchaValue)(e))}},{key:"focusOnCaptchaField",value:function(){if(!this.props.isNoTabletTouch){var e=c.default.findDOMNode(this.captchaField).querySelector("input");e.focus(),e.click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCaptchaRequired,a=t.isShowCaptcha,o=t.introSound,i=t.captchaSound,c=t.imageUrl,u=t.loading,l=t.loadingAudio,f=t.playing,p=t.type,b=t.captchaKey,_=t.captchaAnswer,h=t.lang,m=t.fieldError,y=t.dispatch,g=t.forcedError;return n||a?r.default.createElement("div",{className:"passp-captcha-field"},r.default.createElement(s.default,{isMobile:!1,lang:h,introSound:o,captchaSound:i,imageUrl:c,loading:u,loadingAudio:l,playing:f,type:p,dispatch:y,visible:!0}),r.default.createElement("input",{type:"hidden",name:"captcha_key",value:b||""}),r.default.createElement(d.default,{ref:function(t){e.captchaField=t},fieldLabel:"Введите символы с картинки",fieldValue:_,fieldName:"captcha_answer",fieldType:"text",fieldError:m||g,fieldLink:null,onFieldChange:this.onChangeCaptcha})):null}}]),t}();p.defaultProps={captcha:{captchaKey:""},isShowCaptcha:!1},t.default=(0,i.connect)(l.default)(p)},"5bbec79c8fb167a933d5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.editUrl,i=n.auth.mode;"edit"!==i&&(e((0,a.push)(r)),e((0,o.setupBackPane)(null)),e((0,o.switchToModeEditSuccess)()))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},"5c9b6c0ffe9388bf8f53":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={logoutAccount:r.default,loginSuggestedAccount:i.default,domikIsLoading:o.domikIsLoading,setupBackPane:o.setupBackPane,changeMobileMenuVisibility:o.changeMobileMenuVisibility,changeMobileMenuType:o.changeMobileMenuType,setProccessedAccountUid:o.setProccessedAccountUid};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("4ee320a8137784c050e0"),r=c(n("dabe4e15a14257fec3c9")),i=c(n("e16a64fc4ac2fa640ace"));function c(e){return e&&e.__esModule?e:{default:e}}},"5ca44d31a363ec082218":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[{path:"/auth",exact:!0,component:o.default},{path:"/auth/list",exact:!0,component:a.default},{path:"/auth/add",exact:!0,component:o.default},{path:"/auth/magic",exact:!0,component:"isQRPromoEnabled"===e?c.default:i.default},{path:"/auth/welcome",exact:!0,component:r.default},{path:"/auth/link",exact:!0,component:u.default},{path:"/auth/phone",exact:!0,component:"isAdditionalDataRequestEnabled"===e?l.default:a.default},{path:"/auth/email",exact:!0,component:"isAdditionalDataRequestEnabled"===e?s.default:a.default},{path:"/auth/restore/login",exact:!0,component:d.default},{path:"/auth/restore/login/process",exact:!0,component:f.default},{path:"/auth/restore/login/result",exact:!0,component:p.default}]};var a=b(n("5f347acb939ad2761ca5")),o=b(n("c7288bb0a1591286b52d")),r=b(n("dcab4392e18bb757d6bb")),i=b(n("4368a5920ed0ae125c88")),c=b(n("c168465d7951f95f2976")),u=b(n("76858b80b4aaf24818ca")),l=b(n("8d9f1d0f1dea0784b365")),s=b(n("7d1e73a3f9d7ef3c5b55")),d=b(n("c8ffe23a92589aee0f8a")),f=b(n("73164a821679315b0cb3")),p=b(n("173a4ba6a567c7817809"));function b(e){return e&&e.__esModule?e:{default:e}}},"5d51df58f5a0fa2181cb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common,i=r.csrf,c=r.track_id,u=n.settings.lang,l={csrf_token:i,language:u,track_id:c};e((0,o.domikIsLoading)(!0)),a.default.request("auth/send_magic_letter",l).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e((0,o.setAuthMailSent)(n)),e((0,o.changePagePopupVisibility)(!0)),e((0,o.changePagePopupType)("authLetter")),e((0,o.setAuthMailCancelled)(!1)),e((0,o.updateAuthMailStatus)(!1))}else e((0,o.setAuthMailError)("global"))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e((0,o.setAuthMailError)(n))}).always(function(){e((0,o.domikIsLoading)(!1))})}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0")},"5ec19fc3bfeab65dc04f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={updateLoginValue:r.updateLoginValue,setupBackPane:r.setupBackPane,canRegister:r.canRegister,setLoginError:r.setLoginError,switchToModeMagic:o.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("ec7a66791361653ff08d")),r=n("4ee320a8137784c050e0")},"5f347acb939ad2761ca5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=_(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=n("27361837e9c8186338e3"),u=(_(n("8a2d1b95e05b6a321e74")),n("4ee320a8137784c050e0")),l=n("d980a6b4f65a3a13be8b"),s=n("2a8109ac628133d5b12f"),d=_(n("6720f7e94eecea453799")),f=_(n("d8b9d13b44bc0751f18c")),p=_(n("f469c14f5c3cd24dad9a")),b=_(n("415b2ec7a2c957bbe58a"));function _(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,a=e.setupPane,o=e.editUrl;d.default.goal(s.SHOW_SUGGEST_LIST_GOAL),d.default.send([s.SHOW_SUGGEST_LIST]),t(null),n("edit"),a(o)}},{key:"render",value:function(){return r.default.createElement(p.default,{cls:"list"},r.default.createElement(b.default,null,"Выберите аккаунт для входа"),r.default.createElement(f.default,null))}}],[{key:"mapStateToProps",value:function(e){return{editUrl:e.common.editUrl}}},{key:"mapDispatchToProps",value:function(e){var t={setupBackPane:u.setupBackPane,setupPane:l.setupPane,setupMode:u.setupMode};return Object.assign({},(0,c.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,i.connect)(h.mapStateToProps,h.mapDispatchToProps)(h)},"5fdd10d997beea04dc36":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{messengerAuth:e.messengerAuth}}},"614b39f039bc9b9d408e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,d){var f=d(),p=f.common.csrf,b=f.auth,_=b.process_uuid,h=b.form.pdd_domain,m={csrf_token:p,login:e};_&&(m.process_uuid=_),h&&e&&!/@/.test(e)&&(m.login=m.login+"@"+h),h&&(m.is_pdd="1"),n((0,r.domikIsLoading)(!0)),n((0,r.setLoginError)(null)),n((0,r.updateLoginValue)(e)),o.default.request("auth/multi_step/start",m).done(function(o){if(o.can_register)return n((0,r.setLoginError)("login.can_register")),n((0,r.canRegister)({isCanRegister:!0,registrationLogin:o.login||e,registrationType:o.account_type||"portal",registrationPhoneNumber:o.phone_number&&o.phone_number.original||"",registrationCountry:o.country||""})),n((0,r.domikIsLoading)(!1)),void("magic"===d().auth.mode&&n((0,u.default)()));n((0,r.canRegister)({isCanRegister:!1})),s.default.send([l.SHOW_LOGIN_FORM,l.SEND_LOGIN_FORM,l.SEND_LOGIN_FORM_SUCCESS]);var f=o.auth_methods,p=o.preferred_auth_method,b=o.track_id,_=o.csrf_token,h=o.magic_link_email,m=d(),y=m.auth,g=y.unitedAccounts,v=y.form.isForceOTP,E=y.isQRAuthEnabled,O=(0,a.default)(g,function(t){return t.login===e})[0];O=O?Object.assign({},O,{allowed_auth_methods:O.allowed_auth_methods||f||[],preferred_auth_method:O.preferred_auth_method||p||f&&f[0]||"password",email:h}):{isAddedAccount:!0,allowed_auth_methods:f,preferred_auth_method:f[0]||"password",avatarId:"0/0-0",email:h,login:e},t&&n((0,r.setupBackPane)(t));var T=O.preferred_auth_method;if("magic_x_token"===T&&!E){var C=O.allowed_auth_methods;O.preferred_auth_method=C.filter(function(e){return"magic_x_token"!==e})[0]||"password"}n((0,r.changeProcessedAccount)(O)),n((0,r.updateTokensSuccess)(b,_));var P="magic"===T||"magic_x_token"===T&&E;n(!P||v?(0,i.default)():(0,c.default)(!0))}).fail(function(e){var t=e.errors[0];s.default.send([l.SHOW_LOGIN_FORM,l.SEND_LOGIN_FORM,l.SEND_LOGIN_FORM_ERROR,t]),n((0,r.setLoginError)(t)),n((0,r.canRegister)({isCanRegister:!1})),n((0,u.default)())}).always(function(){n((0,r.domikIsLoading)(!1))})}};var a=d(n("1a5a0e788b4f35a6460a")),o=d(n("fb6358edfd8976cf491c")),r=n("4ee320a8137784c050e0"),i=d(n("e14b389d821b6a025824")),c=d(n("ec7a66791361653ff08d")),u=d(n("a3c2d05881d3875b5dbb")),l=n("2a8109ac628133d5b12f"),s=d(n("6720f7e94eecea453799"));function d(e){return e&&e.__esModule?e:{default:e}}},"61cd2aab7a2771c86b20":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,n){var i=e.settings.isNoTabletTouch,c=e.auth,u=c.passwordError,l=c.inputLogins,s=c.processedAccount,d=c.form.login,f=e.common.restoration_url,p=n.hasSocialButton,b=u&&-1===["captcha.required","password.empty","password.not_matched"].indexOf(u)?"Восстановить доступ":"Не помню пароль",_={url:f.replace("login=login",d?"login="+d:""),text:b,onClick:function(){r.default.send([p?o.SHOW_SOCIAL_WITH_PASSWORD_FORM:o.SHOW_PASSWORD_FORM,o.CLICK_RESTORE_ACCESS_LINK])}},h=t.processPasswordError(u),m=!h||h!==a.default.global&&-1===["captcha.required","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(u),y=s&&l&&l[s.uid]||null;return{isNoTabletTouch:i,login:d,isShowFieldLink:m,fieldError:h,fieldLink:_,inputLogin:y}},t.processPasswordError=function(e){if(!e)return"";if("captcha.required"===e)return"";return(0,i.default)(a.default[e]||a.default.global)};var a=c(n("f3e5b0b53b9a60481e9f")),o=n("2a8109ac628133d5b12f"),r=c(n("6720f7e94eecea453799")),i=c(n("7ea51c4460e1acb054fa"));function c(e){return e&&e.__esModule?e:{default:e}}},"61f911b615a91fc208f2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.restoreLogin,n=t.phone,a=t.trackId,o=t.errors.phone,r=e.common.editUrl;return{phone:n||"",trackId:a||"",phoneError:o||"",editUrl:r}}},"630a74f01d0a21892d92":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("8af190b70a6bc55c6f1b")),o=(i(n("8a2d1b95e05b6a321e74")),i(n("5b1ba08c9bbd7767f36c"))),r=i(n("ce71044ed50ae6df54b1"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.handleCaptcha;return a.default.createElement("div",{className:"al-captcha__wrapper"},a.default.createElement("form",{onSubmit:t,method:"post"},a.default.createElement(o.default,null),a.default.createElement(r.default,{buttonType:"submit",buttonText:"Продолжить",buttonTheme:"action"})))}},"641d317291d9150d5bcb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.SET_LOGIN_ERROR:return Object.assign({},e,{loginError:t.error});case a.SET_PASSWORD_ERROR:return Object.assign({},e,{passwordError:t.error});case a.SET_CAPTCHA_ERROR:return Object.assign({},e,{captchaError:t.error});case a.SET_MAGIC_ERROR:return Object.assign({},e,{magicError:t.error});case a.CAN_REGISTER:return Object.assign({},e,{form:Object.assign({},e.form,{isCanRegister:t.isCanRegister,registrationLogin:t.registrationLogin||"",registrationType:t.registrationType||"",registrationPhoneNumber:t.registrationPhoneNumber||"",registrationCountry:t.registrationCountry||""})});case a.CHANGE_PROCESSED_ACCOUNT:return Object.assign({},e,{method:"password",processedAccount:t.account});case a.UPDATE_LOGIN_VALUE:return Object.assign({},e,{form:Object.assign({},e.form,{login:t.value||"",loginError:!t.value&&e.form.login?null:e.form.loginError,isForceOTP:t.value===e.form.login&&e.form.isForceOTP})});case a.UPDATE_PASSWORD_VALUE:return Object.assign({},e,{form:Object.assign({},e.form,{password:t.value})});case a.UPDATE_CAPTCHA_VALUE:return Object.assign({},e,{form:Object.assign({},e.form,{captcha_answer:t.value})});case a.CHANGE_ACTIVE_ACCOUNT:return Object.assign({},e,{authorizedAccountsDefaultUid:t.uid});case a.LOGIN_SUGGESTED_ACCOUNT:return Object.assign({},e,{method:t.account.preferred_auth_method,processedAccount:t.account});case a.INPUT_LOGIN_SUCCESS:return Object.assign({},e,{inputLogins:Object.assign({},e.inputLogins,t.inputLogin)});case a.SHOW_ACCOUNTS_SUCCESS:var n=t.accounts,o=n.authorizedAccounts,r=n.authorizedAccountsDefaultUid,i=n.unitedAccounts,c=n.suggestedAccounts;return Object.assign({},e,{authorizedAccounts:o,authorizedAccountsDefaultUid:r,unitedAccounts:i,suggestedAccounts:c,loading:!1});case a.SHOW_ACCOUNTS_FAIL:return Object.assign({},e,{errors:{},loading:!1});case a.SWITCH_TO_MODE_ADDING_ACCOUNT:return Object.assign({},e,{mode:"addingAccount"});case a.SWITCH_TO_MODE_EDIT:return Object.assign({},e,{mode:"edit"});case a.SWITCH_TO_MODE_WELCOME:return Object.assign({},e,{mode:"welcome"});case a.SWITCH_TO_MODE_MAGIC:return Object.assign({},e,{isFromLoginSuggest:Boolean(t.isFromLoginSuggest)});case a.SWITCH_TO_MODE_RESTORE_LOGIN:return Object.assign({},e,{mode:"restoreLogin"});case a.SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS:return Object.assign({},e,{mode:"restoreLoginProcess"});case a.SWITCH_TO_MODE_RESTORE_LOGIN_RESULT:return Object.assign({},e,{mode:"restoreLoginResult"});case a.SETUP_MODE:return Object.assign({},e,{mode:t.mode});case a.CHANGE_CAPTCHA_STATE:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case a.FORCE_OTP_METHOD:return Object.assign({},e,{form:Object.assign({},e.form,{isForceOTP:t.isForceOTP})});case a.DOMIK_IS_LOADING:return Object.assign({},e,{loading:t.loading});case a.UPDATE_MAGIC_TOKENS_SUCCESS:return Object.assign({},e,{magicCSRF:t.csrf,magicTrack:t.track});default:return e}};var a=n("4ee320a8137784c050e0")},"65f992ec08dfd9108e30":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"magic_link.expired":"Ссылка для входа устарела","magic_link.not_sent":"Ссылка для входа недействительна","magic_link.secret_not_matched":"Ссылка для входа недействительна","magic_link.invalidated":"Вы отменили вход с помощью письма","account.auth_passed":"По этой ссылке уже был совершен вход в аккаунт","action.not_required":"По этой ссылке уже был совершен вход в аккаунт","track.not_found":"Ссылка для входа устарела","rate.limit_exceeded":"Не удается отправить письмо, попробуйте другой способ входа в аккаунт","account.global_logout":"Ссылка для входа недействительна"}},"664b6cb97401fb1e6d78":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(d(n("8a2d1b95e05b6a321e74")),d(n("e6034e01754f26236b79"))),u=n("2a8109ac628133d5b12f"),l=d(n("6720f7e94eecea453799")),s=d(n("ce71044ed50ae6df54b1"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.authSocial=n.authSocial.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.isShowPasswordField||l.default.send([u.SHOW_SOCIAL_FORM])}},{key:"authSocial",value:function(){var e=this.props,t=e.socialScope,n=e.provider,a=e.dispatch,o=n.data.code;a((0,c.default)({provider:o,scope:t&&t[o]}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.lang;if(!t)return null;var a=t.data.display_name[n]||t.data.display_name.default,o=r.default.createElement("span",{className:"passp-social-button__content"},r.default.createElement("span",{className:"passp-social-button__icon passp-social-button__icon_"+t.data.code}),r.default.createElement("span",{className:"passp-social-button__text"},"Войти через %1".replace("%1",a)));return r.default.createElement("div",{className:"passp-social-button passp-social-button_"+t.data.code},r.default.createElement(s.default,{buttonType:"button",buttonText:o,buttonTheme:"normal",onClick:this.authSocial}))}}],[{key:"mapStateToProps",value:function(e){var t=e.settings.lang,n=e.auth.processedAccount,a=e.social.providers,o=n.preferred_auth_method;return"magic_x_token"===o&&(o=n.allowed_auth_methods.filter(function(e){return e.indexOf("social_")>-1})[0]),{provider:a.filter(function(e){return"social_"+e.data.code===o})[0]||null,lang:t}}}]),t}();t.default=(0,i.connect)(f.mapStateToProps)(f)},"66be2c172b1c8ec1cd27":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.settings,n=t.isNoTabletTouch,o=t.lang,r=e.auth,i=r.isCaptchaRequired,c=r.captchaError,u=r.loginError,l=r.passwordError,s=r.form.captcha_answer,d=e.captcha,f=d.introSound,p=d.captchaSound,b=d.imageUrl,_=d.loading,h=d.loadingAudio,m=d.playing,y=d.type,g=d.key,v=void 0;v=c?a.default[c]||a.default.global:u&&a.default[u]||l&&a.default[l]||null;return{isNoTabletTouch:n,captchaAnswer:s,isCaptchaRequired:i,lang:o,fieldError:v,introSound:f,captchaSound:p,imageUrl:b,loading:_,loadingAudio:h,playing:m,type:y,captchaKey:g}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("f3e5b0b53b9a60481e9f"))},"66cc45f59e73e5a78254":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common,i=r.backpath,c=r.profile_url,u=i||c;e((0,a.redirectToBackpathSuccess)()),e((0,o.default)(u))}};var a=n("4ee320a8137784c050e0"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("991bab4cbee4bd95d9b7"))},"6720f7e94eecea453799":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n("a5a1b76574b70ca294d2"));var o={initialized:!1,init:function(e){var t=e.getState(),n=$("body").attr("data-metrics-id");this.headerMetrics=[t.metrics.header],a.default.init(n,t.metrics.experiments),this.initialized=!0},send:function(e){this.initialized&&a.default.count(this.headerMetrics.concat(e))},goal:function(e,t){this.initialized&&a.default.reachGoal(e,t)}};t.default=o},"67ca3bf7dd23abfeff4d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),i=n.settings.host,c=n.common.retpath,u=i+"/profile/phones";if(e((0,r.default)("redirect_to_phones_page","Показ превращения телефона в защищенный","Изменить")),c)return u+="?retpath="+encodeURIComponent(c),window.open(u),void e((0,o.default)());e((0,a.default)(u))}};var a=i(n("991bab4cbee4bd95d9b7")),o=i(n("7bec9e0f5607402a990d")),r=i(n("c1c5f474e631e6348cde"));function i(e){return e&&e.__esModule?e:{default:e}}},"6c716902d8a0584c1a31":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.CHANGE_PAGE_POPUP_VISIBILITY:return Object.assign({},e,{isShowPagePopup:t.visible,pagePopupType:t.visible?e.pagePopupType:null});case a.CHANGE_PAGE_POPUP_TYPE:return Object.assign({},e,{pagePopupType:t.pagePopupType});default:return e}};var a=n("4ee320a8137784c050e0")},"6c882d39cffd0b9bc9c2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=b(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(b(n("8a2d1b95e05b6a321e74")),b(n("ce71044ed50ae6df54b1"))),u=b(n("415b2ec7a2c957bbe58a")),l=b(n("a1d676ee048a2b15fe67")),s=b(n("fcbfd009d184700124a8")),d=b(n("8ac88226f78440b88a54")),f=b(n("763abd7a25f1cb1caac7")),p=b(n("49ee5dddfd8832afebe2"));function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startTimer=n.startTimer.bind(n),n.stopTimer=n.stopTimer.bind(n),n.getSendAgainButtonText=n.getSendAgainButtonText.bind(n),n.submitForm=n.submitForm.bind(n),n.timerInterval=null,n.state={currentCountdown:30},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.stopTimer(),this.startTimer()}},{key:"componentDidUpdate",value:function(e){!this.props.isPhoneCheckSent&&e.isPhoneCheckSent&&(this.stopTimer(),this.startTimer())}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"startTimer",value:function(){var e=this;this.setState({currentCountdown:30}),this.timerInterval=setInterval(function(){e.setState(function(e){return{currentCountdown:e.currentCountdown-1}}),e.state.currentCountdown<=1&&(e.stopTimer(),e.props.changeCheckPhoneStatus(!1))},1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),this.setState({currentCountdown:0})}},{key:"getSendAgainButtonText",value:function(){var e=this.state.currentCountdown;return e>0?r.default.createElement("span",null,"Отправить ещё код","  00:"+(e<10?"0"+e:e)):"Отправить ещё код"}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.confirmPhone()}},{key:"render",value:function(){var e=this.props,t=e.phone,n=e.confirmPhone,a=e.checkPhone,o=e.codeError,i=this.state.currentCountdown,f=this.getSendAgainButtonText();return r.default.createElement(s.default,{cls:"restore-login-enter-confirmation-code"},r.default.createElement(u.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:"Введите код из СМС, оправленный на номер %1".replace("%1",t)}})),r.default.createElement(l.default,{onSubmit:this.submitForm,cls:"enter-confirmation-code"},r.default.createElement(d.default,{sendCode:n,codeError:o}),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonText:"Далее",buttonType:"button",buttonTheme:"action",onClick:n})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonText:f,buttonType:"button",buttonTheme:"normal",disabled:i>0,onClick:a}))))}}]),t}();t.default=(0,i.connect)(f.default,p.default)(_)},"70e0fdbf164ce0083c23":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrors=void 0,t.default=function(){return function(e,t){var n=t(),i=n.restoreLogin,u=i.firstName,l=i.lastName,s=n.common.track_id,d={firstname:u,lastname:l,track_id:s};e((0,o.clearErrors)()),a.default.request("auth/restore_login/check_names",d).done(function(t){e((0,o.setSuggestedAccounts)(t.accounts||[])),e((0,r.default)())}).fail(function(t){if(t.errors.indexOf("compare.not_matched")>-1)return e((0,o.setSuggestedAccounts)([])),void e((0,r.default)());e((0,o.setErrors)(c(t.errors)))})}};var a=i(n("fb6358edfd8976cf491c")),o=n("b2d0f77fd033b41cb6bc"),r=i(n("3f552ab013eb664d938f"));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t={},n=e.find(function(e){return"firstname.empty"===e}),a=e.find(function(e){return"lastname.empty"===e}),o=e.find(function(e){return"compare.not_matched"===e}),r=e.find(function(e){return"rate.limit_exceeded"===e});return e.find(function(e){return"internal"===e})&&(t.firstName="internal"),n&&(t.firstName="empty"),a&&(t.lastName="empty"),o&&(t.firstName="notMatched"),r&&(t.firstName="rateLimitExceeded",t.lastName="rateLimitExceeded"),t};t.handleErrors=c},"713ba603fa969d6e60ac":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{messengerAuth:e.messengerAuth}}},"718e6b302cda24ebcdfd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.isAuthConfirmed,n=e.login,o=e.deviceInfo,r=e.staticPath,i=o?"Вы вошли в аккаунт %login на устройстве %device".replace("%login",n).replace("%device",o):"Вы вошли в аккаунт %login".replace("%login",n);return t?a.default.createElement("div",{className:"passp-letter-info"},a.default.createElement("h3",{className:"passp-letter-info-title",dangerouslySetInnerHTML:{__html:"Вы вошли в аккаунт %login на устройстве %device".replace("%login",n).replace("%device",i)}}),a.default.createElement("div",{className:"passp-letter-info-picture"},a.default.createElement("img",{src:r+"/i/magic-letter/magic.svg",alt:"magic pic",role:"presentation"})),a.default.createElement("p",null,"Это окно вы можете закрыть")):null}},"722170a77da63173c100":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){e((0,r.domikIsLoading)(!0)),e((0,i.clearErrors)()),a.default.request("auth/restore_login/submit").done(function(t){return e((0,o.updateTrack)(t.track_id))}).fail(function(){return e((0,i.setErrors)(["internal"]))}).always(function(){return e((0,r.domikIsLoading)(!1))})}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c")),o=n("d980a6b4f65a3a13be8b"),r=n("4ee320a8137784c050e0"),i=n("b2d0f77fd033b41cb6bc")},"73164a821679315b0cb3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=l(o),i=l(n("0f125486b115cac153fb")),c=l(n("f469c14f5c3cd24dad9a")),u=l(n("415b2ec7a2c957bbe58a"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return r.default.createElement(c.default,{cls:"restore-login-enter-name"},r.default.createElement(u.default,null,"Введите ваше имя и фамилию"),r.default.createElement(i.default,null))}}]),t}();t.default=s},"7322946f1fcdb2d75ace":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),f(n("1def7208fe0e21ce16a3"))),u=f(n("713ba603fa969d6e60ac")),l=f(n("a3d47f6ceb89136788c0")),s=f(n("415b2ec7a2c957bbe58a")),d=f(n("fcbfd009d184700124a8"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.sendRequestToMessenger,n=e.closePopup;return r.default.createElement(d.default,{cls:"al-send-popup"},r.default.createElement(s.default,{cls:"auth-messenger_popup-title"},"У вас не установлено приложение или вы не вошли в аккаунт"),r.default.createElement("h4",{className:"auth-messenger_title"},r.default.createElement("div",{className:"passp-magic-promo-title__image"}),r.default.createElement("span",null,"Как войти с помощью приложения Яндекс")),r.default.createElement("ol",{className:"auth-messenger-how-to_list"},r.default.createElement("li",null,"Установите приложение Яндекс на ваше устройство",r.default.createElement("div",{className:"auth-messenger_app-btns"},r.default.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage",title:"Google Play"},r.default.createElement("div",{className:"passp-gplay-icon"})),r.default.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage",title:"App Store"},r.default.createElement("div",{className:"passp-appstore-icon"})))),r.default.createElement("li",null,"Откройте приложение и войдите в ваш аккаунт"),r.default.createElement("li",null,"Теперь вы можете подтверждать вход в аккаунт не вводя пароль")),r.default.createElement("div",{className:"auth-messenger_links"},r.default.createElement(c.default,{cls:"popup-action",theme:"normal",size:"m",pseudo:"yes",text:"Попробовать еще раз",onClick:t}),r.default.createElement(c.default,{cls:"popup-action",theme:"normal",size:"m",pseudo:"yes",text:"Войти с помощью пароля",onClick:n})))}}]),t}();t.default=(0,i.connect)(u.default,l.default)(p)},"7368db871fd0c10fee71":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.messengerAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}},"7480964e971a7ed927ee":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common,i=r.csrf,c=r.track_id,u=r.retpath,l=n.mailAuth.isEnabled,s={csrf_token:i,track_id:c};e((0,o.domikIsLoading)(!0)),e((0,o.setAuthMailError)("")),a.default.request("/auth/letter/status/",s).done(function(t){if(t&&"ok"===t.status&&t.magic_link_confirmed){var n="/auth/finish/?track_id="+c;return e((0,o.setAuthMailError)("")),u&&(n+="&retpath="+u),void(window.location.href=n)}e((0,o.changePagePopupVisibility)(!0)),e((0,o.changePagePopupType)(l?"authLetter":"authMessenger")),e((0,o.setAuthMailCancelled)(!1))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e((0,o.setAuthMailError)(n))}).always(function(){e((0,o.domikIsLoading)(!1))})}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0")},"753465db54c384e4bbc3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var n=e.settings.isNoTabletTouch,i=e.common,c=i.restoration_login_url,u=i.restoreLoginUrl,l=e.auth,s=l.loginError,d=l.isRestoreLoginEnabled,f={url:d?u:c,text:"Не помню логин",onClick:function(){r.default.send([o.SHOW_LOGIN_FORM,o.CLICK_RESTORE_ACCESS_LINK])}},p=t.processLoginError(s),b=!p||p!==a.default.global&&-1===["captcha.required","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(s);return{isNoTabletTouch:n,fieldLink:f,fieldError:p,isShowFieldLink:b,isRestoreLoginEnabled:d}},t.processLoginError=function(e){if(!e)return"";if("captcha.required"===e)return"";return(0,i.default)(a.default[e]||a.default.global)};var a=c(n("f3e5b0b53b9a60481e9f")),o=n("2a8109ac628133d5b12f"),r=c(n("6720f7e94eecea453799")),i=c(n("7ea51c4460e1acb054fa"));function c(e){return e&&e.__esModule?e:{default:e}}},"763abd7a25f1cb1caac7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.restoreLogin,n=t.phone,a=t.isPhoneCheckSent;return{codeError:t.errors.code||"",phone:(n||"").trim().replace(/ /gi,"&nbsp;"),isPhoneCheckSent:a}}},"76858b80b4aaf24818ca":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthWithLetterPage=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=h(o),i=(h(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=h(n("9a696a965155b5f7f23c")),u=h(n("718e6b302cda24ebcdfd")),l=h(n("7769d2ff3c950e3a44b8")),s=h(n("7984e07dae5743962888")),d=h(n("32f2686eeb882a4ae234")),f=n("2a8109ac628133d5b12f"),p=h(n("6720f7e94eecea453799")),b=h(n("f3e5b0b53b9a60481e9f")),_=h(n("65f992ec08dfd9108e30"));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.AuthWithLetterPage=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.confirmAuth=n.confirmAuth.bind(n),n.denyAuth=n.denyAuth.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){p.default.send([f.SHOW_AUTH_LETTER_CONFIRMATION_PAGE])}},{key:"denyAuth",value:function(){this.props.dispatch((0,d.default)()),p.default.send([f.AUTH_LETTER_DENY_AUTH])}},{key:"confirmAuth",value:function(){p.default.send([f.AUTH_LETTER_ALLOW_AUTH]),this.props.dispatch((0,s.default)())}},{key:"render",value:function(){var e=this.props,t=e.mailAuth,n=e.isError,a=e.staticPath,o=e.isAuthCancelled,i=e.isAuthConfirmed,s=e.errorText;return n?r.default.createElement("div",{className:"passp-letter-info_error"},s):r.default.createElement("div",{className:"passp-auth-screen"},r.default.createElement("div",null,r.default.createElement(u.default,{isAuthConfirmed:i,login:t.login,deviceInfo:t.browser,staticPath:a}),r.default.createElement(l.default,{isAuthCancelled:o}),r.default.createElement(c.default,{isInfoRenders:!i&&!o,login:t.login,staticPath:a,denyLetterAuth:this.denyAuth,confirmLetterAuth:this.confirmAuth,deviceInfo:t.browser})))}}],[{key:"mapStateToProps",value:function(e){var t=e.mailAuth,n=e.settings.staticPath,a=t.mailAuthError,o=void 0!==a,r=t.isAuthCancelled,i=t.isAuthConfirmed,c=Object.assign({},b.default,_.default);return{mailAuth:t,staticPath:n,isError:o,isAuthCancelled:r,isAuthConfirmed:i,errorText:void 0!==b.default[a]?c[a]:"Ссылка для входа недействительна"}}}]),t}();t.default=(0,i.connect)(m.mapStateToProps)(m)},"7731cce99672b741f8e5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=b(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(b(n("8a2d1b95e05b6a321e74")),b(n("5b1ba08c9bbd7767f36c"))),u=b(n("ce71044ed50ae6df54b1")),l=b(n("415b2ec7a2c957bbe58a")),s=b(n("a1d676ee048a2b15fe67")),d=b(n("fcbfd009d184700124a8")),f=b(n("44d4b8d069a581a33217")),p=b(n("248f42311cec94e0128e"));function b(e){return e&&e.__esModule?e:{default:e}}var _={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",phone:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",invalid:"Недопустимый формат номера",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже"}},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submitForm=n.submitForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkPhone()}},{key:"render",value:function(){var e=this.props,t=e.checkPhone,n=e.phoneError,a=n&&(_.phone[n]||_.internal)||"";return r.default.createElement(d.default,{cls:"restore-login-enter-captcha"},r.default.createElement(l.default,null,"Введите символы"),r.default.createElement(s.default,{onSubmit:this.submitForm,cls:"enter-captcha"},r.default.createElement(c.default,{isShowCaptcha:!0,forcedError:a}),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonText:"Далее",buttonType:"button",buttonTheme:"action",onClick:t}))))}}]),t}();t.default=(0,i.connect)(f.default,p.default)(h)},"7769d2ff3c950e3a44b8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return e.isAuthCancelled?a.default.createElement("div",{className:"passp-letter-info"},a.default.createElement("p",null,"Вы отменили вход.\nСсылка для входа больше не работает."),a.default.createElement("p",null,"Это окно вы можете закрыть")):null}},"77f4ec134c13a6a944ca":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.common,n=t.editUrl,o=t.addUserUrl,r=e.settings.avatar,i=e.auth,c=i.processedAccount,u=i.unitedAccounts,l=c.avatarId,s=c.login,d=c.displayName,f=c.hasSocial,p=c.mail,b=c.defaultEmail,_=c.socialProvider,h=r.host,m=r.pathname,y=Boolean(d),g=m.replace("%uid%",l).replace("%size%","200").replace("%login%",s),v={backgroundImage:'url("https://'+h+g+'")'},E=f?a.default[_]:p||b||"",O=Object.keys(u).length>0;return{hasDisplayName:y,displayLogin:E,avatarStyle:v,displayName:d,login:s,addUserUrl:o,editUrl:n,hasUnitedAccounts:O}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b1ce1a7989017c577d0f"))},"77f681800336a30ab2e7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("8af190b70a6bc55c6f1b")),o=(r(n("8a2d1b95e05b6a321e74")),r(n("b912ecc4473ae8a2ff0b")));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement("div",{className:(0,o.default)("passp-auth__tooltip",{"passp-auth__tooltip_visible":e.isVisible}),role:"status","aria-live":"polite"},a.default.createElement("div",{className:"passp-auth__tooltip-text"},e.children))}},"7984e07dae5743962888":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),c=n.common.csrf,u=n.settings.lang,l=n.mailAuth,s=l.secret,d=l.mailTrack,f={csrf_token:c,secret:s,track_id:d,language:u};a.default.request("auth/confirm_magic_letter",f).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"===t.status&&(e((0,o.setAuthMailConfirmed)()),i.default.send([r.AUTH_LETTER_SUCCESS_AUTH]))}).fail(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors&&Array.isArray(t.errors)?t.errors[0]:"global";e((0,o.setAuthMailError)(n)),i.default.send([r.AUTH_LETTER_FAIL_AUTH,n])})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=n("2a8109ac628133d5b12f"),i=c(n("6720f7e94eecea453799"));function c(e){return e&&e.__esModule?e:{default:e}}},"7aa3d9891ce07350e4a8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),u=f(n("6720f7e94eecea453799")),l=f(n("a582d5f5764859cb5f4a")),s=f(n("5c9b6c0ffe9388bf8f53")),d=f(n("10e962d582339e41eb7c"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleCrossClick=n.handleCrossClick.bind(n),n.showMobileMenu=n.showMobileMenu.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,a=t.editUrl,o=t.loginSuggestedAccount,r=t.domikIsLoading,i=t.setupBackPane;e.preventDefault(),r(!0),i(a),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,a=t.logoutAccount;e.preventDefault(),a(n.uid),u.default.send([c.SHOW_SUGGEST_LIST,c.LOGOUT_ACCOUNT])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,a=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,r=t.setProccessedAccountUid;e.preventDefault(),o("logout"),r(n.uid),a(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,a=e.isTouch,o=e.fallbackUrl;return t?r.default.createElement("li",{className:"passp-account-list-item_block"},r.default.createElement(d.default,{account:t,avatarSettings:n,fallbackUrl:o,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isTouch:a})):null}}]),t}();t.default=(0,i.connect)(l.default,s.default)(p)},"7bec9e0f5607402a990d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common,i=r.retpath,c=r.profile_url,u=i||c;e((0,a.redirectToRetpathSuccess)()),e((0,o.default)(u))}};var a=n("4ee320a8137784c050e0"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("991bab4cbee4bd95d9b7"))},"7c30c039432de4ab7a0b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"backend.bot_api_failed":"Внутренняя ошибка: обновите страницу и попробуйте еще раз","messenger_link.invalidated":"Вы отменили вход по ссылке из приложения"}},"7d1e73a3f9d7ef3c5b55":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=h(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(h(n("8a2d1b95e05b6a321e74")),h(n("0989ebdb8e72257c9e48"))),u=h(n("9fab18a6e61824d0d962")),l=h(n("4d6111b200ed4957f4a6")),s=h(n("ba744bd3bb2011638119")),d=h(n("dafcc85692a2c3d9f452")),f=h(n("c8283707285dbcdfa00d")),p=h(n("376afcf70180c39dfa41")),b=h(n("f469c14f5c3cd24dad9a")),_=h(n("415b2ec7a2c957bbe58a"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEmailChange=n.handleEmailChange.bind(n),n.sentConfirmationCode=n.sentConfirmationCode.bind(n),n.confirmRestoreEmail=n.confirmRestoreEmail.bind(n),n.goToEmailsPage=n.goToEmailsPage.bind(n),n.goBack=n.goBack.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_email",null,"Показ")}},{key:"handleEmailChange",value:function(e){(0,this.props.changeEmail)(e)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.email;n(d.default,a)}},{key:"confirmRestoreEmail",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.email;n(f.default,a)}},{key:"goToEmailsPage",value:function(){(0,this.props.redirectToEmailsPage)()}},{key:"goBack",value:function(){var e=this.props,t=e.sendAdditionalDataRequestMetrics,n=e.sendApiRequest;t("skip_email",null,"Отложить"),n(p.default)}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.isCaptchaRequired,a=e.email,i=e.errors;return r.default.createElement(b.default,{cls:"email-request"},("add"===t||"confirm"===t)&&r.default.createElement(o.Fragment,null,r.default.createElement(_.default,null,"add"===t?"Добавьте почту. Если потеряете доступ к своему аккаунту, его можно будет проще восстановить с её помощью.":"Подтвердите дополнительную почту, чтобы использовать её для восстановления доступа к аккаунту."),r.default.createElement(l.default,{handleEmailChange:this.handleEmailChange,sentConfirmationCode:this.sentConfirmationCode,goBack:this.goBack,action:t,isCaptchaRequired:n,email:a,errors:i})),"restore"===t&&r.default.createElement(o.Fragment,null,r.default.createElement(_.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:"К вашему аккаунту привязана почта %1. Хотите использовать её для восстановления доступа?".replace("%1","<b>"+a+"</b>")}})),r.default.createElement(s.default,{confirmRestoreEmail:this.confirmRestoreEmail,goToEmailsPage:this.goToEmailsPage,goBack:this.goBack,email:a,isCaptchaRequired:n,errors:i})))}}]),t}();t.default=(0,i.connect)(c.default,u.default)(m)},"7db34b3d0bca6392a74a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrors=void 0,t.default=function(){return function(e,t){var n=t(),c=n.restoreLogin.phone,l=n.common.track_id,s=n.settings.lang,d={phone_number:c,track_id:l,display_language:s};e((0,r.clearErrors)()),a.default.request("auth/restore_login/check_phone",d).done(function(){e((0,r.changeCheckPhoneStatus)(!0)),e((0,o.changePagePopupType)("restoreLoginEnterConfirmationCode")),e((0,o.changePagePopupVisibility)(!0))}).fail(function(t){var n=t.errors||[];if(n.indexOf("user.not_verified")>-1)return e((0,o.changePagePopupType)("restoreLoginEnterCaptcha")),e((0,o.changePagePopupVisibility)(!0)),void e((0,o.changeCaptchaState)(!0));n.indexOf("phone_secure.not_found")>-1&&(e((0,o.changePagePopupVisibility)(!1)),e((0,o.changePagePopupType)("")),e((0,r.setSuggestedAccounts)([])),e((0,i.default)())),e((0,r.setErrors)(u(t.errors)))}).always(function(){return e((0,o.domikIsLoading)(!1))})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=n("b2d0f77fd033b41cb6bc"),i=c(n("3f552ab013eb664d938f"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.find(function(e){return"captcha.not_matched"===e}),n=e.find(function(e){return"phone_number.invalid"===e||"number.invalid"===e}),a=e.find(function(e){return"phone.empty"===e||"phone_number.empty"===e}),o=e.find(function(e){return"captcha.empty"===e}),r=e.find(function(e){return"phone_secure.not_found"===e}),i=e.find(function(e){return"sms_limit.exceeded"===e}),c=e.find(function(e){return"rate.limit_exceeded"===e}),u={};return e.find(function(e){return"internal"===e})&&(u.phone="internal"),t&&(u.captcha="notMatched"),n&&(u.phone="invalid"),a&&(u.phone="empty"),o&&(u.captcha="empty"),r&&(u.phone="notFound",u.code="notFound"),i&&(u.phone="smsLimitExceeded",u.code="smsLimitExceeded"),c&&(u.phone="rateLimitExceeded"),u};t.handleErrors=u},"7ea51c4460e1acb054fa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;"."===t.charAt(t.length-1)&&(t=t.slice(0,-1));return t}},"7ed68ea4ffabadd59750":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAuthMessengerError=function(e){return{type:a,error:e}},t.setAuthMessengerSent=function(e){return{type:o,code:e}};var a=t.SET_AUTH_MESSENGER_ERROR="SET_AUTH_MESSENGER_ERROR",o=t.AUTH_MESSENGER_SENT="AUTH_MESSENGER_SENT"},"7f0c15697e5a680030ab":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.settings,n=t.tld,a=t.env,o=t.help,r=t.lang,i=t.langlist,c=(new Date).getFullYear(),u=n;["az","com.am","com.ge","kg","lv","lt","md","tj","tm","uz","ee"].indexOf(u)>-1?u="ru":["co.il","fr"].indexOf(u)>-1&&(u="com");var l=void 0;l=i&&"intranet"!==a.name?i.filter(function(e){return e.id!==r}).map(function(e){return{text:e.name,url:e.link}}):[];var s=((o||{}).passport||"#").replace("%tld%",u),d="intranet"===a.name,f="com"!==n&&!d&&l.length>0;return{tld:n,lang:r,options:l,helpLink:s,currentYear:c,hasSwitcher:f}}},"8070137bd608b2b9c74f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_DOMIK=t.VALIDATE_DOMIK_FORM=t.CHECK_HUMAN_FAIL=t.CHECK_HUMAN_SUCCESS=t.CHECK_HUMAN=t.SHOW_REQUEST_CAPTCHA=t.SHOW_REQUEST_PASSWORD=void 0,t.showRequestPassword=function(e){return{type:i,show:e}},t.showRequestCaptcha=function(e){return{type:c,show:e}},t.hideDomik=function(){return{type:f}},t.validateForm=function(e){return{type:d,data:e}},t.checkHuman=function(e){return function(t,n){var r=n(),i=r.common,c=r.domik.errors,d=i.actionForRepeat||{},f=d.action,p=d.payload;e.csrf_token=i.csrf,e.track_id=i.track_id,0===Object.keys(c).length&&("captcha"in e&&(e.key=r.captcha.key,e.answer=e.captcha,delete e.captcha,t((0,o.default)())),t({type:u}),a.default.request("checkHuman",e).done(function(){t({type:l}),f&&t(f.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p)))}).fail(function(e){t({type:s,res:e})}))}};var a=r(n("fb6358edfd8976cf491c")),o=r(n("2e00c83ced56b4015524"));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.SHOW_REQUEST_PASSWORD="SHOW_REQUEST_PASSWORD",c=t.SHOW_REQUEST_CAPTCHA="SHOW_REQUEST_CAPTCHA",u=t.CHECK_HUMAN="CHECK_HUMAN",l=t.CHECK_HUMAN_SUCCESS="CHECK_HUMAN_SUCCESS",s=t.CHECK_HUMAN_FAIL="CHECK_HUMAN_FAIL",d=t.VALIDATE_DOMIK_FORM="VALIDATE_DOMIK_FORM",f=t.HIDE_DOMIK="HIDE_DOMIK"},"8150816e8c486cf8a0f0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){if("undefined"!=typeof window){var n=document.getElementById(""+a.NATIVE_INPUT_ID_PREFIX+e);n&&(n.value=t)}}};var a=n("f829dce6e807e79181ee")},"82a1a22fbf89468ffd30":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=window.Howl,i=e.voice&&e.voice.intro_url&&e.voice.url;if(t((0,a.default)()),!n||!i)return t((0,r.getAudioCaptchaFail)());var c=null,u=new Promise(function(a,r){return(c=new n({src:e.voice.intro_url,html5:!0,preload:!0,format:["mp3"]})).on("load",function(){return a()}),c.on("loaderror",function(){return r()}),c.on("end",function(){return t((0,o.default)())}),c}),l=null,s=new Promise(function(a,o){return(l=new n({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]})).on("load",function(){return a()}),l.on("loaderror",function(){return o()}),l.on("end",function(){return t((0,r.changeCaptchaPlayStatus)(!1))}),l});return Promise.all([u,s]).then(function(){return t((0,r.getAudioCaptchaSuccess)(e.key,c,l))}).catch(function(){return t((0,r.getAudioCaptchaFail)())})}};var a=i(n("907df40949cb8576d9ea")),o=i(n("311fad8e7fa58bbf8bec")),r=n("b24de1e495698d2f533b");function i(e){return e&&e.__esModule?e:{default:e}}},"8673aa839ecc941c412a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=n(),i=r.captcha,c=i.playing,u=i.introSound;c||(t((0,a.changeCaptchaPlayStatus)(!0)),e?u&&"function"==typeof u.play&&u.play():t((0,o.default)()))}};var a=n("b24de1e495698d2f533b"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("311fad8e7fa58bbf8bec"))},"887066909d91988c03a4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,i){var c=i(),u=c.auth.form.captcha_answer,l=c.common,s=l.track_id,d=l.csrf,f={track_id:s,csrf_token:d,answer:u};if(!u||!u.trim())return n((0,r.setCaptchaError)("captcha.empty")),void n((0,r.domikIsLoading)(!1));a.default.request("checkHuman",f).done(function(a){if("ok"===a.status)return n((0,r.setCaptchaError)("")),n((0,r.changeCaptchaState)(!1)),void n(e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)));n((0,o.default)()),n((0,r.setCaptchaError)(a.errors)),n((0,r.domikIsLoading)(!1))}).fail(function(e){n((0,o.default)()),n((0,r.setCaptchaError)(e.errors)),n((0,r.domikIsLoading)(!1))})}};var a=i(n("fb6358edfd8976cf491c")),o=i(n("2e00c83ced56b4015524")),r=n("4ee320a8137784c050e0");function i(e){return e&&e.__esModule?e:{default:e}}},"88a71a8f4ebb2edd9f88":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.common,n=t.track_id,a=t.csrf,o=t.authUrl,r=e.auth,i=r.form,c=i.isForceOTP,u=i.password,l=r.passwordError,s=r.processedAccount,d=r.isQRAuthEnabled,f=s.allowed_auth_methods||[],p=s.preferred_auth_method||"password";f.indexOf("otp")>-1&&c&&(p="otp");var b=Boolean(l&&l.indexOf("captcha")>-1),_=Boolean("password"===p||f.indexOf("password")>-1),h=Boolean("otp"===p||f.indexOf("otp")>-1),m=Boolean(_||h),y=f.indexOf("magic")>-1||f.indexOf("magic_x_token")>-1&&d;return{password:u,trackId:n,csrf:a,passwordError:l,isShowPasswordField:_,isShowOTPField:h,authUrl:o,isShowSubmitButton:m,isMagicAuth:y,hasCaptcha:b}}},"8ac88226f78440b88a54":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=i(o);i(n("8a2d1b95e05b6a321e74"));function i(e){return e&&e.__esModule?e:{default:e}}var c=[1,2,3,4,5,6],u=/^.$/,l={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",notMatched:"Неправильный код подтверждения",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно"},s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isAutomaticallySend=!0,n.handleChange=n.handleChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=t.getInputByNum(1);e&&setTimeout(function(){return e.focus()},100)}},{key:"handleChange",value:function(e,n){e.preventDefault();var a=t.getInputByNum(n);if(a){if((a.value||"").trim().length>1&&(a.value=e.target.value.slice(-1)),n<6){var o=t.getInputByNum(n+1);o&&o.focus()}6===t.getValue().length&&this.isAutomaticallySend&&(this.isAutomaticallySend=!1,this.props.sendCode())}}},{key:"render",value:function(){var e=this,n=this.props.codeError,a=n&&(l[n]||l.internal)||"";return r.default.createElement("div",{className:"passp-confirmation-code-field"},r.default.createElement("div",{className:"passp-confirmation-code-inputs"},c.map(function(n){return r.default.createElement("input",{onKeyDown:function(e){return t.handleKeyDown(e,n)},onChange:function(t){return e.handleChange(t,n)},key:n,type:"text",id:"confirmation_code_input_"+n,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})})),a&&r.default.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:a}}))}}],[{key:"getInputByNum",value:function(e){return document.getElementById("confirmation_code_input_"+e)}},{key:"getValue",value:function(){return c.map(function(e){var n=t.getInputByNum(e);return n?(n.value||"").trim():""}).join("")}},{key:"handleKeyDown",value:function(e,n){var a=t.getInputByNum(n);if(!a)return!0;if(8!==e.keyCode)return e.target.value&&u.test(e.key)&&(a.value=""),!0;if(e.preventDefault(),!e.target.value.slice(-1)){if(1!==n){var o=t.getInputByNum(n-1);o&&o.focus()}return!0}return a.value="",!0}}]),t}();t.default=s},"8b51c0d0c1d1775789f5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=p(n("b912ecc4473ae8a2ff0b")),u=(p(n("8a2d1b95e05b6a321e74")),p(n("e6034e01754f26236b79"))),l=p(n("ec7a66791361653ff08d")),s=n("2a8109ac628133d5b12f"),d=p(n("6720f7e94eecea453799")),f=p(n("12409bff7d6b1ff45b24"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isShowFullList:Boolean(e.socialExtended)},n.showFullList=n.showFullList.bind(n),n.authSocial=n.authSocial.bind(n),n.changePromoTooltipPosition=n.changePromoTooltipPosition.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isShowQRAuthPromoTooltip&&((0,f.default)(),this.promoTimer=setTimeout(function(){e.changePromoTooltipPosition()},600),$(window).on("resize",this.changePromoTooltipPosition))}},{key:"componentDidUpdate",value:function(e){if("addingAccount"===e.mode&&"addingAccount"!==this.props.mode){var t=document.getElementById("qr-promo-tooltip");this.promoTimer&&clearTimeout(this.promoTimer),t&&(t.style.display="none",t.style.opacity="0",t.style.display="block")}}},{key:"componentWillUnmount",value:function(){this.props.isShowQRAuthPromoTooltip&&$(window).off("resize",this.changePromoTooltipPosition)}},{key:"changePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-social-block__list-item-yandex"),t=document.getElementById("qr-promo-tooltip");if(e&&t){var n=e.getBoundingClientRect();t.style.top=n.top-10+"px",t.style.left=n.left-195+"px",t.style.opacity="1"}}},{key:"showFullList",value:function(e){e.stopPropagation(),this.setState({isShowFullList:!0}),setTimeout(function(){var e=document.querySelectorAll(".passp-social-block__list-item-secondary");e.length&&e[0].focus()},300)}},{key:"authSocial",value:function(e){var t=this.props,n=t.dispatch,a=t.socialScope,o=e.code,r=e.name;"yandex"!==o?(d.default.send([s.SHOW_LOGIN_FORM,s.START_SOCIAL_AUTH,r||o]),n((0,u.default)({provider:o,scope:a&&a[o]}))):n((0,l.default)(!0))}},{key:"render",value:function(){var e=this,n=this.props,a=n.socialProviders,o=n.minimal,i=n.intranet,u=n.isQRPromoEnabled,l=this.state.isShowFullList;return o||i?null:r.default.createElement("div",{className:"passp-social-block"},r.default.createElement("h3",{className:"passp-social-block__title"},u?"Войти с помощью":"Войти с помощью соцсетей"),r.default.createElement("ul",{className:(0,c.default)("passp-social-block__list",{"passp-social-block__list_full":l,"passp-social-block_with-qr-promo":u})},a.map(function(n,a){var o=n.id,i=n.data;return r.default.createElement("li",{key:o,onKeyUp:t.handleEnterKey,onClick:function(t){t.stopPropagation(),e.authSocial(i)},className:(0,c.default)("passp-social-block__list-item passp-social-block__list-item-"+i.code,{"passp-social-block__list-item-secondary":a>=3}),tabIndex:l||a<3?"0":"-1"},r.default.createElement("span",{className:"passp-social-block__list-item-icon passp-social-block__list-item-icon_"+i.code}))}),r.default.createElement("li",{key:"more",onKeyUp:t.handleEnterKey,onClick:this.showFullList,tabIndex:"0",className:"passp-social-block__list-item passp-social-block__list-item_more"},r.default.createElement("span",{className:"passp-social-block__list-item-icon passp-social-block__list-item-icon_more"}))))}}],[{key:"handleEnterKey",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.target.click())}},{key:"mapStateToProps",value:function(e){var t=e.social,n=e.customs,a=n.socialScope,o=n.socialExtended,r=n.minimal,i=e.settings,c=i.intranet,u=i.ua,l=e.auth,s=l.isQRPromo1Enabled,d=l.isQRAuthPromoShowed,f=l.mode,p={vk:1,fb:2,gg:3,mr:4,ok:5,tw:6,sberbank:7},b=t.providers.slice().filter(function(e){return e.enabled}).sort(function(e,t){return p[e.data.code]>p[t.data.code]?1:-1}),_=Boolean(u&&u.isTouch),h=s&&!_,m=h&&!d;return h&&b.unshift({id:"yandex",data:{code:"yandex"}}),{socialProviders:b,socialScope:a,socialExtended:o,minimal:r,intranet:c,isQRPromoEnabled:h,isShowQRAuthPromoTooltip:m,mode:f}}}]),t}();b.defaultProps={minimal:!1,intranet:!1},t.default=(0,i.connect)(b.mapStateToProps)(b)},"8d9f1d0f1dea0784b365":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=m(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(m(n("8a2d1b95e05b6a321e74")),m(n("a9bdefedd4f37db3f563"))),u=m(n("f36f1e2cdd5cdb0ee64b")),l=m(n("aeb629ea3b6b52a55f8e")),s=m(n("28903d0c99393aba8a5e")),d=m(n("12fa7a13d9989723ecf9")),f=m(n("15a1cb3beb4f3d6cfe2c")),p=m(n("376afcf70180c39dfa41")),b=m(n("43ddd0574412f3c99762")),_=m(n("f469c14f5c3cd24dad9a")),h=m(n("415b2ec7a2c957bbe58a"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePhoneChange=n.handlePhoneChange.bind(n),n.sentConfirmationCode=n.sentConfirmationCode.bind(n),n.goBack=n.goBack.bind(n),n.confirmActualPhone=n.confirmActualPhone.bind(n),n.goToPhonesPage=n.goToPhonesPage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_phone",null,"Показ")}},{key:"handlePhoneChange",value:function(e){(0,this.props.changePhoneNumber)(e)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.phoneNumber;n(f.default,a)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_phone",null,"Отложить"),t(p.default)}},{key:"confirmActualPhone",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.phoneId;n(b.default,a)}},{key:"goToPhonesPage",value:function(){(0,this.props.redirectToPhonesPage)()}},{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.phoneNumber,a=e.phoneActualPageTitle,i=e.phoneSecurePageTitle,c=e.errors,u=e.action,f=e.trackId;return r.default.createElement(_.default,{cls:"phone-request"},r.default.createElement("input",{"data-t":"track_id",type:"hidden",value:f}),("add"===u||"confirm"===u)&&r.default.createElement(o.Fragment,null,r.default.createElement(h.default,null,"add"===u?"Привяжите номер телефона, чтобы дополнительно защитить свой аккаунт.":"Подтвердите номер телефона, чтобы дополнительно защитить свой аккаунт."),r.default.createElement(l.default,{handlePhoneChange:this.handlePhoneChange,sentConfirmationCode:this.sentConfirmationCode,goBack:this.goBack,action:u,phoneNumber:n,isCaptchaRequired:t,errors:c})),"admit"===u&&r.default.createElement(o.Fragment,null,r.default.createElement(h.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:a}})),r.default.createElement(s.default,{confirmActualPhone:this.confirmActualPhone,goToPhonesPage:this.goToPhonesPage,goBack:this.goBack,phoneNumber:n,isCaptchaRequired:t,errors:c})),"secure"===u&&r.default.createElement(o.Fragment,null,r.default.createElement(h.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}})),r.default.createElement(d.default,{sentConfirmationCode:this.sentConfirmationCode,goToPhonesPage:this.goToPhonesPage,goBack:this.goBack,phoneNumber:n,isCaptchaRequired:t,errors:c})))}}]),t}();t.default=(0,i.connect)(c.default,u.default)(y)},"8dae3155fb6dee0092b8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={sendAdditionalDataRequestMetrics:o.default,changeConfirmationCode:c.changeConfirmationCode,sendApiRequest:r.default,clearErrors:c.clearErrors,changeNativeInputValue:i.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=u(n("c1c5f474e631e6348cde")),r=u(n("492f0884ca0d25627280")),i=u(n("8150816e8c486cf8a0f0")),c=n("2dad848e8287918fdb83");function u(e){return e&&e.__esModule?e:{default:e}}},"8f590c31c04b04831974":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWithLeadZero=function(e){return String(e).length<2?"0"+e:String(e)},t.getTimerSeconds=function(e,t){if(e>t)return 0;return Math.floor((t-e)/1e3%60)},t.getTimerMinutes=function(e,t){if(e>t)return 0;return Math.floor((t-e)/1e3/60)}},"907df40949cb8576d9ea":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),a=n.captcha,o=a.introSound,r=a.captchaSound;o&&"function"==typeof o.unload&&o.unload(),r&&"function"==typeof r.unload&&r.unload()}}},"92479e208533a17dd8c9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var n=e.settings.isNoTabletTouch,i=e.auth,c=i.passwordError,u=i.form,l=u.login,s=u.password,d={url:e.common.restoration_url.replace("login=login",l?"login="+l:""),text:"Восстановить доступ",onClick:function(){o.default.send([a.SHOW_OTP_FORM,a.CLICK_RESTORE_ACCESS_LINK])}},f=t.processPasswordError(c),p=!f||f!==r.default.global&&-1===["captcha.required","password.not_matched","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(c);return{isNoTabletTouch:n,password:s,isShowFieldLink:p,login:l,fieldError:f,fieldLink:d}},t.processPasswordError=function(e){if(!e)return"";if("captcha.required"===e)return"";if("password.not_matched"===e)return r.default["password.not_matched_2fa"];return(0,i.default)(r.default[e]||r.default.global)};var a=n("2a8109ac628133d5b12f"),o=c(n("6720f7e94eecea453799")),r=c(n("f3e5b0b53b9a60481e9f")),i=c(n("7ea51c4460e1acb054fa"));function c(e){return e&&e.__esModule?e:{default:e}}},"959ceb32f76a9ec3b8ec":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.SAVE_ACTION_FOR_REPEAT:return Object.assign({},e,{actionForRepeat:{action:t.actionToCall,payload:t.payload}});case a.SET_EDIT_MODE:return Object.assign({},e,{edit:t.edit});case a.SHOW_REG_POPUP:return Object.assign({},e,{showRegPopup:t.show});case a.CURRENT_PAGE_CHANGED:var n=e.historyOnPassport;switch(t.historyEvent){case"POP":n-=1;break;case"PUSH":n+=1}return Object.assign({},e,{currentPage:t.currentPage,historyOnPassport:n});case a.GET_TRACK_SUCCESS:return r.default.track_id=t.track_id,Object.assign({},e,{track_id:t.track_id});case a.UPDATE_TRACK:return Object.assign({},e,{track_id:t.track_id});case a.UPDATE_CSRF:return Object.assign({},e,{csrf:t.token});case a.SETUP_BACK_PANE:return Object.assign({},e,{backPane:t.pane});case o.UPDATE_TOKENS_SUCCESS:return Object.assign({},e,{track_id:t.track_id,magic_csrf_token:t.csrf_token});case a.SETUP_PANE:return Object.assign({},e,{pane:t.pane});case a.GET_COUNTRIES:return Object.assign({},e,{countries:t.countries});case a.GET_TIMEZONES:return Object.assign({},e,{timezones:t.timezones});default:return e}};var a=n("d980a6b4f65a3a13be8b"),o=n("a7262dc46759c15aec75"),r=function(e){return e&&e.__esModule?e:{default:e}}(n("99d31cffdbf327a0604b"))},"991bab4cbee4bd95d9b7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=n(),i=r.common.editUrl;t((0,a.domikIsLoading)(!0)),t((0,o.replace)(i)),(0,a.redirect)(e)}};var a=n("4ee320a8137784c050e0"),o=n("3aced5b508e7389026da")},"9a696a965155b5f7f23c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("8af190b70a6bc55c6f1b")),o=(i(n("8a2d1b95e05b6a321e74")),i(n("ce71044ed50ae6df54b1"))),r=i(n("f90d1e31363e3e95f33e"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(e.isInfoRenders){var t="Вы входите в аккаунт <strong>%login</strong>".replace("%login",e.login),n=e.deviceInfo?e.deviceInfo:"";return a.default.createElement("div",{className:"passp-letter-info"},a.default.createElement("p",{className:"passp-letter-info-title",dangerouslySetInnerHTML:{__html:t}}),a.default.createElement("p",{className:"al-send-popup__code-descr"},"Убедитесь, что видите на экране устройства %device вот эти символы:".replace("%device",n)),a.default.createElement(r.default,{staticPath:e.staticPath,text:"Если символы совпадают, нажмите жёлтую кнопку:"}),a.default.createElement("div",{className:"auth_letter_action-buttons"},a.default.createElement("div",{"data-t":"cancel-auth",className:"auth_letter_action-buttons-item"},a.default.createElement(o.default,{onClick:e.denyLetterAuth,buttonType:"button",buttonText:"Отмена",buttonTheme:"normal"})),a.default.createElement("div",{"data-t":"confirm-auth",className:"auth_letter_action-buttons-item"},a.default.createElement(o.default,{onClick:e.confirmLetterAuth,buttonType:"button",buttonText:"Войти",buttonTheme:"action"}))))}return null}},"9e21ce072b9980bb7099":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={checkCaptcha:o.default,handleCaptcha:function(t){return function(){t.preventDefault(),e((0,o.default)(r.default))}},checkAuthLetterStatus:r.default,setAuthMessengerError:i.setAuthMessengerError,sendRequestToMessenger:c.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=u(n("887066909d91988c03a4")),r=u(n("7480964e971a7ed927ee")),i=n("7ed68ea4ffabadd59750"),c=u(n("fb09d2078d24ea3d0b13"));function u(e){return e&&e.__esModule?e:{default:e}}},"9fab18a6e61824d0d962":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={changeEmail:o.changeEmail,sendApiRequest:r.default,sendAdditionalDataRequestMetrics:i.default,redirectToEmailsPage:c.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("2dad848e8287918fdb83"),r=u(n("492f0884ca0d25627280")),i=u(n("c1c5f474e631e6348cde")),c=u(n("e568a524ac56cbad8c01"));function u(e){return e&&e.__esModule?e:{default:e}}},"9fe9717c8f13b7d5381b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=c(o),i=(c(n("8a2d1b95e05b6a321e74")),c(n("1def7208fe0e21ce16a3")));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openPasswordForm=n.openPasswordForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"openPasswordForm",value:function(e){e.preventDefault();var t=this.props;(0,t.startAuth)(t.account.login)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarPath,a=e.addUserWithLoginUrl,o={backgroundImage:'url("'+n.replace("%uid%",t.default_avatar).replace("%size%","200").replace("%login%",t.login)+'")'};return r.default.createElement("div",{className:"passp-account-list-item-block"},r.default.createElement(i.default,{cls:"passp-account-list-item passp-account-list-item__without-login",url:a.replace("login=login","login="+t.login),theme:"normal",onClick:this.openPasswordForm},r.default.createElement("div",{className:"passp-account-list-item__inner"},r.default.createElement("span",{className:"passp-account-list-item__avatar",style:o}),r.default.createElement("span",{className:"passp-account-list-item__display-name"},t.login))))}}]),t}();t.default=u},a1d676ee048a2b15fe67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){e.preventDefault()};t.default=function(e){var t=e.cls,n=e.children,o=e.onSubmit;return a.default.createElement("form",{onSubmit:o||r,className:"passp-form passp-"+t+"-form"},n)}},a23cf05af20146052ad3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.messengerAuth,n=Object.assign({},o.default,a.default,r.default),i=t.error&&(n[t.error]||n.global),c="messenger_link.invalidated"===t.error,u="captcha.required"===t.error;return{error:i,isCaptchaRequired:u,shouldErrorDisappear:c}};var a=i(n("65f992ec08dfd9108e30")),o=i(n("f3e5b0b53b9a60481e9f")),r=i(n("7c30c039432de4ab7a0b"));function i(e){return e&&e.__esModule?e:{default:e}}},a33348bf773d0b1bb5d0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mailAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}},a3c2d05881d3875b5dbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common,i=r.addUserUrl,c=r.editUrl,u=n.auth,l=u.unitedAccounts,s=u.mode;"addingAccount"!==s&&(e((0,a.push)(i)),Object.keys(l).length>0?e((0,o.setupBackPane)(c)):e((0,o.setupBackPane)(null)),e((0,o.switchToModeAddingAccountSuccess)()))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},a3d47f6ceb89136788c0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={sendRequestToMessenger:o.default,invalidateAuthFromLetter:r.default};return(0,a.bindActionCreators)(t,e)};var a=n("27361837e9c8186338e3"),o=i(n("fb09d2078d24ea3d0b13")),r=i(n("32f2686eeb882a4ae234"));function i(e){return e&&e.__esModule?e:{default:e}}},a529209de7dba1496ebb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={setupMode:c.setupMode,setupPane:i.setupPane,switchToModeAddingAccount:o.default,authPasswordSubmitForMagic:r.default,forceOTPMethod:c.forceOTPMethod};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=u(n("a3c2d05881d3875b5dbb")),r=u(n("4eace1c4b1c1b9d59cfe")),i=n("d980a6b4f65a3a13be8b"),c=n("4ee320a8137784c050e0");function u(e){return e&&e.__esModule?e:{default:e}}},a582d5f5764859cb5f4a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.settings,o=n.avatar,r=n.ua,i=e.common,c=i.embeddedauth_url,u=i.retpath,l=i.yu,s=i.origin,d=i.editUrl,f=t.account,p=f.uid,b=f.login,_=(0,a.default)({action:"login",embeddedAuthUrl:c,retpath:u,yu:l,uid:p,origin:s,login:b});return{isTouch:r&&r.isTouch,avatarSettings:o,fallbackUrl:_,editUrl:d}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b20b60813c34dac7b6ce"))},a5a1b76574b70ca294d2:function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,a){"object"===t(e)&&e.exports?e.exports=a($):n.Metrika=a(n.$)}(void 0,function(e){return{inited:!1,counts:[],goals:[],counter:null,init:function(t,n){var a=this;if(!t)return this.clear();e.getScript("//mc.yandex.ru/metrika/watch.js",function(){if(window.Ya&&Ya.Metrika){var e={id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0};n&&(e.experiments=n);try{a.counter=window["yaCounter"+t]=new Ya.Metrika(e)}catch(e){return a.clear()}for(a.inited=!0;a.counts.length;)a.count.apply(a,a.counts.shift());for(;a.goals.length;)a.reachGoal.apply(a,a.goals.shift())}})},wrap:function(e,t){var n={};return n[t]=e,n},flatten:function(e){for(var t=[];e.length;)t=t.concat(e.shift());return t.filter(function(e){return Boolean(e)})},count:function(e){var t=Array.prototype.slice.call(arguments);if(!this.inited)return this.counts.push(t);for(e=(t=this.flatten(t)).pop();t.length;)e=this.wrap(e,t.pop());this.counter.params(e)},reachGoal:function(e,t){var n=Array.prototype.slice.call(arguments);if(!this.inited)return this.goals.push(n);this.counter.reachGoal(e,t)},clear:function(){this.count=e.noop,this.counts=[],this.goals=[]}}})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},a5c230583b029017a5c8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=t.unitedAccounts,a=t.form,o=void 0===a?{}:a,r=t.isCaptchaRequired,i=t.magicError,c=t.loginError,u=t.passwordError,l=t.captchaError,s=e.mobileMenu.isShowMobileMenu,d=e.pagePopup.isShowPagePopup,f=e.additionalDataRequest.errors;return{isCanRegister:Boolean(o.isCanRegister),accounts:n,isCaptchaRequired:r,magicError:i,loginError:c,passwordError:u,captchaError:l,isShowMobileMenu:s,isShowPagePopup:d,additionalDataErrors:f}}},a684d6c85e32bf428d22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stub=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=("object"===("undefined"==typeof window?"undefined":a(window))&&window.devToolsExtension,function(e){return e});return(0,o.createStore)((0,r.connectRouter)(t)(y),e,(0,o.compose)((0,o.applyMiddleware)(i.default,(0,r.routerMiddleware)(t)),n))};var o=n("27361837e9c8186338e3"),r=n("3aced5b508e7389026da"),i=h(n("61cf43666f747e5d0872")),c=h(n("959ceb32f76a9ec3b8ec")),u=h(n("641d317291d9150d5bcb")),l=h(n("36a80cb99a6f08006fc5")),s=h(n("35fa35a6ddf0da461521")),d=h(n("44da5fe6d25cbcf41044")),f=h(n("dfeb0d4d6d92a58233ac")),p=h(n("6c716902d8a0584c1a31")),b=h(n("c43788c16aa202df1e88")),_=h(n("47b80c31b4ddd2e9b923"));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.stub=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},y=(0,o.combineReducers)({common:c.default,captcha:b.default,additionalDataRequest:_.default,mailAuth:l.default,messengerAuth:s.default,auth:u.default,mobileMenu:f.default,restoreLogin:d.default,pagePopup:p.default,metrics:m,monitoring:m,social:m,customs:m,settings:m})},a7262dc46759c15aec75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMIK_IS_LOADING=t.CHECK_IFRAME=t.SWITCH_FORM_SUBMITTED_STATE=t.SWITCH_CAPTCHA_EMPTY_STATE=t.SWITCH_PASSWORD_EMPTY_STATE=t.SWITCH_LOGIN_EMPTY_STATE=t.SWITCH_PASSWORD_TYPE=t.PROCESS_ANIMATION_END=t.DO_MODE_ANIMATION=t.TOGGLE_ACCOUNT_LIST_EDITING=t.INIT_ADDITIONAL_DATA_REQUEST=t.UPDATE_TOKENS_FAIL=t.UPDATE_TOKENS_SUCCESS=t.UPDATE_TOKENS=t.UPDATE_CAPTCHA_VALUE=t.UPDATE_PASSWORD_VALUE=t.UPDATE_LOGIN_VALUE=t.SHOW_MAGIC_ERROR=t.START_SOCIAL_AUTH=t.PROCESS_EMB_ANSWER=t.ADD_ACCOUNT=t.REMOVE_ACCOUNT=t.CHANGE_DEFAULT_ACCOUNT=t.REDIRECT_TO_BACKPATH=t.REDIRECT_TO_RETPATH=t.LOGIN_SUGGESTED_ACCOUNT=t.CHANGE_ACTIVE_ACCOUNT=t.INPUT_LOGIN_FAIL=t.INPUT_LOGIN_SUCCESS=t.INPUT_LOGIN=t.FORGET_ACCOUNT_FAIL=t.FORGET_ACCOUNT_SUCCESS=t.FORGET_ACCOUNT=t.LOGOUT_ACCOUNT=t.SWITCH_MODE_TO_EDIT=t.SWITCH_MODE_TO_ADDING_ACCOUNT=t.SWITCH_TO_MAGIC=t.SWITCH_TO_RFC_TOTP=t.GET_TRACK_AND_CSRF=t.SHOW_SUGGEST=t.SHOW_SOCIAL=t.SHOW_MAGIC=t.SHOW_FORM=t.SHOW_ACCOUNTS_FAIL=t.SHOW_ACCOUNTS_SUCCESS=t.SHOW_ACCOUNTS=t.ONE_DOMIK_GOAL_PREFIX=void 0,t.checkIframe=function(e){return{type:Q,isPassed:e}},t.showForm=function(e){return{type:f,show:e}},t.switchPasswordType=function(e){return{type:W,passwordType:e}},t.switchLoginEmptyState=function(e){return{type:B,isEmpty:e}},t.switchFormSubmittedState=function(e){return function(t){clearTimeout(window.submittedTimeout),window.submittedTimeout=window.setTimeout(function(){t({type:K,isSubmitted:!1})},5e3),t({type:K,isSubmitted:e})}},t.switchPasswordEmptyState=function(e){return{type:q,isEmpty:e}},t.switchCaptchaEmptyState=function(e){return{type:V,isEmpty:e}},t.toggleAccountListEditing=function(e){return{type:x,enable:e}},t.updateLoginValue=function(e){return{type:N,value:e}},t.updatePasswordValue=Y,t.updateCaptchaValue=function(e){return{type:U,value:e}},t.addAccount=function(e){return{type:w,data:e}},t.processEmbAnswer=function(e){return function(t,n){var a=n(),o=a.one_domik;e.errors&&["password.not_matched","password.empty","rfc_otp.invalid"].indexOf(e.errors)>-1&&t(Y("")),o.captchaRequired&&e.errors&&["captcha.invalid","captcha.required"].indexOf(e.errors)>-1&&t((0,r.default)()),t({type:k,data:e})}},t.switchModeToEdit=function(){return function(e,t){var n=t();e((0,c.push)(n.common.editUrl)),e((0,i.setupBackPane)(null)),e({type:h})}},t.doModeAnimation=function(e){return function(t){t({type:G,mode:e})}},t.processAnimationEnd=function(e){return function(t){"transform"===e.propertyName&&t({type:F,event:e})}},t.switchToMagic=function(){return function(e,t){var n=t();e((0,i.setupBackPane)(!0)),e((0,c.push)(n.common.magicUrl)),e({type:b})}},t.switchToRfcTotp=function(){return function(e){e({type:p})}},t.clearFormState=function(){return function(e){e({type:_,needEmpty:!0})}},t.switchModeToAddingAccount=function(e){return function(t,n){var a=n();t((0,c.push)(a.common.addUserUrl)),Object.keys(a.one_domik.unitedAccounts).length>0?t((0,i.setupBackPane)(a.common.editUrl)):t((0,i.setupBackPane)(null)),t({type:_,needEmpty:e})}},t.redirect=$,t.submitIframeCheck=function(){return function(e,t){var n=t(),a=document.createElement("form"),o=n.common.loginStatusRetpath+"?status=ok&action=check";a.method="POST",a.action=o,a.target="iframe",document.body.appendChild(a),a.submit(),a.parentNode.removeChild(a)}},t.redirectToRetpath=Z,t.redirectToBackpath=function(){return function(e,t){var n=t(),a=n.common.backpath||n.common.profile_url;e({type:A}),e(J(a))}},t.restoreStateAndRedirect=J,t.changeActiveAccount=function(e){return function(t,n){var a=n();t({type:C,uid:e}),X(e,"change_default",a)}},t.logoutAccount=function(e){return function(t,n){var a=n();X(e,"logout",a),t({type:m,uid:e})}},t.additionalDataAsk=function(){return function(e,t){var n=t(),o=n.common,r=o.askEmailUrl,u=o.askPhoneUrl,l=o.askSocialUrl,s=n.settings.ua;a.default.request("accounts").done(function(t){var n={};n.csrf_token=t.csrf,n.uid=t.defaultAccount&&t.defaultAccount.uid,e((0,i.updateCSRF)(t.csrf)),a.default.request("auth/additional_data/ask",n).done(function(t){var n=t.state,a=t.action;if(e(te(t)),e((0,i.setupBackPane)()),"phone"===n)return e(ee()),void e((0,c.replace)(u));if("email"===n)return e(ee()),void e((0,c.replace)(r));var o=(s.isMobile||s.isTouch)&&!s.isTablet;if("social"===n&&("add"===a&&!o||"add"!==a&&["vk","ok","tw","mr","gg","fb"].indexOf(t.social.provider_code)>-1))return e(ee()),void e((0,c.replace)(l));e(Z())}).fail(function(){e(Z())})}).fail(function(){e(Z())})}},t.forgetAccount=function(e){return function(t,n){var o=n(),r=o.common,i={_uid:e};i.csrf_token=r.csrf,t({type:y,data:i}),a.default.request("accounts/forget",i).done(function(){t(ee()),t({type:g})}).fail(function(e){t(ee()),t({type:v,res:e})})}},t.loginSuggestedAccount=function(e){return function(t,n){var o=n(),r=o.common,i=r.welcomeUrl,u=e&&e.uid;if("INVALID"===e.status)return t({type:z,loading:!1}),t({type:P,account:e}),void t((0,c.push)(i));var l={_uid:u};l.csrf_token=r.csrf,t({type:E,data:l}),a.default.request("accounts/input-login",l).done(function(e){var n={};e.input_login&&(n[u]=e.input_login,t({type:O,inputLogin:n}))}).fail(function(e){t({type:T,res:e})}).always(function(){t({type:z,loading:!1}),t({type:P,account:e}),t((0,c.push)(i))})}},t.showAccounts=ee,t.reAuthPasswordSubmit=function(){return function(e,t){var n=t(),o=n.common,r={};r.csrf_token=o.csrf,e({type:I}),a.default.request("reAuthPasswordSubmit",r).done(function(t){e({type:L,track_id:t.track_id,csrf_token:t.csrf_token})}).fail(function(t){e({type:D,res:t})})}},t.setupQRCode=function(){return function(e){e({type:b})}},t.startSocialAuth=function(e){return function(t,n){var a=n(),r={track_id:a.common.track_id,provider:e.provider};e.scope&&(r.scope=e.scope),t({type:M}),o.default.start(r)}},t.showMagicError=function(e){return function(t){e&&["password.not_matched_2fa","password.empty"].indexOf(e)>-1&&t(Y("")),t({type:R,errors:e})}},t.domikIsLoading=function(e){return{type:z,loading:e}},t.initAdditionalDataRequest=te;var a=u(n("fb6358edfd8976cf491c")),o=u(n("5473a41a79acc5e35b6e")),r=u(n("2e00c83ced56b4015524")),i=n("d980a6b4f65a3a13be8b"),c=n("3ad3c1378076e862aab0");function u(e){return e&&e.__esModule?e:{default:e}}t.ONE_DOMIK_GOAL_PREFIX="one_domik_v2";var l=t.SHOW_ACCOUNTS="SHOW_ACCOUNTS",s=t.SHOW_ACCOUNTS_SUCCESS="SHOW_ACCOUNTS_SUCCESS",d=t.SHOW_ACCOUNTS_FAIL="SHOW_ACCOUNTS_FAIL",f=t.SHOW_FORM="SHOW_FORM",p=(t.SHOW_MAGIC="SHOW_MAGIC",t.SHOW_SOCIAL="SHOW_SOCIAL",t.SHOW_SUGGEST="SHOW_SUGGEST",t.GET_TRACK_AND_CSRF="GET_TRACK_AND_CSRF",t.SWITCH_TO_RFC_TOTP="SWITCH_TO_RFC_TOTP"),b=t.SWITCH_TO_MAGIC="SWITCH_TO_MAGIC",_=t.SWITCH_MODE_TO_ADDING_ACCOUNT="SWITCH_MODE_TO_ADDING_ACCOUNT",h=t.SWITCH_MODE_TO_EDIT="SWITCH_MODE_TO_EDIT",m=t.LOGOUT_ACCOUNT="LOGOUT_ACCOUNT",y=t.FORGET_ACCOUNT="FORGET_ACCOUNT",g=t.FORGET_ACCOUNT_SUCCESS="FORGET_ACCOUNT_SUCCESS",v=t.FORGET_ACCOUNT_FAIL="FORGET_ACCOUNT_FAIL",E=t.INPUT_LOGIN="INPUT_LOGIN",O=t.INPUT_LOGIN_SUCCESS="INPUT_LOGIN_SUCCESS",T=t.INPUT_LOGIN_FAIL="INPUT_LOGIN_FAIL",C=t.CHANGE_ACTIVE_ACCOUNT="CHANGE_ACTIVE_ACCOUNT",P=t.LOGIN_SUGGESTED_ACCOUNT="LOGIN_SUGGESTED_ACCOUNT",S=t.REDIRECT_TO_RETPATH="REDIRECT_TO_RETPATH",A=t.REDIRECT_TO_BACKPATH="REDIRECT_TO_BACKPATH",w=(t.CHANGE_DEFAULT_ACCOUNT="CHANGE_DEFAULT_ACCOUNT",t.REMOVE_ACCOUNT="REMOVE_ACCOUNT",t.ADD_ACCOUNT="ADD_ACCOUNT"),k=t.PROCESS_EMB_ANSWER="PROCESS_EMB_ANSWER",M=t.START_SOCIAL_AUTH="START_SOCIAL_AUTH",R=t.SHOW_MAGIC_ERROR="SHOW_MAGIC_ERROR",N=t.UPDATE_LOGIN_VALUE="UPDATE_LOGIN_VALUE",j=t.UPDATE_PASSWORD_VALUE="UPDATE_PASSWORD_VALUE",U=t.UPDATE_CAPTCHA_VALUE="UPDATE_CAPTCHA_VALUE",I=t.UPDATE_TOKENS="UPDATE_TOKENS",L=t.UPDATE_TOKENS_SUCCESS="UPDATE_TOKENS_SUCCESS",D=t.UPDATE_TOKENS_FAIL="UPDATE_TOKENS_FAIL",H=t.INIT_ADDITIONAL_DATA_REQUEST="INIT_ADDITIONAL_DATA_REQUEST",x=t.TOGGLE_ACCOUNT_LIST_EDITING="TOGGLE_ACCOUNT_LIST_EDITING",G=t.DO_MODE_ANIMATION="DO_MODE_ANIMATION",F=t.PROCESS_ANIMATION_END="PROCESS_ANIMATION_END",W=t.SWITCH_PASSWORD_TYPE="SWITCH_PASSWORD_TYPE",B=t.SWITCH_LOGIN_EMPTY_STATE="SWITCH_LOGIN_EMPTY_STATE",q=t.SWITCH_PASSWORD_EMPTY_STATE="SWITCH_PASSWORD_EMPTY_STATE",V=t.SWITCH_CAPTCHA_EMPTY_STATE="SWITCH_CAPTCHA_EMPTY_STATE",K=t.SWITCH_FORM_SUBMITTED_STATE="SWITCH_FORM_SUBMITTED_STATE",Q=t.CHECK_IFRAME="CHECK_IFRAME",z=t.DOMIK_IS_LOADING="DOMIK_IS_LOADING";function Y(e){return{type:j,value:e}}function $(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}function X(e,t,n){var a=document.createElement("form"),o=document.createElement("input"),r=document.createElement("input"),i=document.createElement("input"),c=document.createElement("input"),u=n.common.embeddedauth_url;a.method="POST",a.action=u,a.target="iframe",o.value=e,o.name="uid",a.appendChild(o),r.value=t,r.name="action",a.appendChild(r),i.value=n.common.loginStatusRetpath+"?action="+t,i.name="retpath",a.appendChild(i),c.value=n.common.yu,c.name="yu",a.appendChild(c),document.body.appendChild(a),a.submit(),a.parentNode.removeChild(a)}function Z(){return function(e,t){var n=t(),a=n.common.retpath||n.common.profile_url;e({type:S}),e(J(a))}}function J(e){return function(t,n){var a=n().common.editUrl;t({type:z,loading:!0}),t((0,c.replace)(a)),$(e)}}function ee(){return function(e,t){var n=t().common;e({type:l}),a.default.request("accounts").done(function(t){e((0,i.updateCSRF)(t.csrf)),e({type:s,accounts:t.accounts}),0===Object.keys(t.accounts.unitedAccounts).length&&e((0,c.push)(n.addUserUrl))}).fail(function(t){e({type:d,res:t})})}}function te(e){return{type:H,payload:e}}},a9bdefedd4f37db3f563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.additionalDataRequest,n=t.phone,a=t.confirmationCode,o=t.isConfirmationCodeSent,r=t.isCaptchaRequired,i=t.action,c=t.denyResendUntil,u=t.errors,l=t.track_id,s=n.number.replace(/ /gi,"&nbsp;"),d="К вашему аккаунту привязан номер телефона %1. Вы им пользуетесь?".replace("%1","<b>"+s+"</b>"),f="К вашему аккаунту привязан номер телефона %1. Хотите использовать его для восстановления доступа?\n".replace("%1","<b>"+s+"</b>");return{confirmationCode:a,isConfirmationCodeSent:o,isCaptchaRequired:r,action:i,denyResendUntil:c,errors:u,phoneActualPageTitle:d,phoneSecurePageTitle:f,phoneNumber:n.number,phoneId:n.id,trackId:l}}},ac46bda6cb040d04f8e4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{startAuth:function(t,n){return e((0,a.default)(t,n))},openEnterNameForm:function(){e((0,c.clearErrors)()),e((0,o.default)())},switchToModeAddingAccount:function(t){t.preventDefault(),e((0,c.clearErrors)()),e((0,r.default)())},switchToModeRestoreLogin:function(t){t.preventDefault(),e((0,c.clearErrors)()),e((0,i.default)())}}};var a=u(n("614b39f039bc9b9d408e")),o=u(n("4361156a89db2be4395a")),r=u(n("a3c2d05881d3875b5dbb")),i=u(n("3025578a00df69bdcb8e")),c=n("b2d0f77fd033b41cb6bc");function u(e){return e&&e.__esModule?e:{default:e}}},aeb629ea3b6b52a55f8e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=(d(n("8a2d1b95e05b6a321e74")),d(n("f829dce6e807e79181ee"))),c=d(n("5b1ba08c9bbd7767f36c")),u=d(n("ce71044ed50ae6df54b1")),l=d(n("a1d676ee048a2b15fe67")),s=d(n("f3e5b0b53b9a60481e9f"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.phoneNumber,a=e.handlePhoneChange,o=e.errors,d=e.sentConfirmationCode,f=e.goBack,p=e.action,b=null;return o.length>0&&(b=s.default[o[0]]?s.default[o[0]]:s.default.internal),r.default.createElement(l.default,{cls:"enter-phone"},r.default.createElement(i.default,{fieldLabel:"Номер телефона",fieldValue:n,fieldName:"phoneNumber",fieldType:"text",fieldError:b,onFieldChange:a}),t&&r.default.createElement(c.default,null),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"submit",buttonText:"add"===p?"Привязать":"Подтвердить",buttonTheme:"action",onClick:d})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:f})))}}]),t}();t.default=f},b121c4bc383810f1ee5a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=t.unitedAccounts,a=t.mode,o=t.isQRPromo1Enabled,r=t.isQRPromo2Enabled,i=e.mobileMenu.isShowMobileMenu,c=e.pagePopup.isShowPagePopup,u=e.common,l=u.registration_url,s=u.editUrl,d=u.addUserUrl,f=u.bgNumber,p=e.settings,b=p.tld,_=p.lang,h=p.ua.isTouch,m=e.customs.minimal,y=["restoreLogin","restoreLoginProcess","restoreLoginResult"].indexOf(a)>-1;return{isTouch:h,accounts:n,registrationUrl:l,editUrl:s,addUserUrl:d,tld:b,lang:_,bgNumber:f,minimal:m,isShowMobileMenu:i,isShowPagePopup:c,isRestoreLoginMode:y,isQRPromo1Enabled:o,isQRPromo2Enabled:r,mode:a}}},b190c58cfcb7968e0d19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("27361837e9c8186338e3"),c=n("d7dd51e1bf6bfc2c9c3d"),u=(f(n("8a2d1b95e05b6a321e74")),f(n("256898036d63d335a892"))),l=n("2a8109ac628133d5b12f"),s=f(n("6720f7e94eecea453799")),d=f(n("a6fd5b93bd0fb4ce3d49"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.forgetProcessedAccount=n.forgetProcessedAccount.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"forgetProcessedAccount",value:function(e){e.preventDefault();var t=this.props,n=t.processedAccountUid;(0,t.forgetAccount)(n),s.default.send([l.SHOW_SUGGEST_LIST,l.FORGET_ACCOUNT])}},{key:"render",value:function(){return r.default.createElement("div",{className:"passp-forget-mobile-menu"},r.default.createElement(d.default,{cls:"passp-mobile-menu__button passp-forget-mobile-menu__forget-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.forgetProcessedAccount},r.default.createElement("span",{className:"passp-mobile-menu__button-text"},r.default.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Удалить из списка")))}}],[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={forgetAccount:u.default};return Object.assign({},(0,i.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,c.connect)(p.mapStateToProps,p.mapDispatchToProps)(p)},b1ce1a7989017c577d0f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fb:"Facebook",gg:"Google",tw:"Twitter",vk:"ВКонтакте",mr:"Mail.ru",ok:"Одноклассники"}},b20b60813c34dac7b6ce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.embeddedAuthUrl,n=e.yu,a=e.retpath,o=e.uid,r=e.action,i=e.origin,c=e.login;if(-1!==["logout","change_default"].indexOf(r))return t+"&yu="+encodeURIComponent(n)+"&action="+encodeURIComponent(r)+"&uid="+encodeURIComponent(o)+"&retpath="+encodeURIComponent(a)+"&origin="+encodeURIComponent(i);if(-1!==["switchTo"].indexOf(r))return"/auth/welcome?uid="+encodeURIComponent(o)+"&retpath="+encodeURIComponent(a)+"&origin="+encodeURIComponent(i);if(-1!==["login"].indexOf(r))return"/auth/add?login="+encodeURIComponent(c)+"&retpath="+encodeURIComponent(a)+"&origin="+encodeURIComponent(i);if(-1!==["retpath"].indexOf(r))return""+a;return""}},b24de1e495698d2f533b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioCaptchaFail=function(e){return{type:l,error:e}},t.loadCaptcha=function(){return{type:o}},t.getCaptchaFail=function(e){return{type:r,error:e}},t.getAudioCaptcha=function(){return{type:c}},t.changeCaptchaPlayStatus=function(e){return{type:a,playing:e}},t.getAudioCaptchaSuccess=function(e,t,n){var a={type:u,key:e,captchaSound:n};t&&(a.introSound=t);return a},t.getImageCaptchaSuccess=function(e,t){return{type:i,key:e,imageUrl:t}},t.changeCaptchaType=function(){return{type:s}},t.clearCaptchaProps=function(){return{type:d}};var a=t.CHANGE_CAPTCHA_PLAY_STATUS="CHANGE_CAPTCHA_PLAY_STATUS",o=t.LOAD_CAPTCHA="LOAD_CAPTCHA",r=t.GET_CAPTCHA_FAIL="GET_CAPTCHA_FAIL",i=t.GET_IMAGE_CAPTCHA_SUCCESS="GET_IMAGE_CAPTCHA_SUCCESS",c=t.GET_AUDIO_CAPTCHA="GET_AUDIO_CAPTCHA",u=t.GET_AUDIO_CAPTCHA_SUCCESS="GET_AUDIO_CAPTCHA_SUCCESS",l=t.GET_AUDIO_CAPTCHA_FAIL="GET_AUDIO_CAPTCHA_FAIL",s=t.CHANGE_CAPTCHA_TYPE="CHANGE_CAPTCHA_TYPE",d=t.CLEAR_CAPTCHA_PROPS="CLEAR_CAPTCHA_PROPS"},b28dfd2cd152154a9e1a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={logoutAccount:r.default,changeActiveAccount:i.default,changeMobileMenuVisibility:o.changeMobileMenuVisibility,changeMobileMenuType:o.changeMobileMenuType,setProccessedAccountUid:o.setProccessedAccountUid};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("4ee320a8137784c050e0"),r=c(n("dabe4e15a14257fec3c9")),i=c(n("f8ac0d4d63461cef51dc"));function c(e){return e&&e.__esModule?e:{default:e}}},b2d0f77fd033b41cb6bc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changePhone=function(e){return{type:a,phone:e}},t.changeFirstName=function(e){return{type:o,firstName:e}},t.changeLastName=function(e){return{type:r,lastName:e}},t.setSuggestedAccounts=function(e){return{type:i,accounts:e}},t.changeCheckPhoneStatus=function(e){return{type:c,isPhoneCheckSent:e}},t.setErrors=function(e){return{type:u,errors:e}},t.clearErrors=function(){return{type:l}};var a=t.CHANGE_PHONE="[RESTORE_LOGIN] CHANGE_PHONE",o=t.CHANGE_FIRST_NAME="[RESTORE_LOGIN] CHANGE_FIRST_NAME",r=t.CHANGE_LAST_NAME="[RESTORE_LOGIN] CHANGE_LAST_NAME",i=t.SET_SUGGESTED_ACCOUNTS="[RESTORE_LOGIN] SET_SUGGESTED_ACCOUNTS",c=t.CHANGE_CHECK_PHONE_STATUS="[RESTORE_LOGIN] CHANGE_CHECK_PHONE_STATUS",u=t.SET_ERRORS="[RESTORE_LOGIN] SET_ERRORS",l=t.CLEAR_ERRORS="[RESTORE_LOGIN] CLEAR_ERRORS"},b3e5f07f6776122055c4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n("0b88835c11ed4414a373"));var o={init:function(e){var t=e.getState();a.default.init(t.monitoring),this.initialized=!0},send:function(e){this.initialized&&a.default.send(e)}};t.default=o},ba531bf28b1c27064b28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){var r=window.Howl,i=new r({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]});i.on("load",function(){n((0,a.getAudioCaptchaSuccess)(e.key,null,i)),t&&n((0,o.default)())}),i.on("loaderror",function(){n((0,a.getAudioCaptchaFail)())})}};var a=n("b24de1e495698d2f533b"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("8673aa839ecc941c412a"))},ba744bd3bb2011638119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=(s(n("8a2d1b95e05b6a321e74")),s(n("5b1ba08c9bbd7767f36c"))),c=s(n("ce71044ed50ae6df54b1")),u=s(n("a1d676ee048a2b15fe67")),l=s(n("f3e5b0b53b9a60481e9f"));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.errors,a=e.confirmRestoreEmail,o=e.goBack,s=e.goToEmailsPage;return r.default.createElement(u.default,{cls:"confirm-restore-email"},t&&r.default.createElement(i.default,null),0!==n.length&&r.default.createElement("div",null,r.default.createElement("p",{className:"passp-confirm-restore-email-form__error"},l.default[n[0]]?l.default[n[0]]:l.default.internal)),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"submit",buttonText:"Да, хочу",buttonTheme:"action",onClick:a})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Изменить почту",buttonTheme:"normal",onClick:s})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(c.default,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:o})))}}]),t}();t.default=d},bb35215c4a46a2d07b5f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),o=n.auth,r=o.processedAccount,i=o.defaultAccount,c=n.common,u=c.authUrl,l=c.currentUrl,s=r||i,d=u.split("?")[0],f=[];s&&f.push("login="+encodeURIComponent(s.login)),l&&f.push("retpath="+encodeURIComponent(l)),0!==f.length&&(d+="?"+f.join("&")),e((0,a.default)(d))}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("991bab4cbee4bd95d9b7"))},bf544cefb06e388421f9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrors=void 0,t.default=function(){return function(e,t){var n=t(),u=n.common.track_id,s=c.default.getValue(),d={track_id:u,code:s};e((0,o.clearErrors)()),a.default.request("auth/restore_login/confirm_phone",d).done(function(){e((0,i.changePagePopupVisibility)(!1)),e((0,i.changePagePopupType)("")),e((0,r.default)())}).fail(function(t){return e((0,o.setErrors)(l(t.errors)))})}};var a=u(n("fb6358edfd8976cf491c")),o=n("b2d0f77fd033b41cb6bc"),r=u(n("4361156a89db2be4395a")),i=n("4ee320a8137784c050e0"),c=u(n("8ac88226f78440b88a54"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t={},n=e.find(function(e){return"code.empty"===e}),a=e.find(function(e){return"code.invalid"===e}),o=e.find(function(e){return"phone_secure.not_found"===e}),r=e.find(function(e){return"rate.limit_exceeded"===e||"confirmations_limit.exceeded"===e});return e.find(function(e){return"internal"===e})&&(t.code="internal"),n&&(t.code="empty"),a&&(t.code="notMatched"),r&&(t.code="rateLimitExceeded"),o&&(t.phone="notFound"),t};t.handleErrors=l},bf84de9334c4224584f8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),f(n("f829dce6e807e79181ee"))),u=f(n("ce71044ed50ae6df54b1")),l=f(n("a1d676ee048a2b15fe67")),s=f(n("61f911b615a91fc208f2")),d=f(n("52d9fd07e1608f87903b"));function f(e){return e&&e.__esModule?e:{default:e}}var p={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",invalid:"Недопустимый формат номера",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже"},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submitForm=n.submitForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.trackId,n=e.changeCaptchaState,a=e.changeNativeInputValue,o=e.changePhone,r=e.setupBackPane,i=e.editUrl,c=e.getTrack;n(!0),o(""),a("phone",""),r(i),t||c()}},{key:"componentWillUnmount",value:function(){this.props.changeCaptchaState(!1)}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkPhone()}},{key:"render",value:function(){var e=this.props,t=e.phone,n=e.changePhone,a=e.checkPhone,o=e.phoneError,i=o&&"notFound"!==o&&(p[o]||p.internal)||"";return r.default.createElement(l.default,{onSubmit:this.submitForm,cls:"enter-phone"},r.default.createElement(c.default,{fieldName:"phone",fieldType:"text",fieldLabel:"Введите номер телефона",fieldValue:t,fieldError:i,onFieldChange:n}),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Далее",buttonTheme:"action",onClick:a})))}}]),t}();t.default=(0,i.connect)(s.default,d.default)(b)},c076fa5b09b60deed733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.additionalDataRequest,n=t.email,a=t.confirmationCode,o=t.isConfirmationCodeSent,r=t.isCaptchaRequired,i=t.action,c=t.denyResendUntil,u=t.errors;return{email:n,confirmationCode:a,isConfirmationCodeSent:o,isCaptchaRequired:r,action:i,denyResendUntil:c,errors:u}}},c168465d7951f95f2976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=_(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(_(n("8a2d1b95e05b6a321e74")),_(n("fa93acbe643a2e0cfe93"))),u=n("2a8109ac628133d5b12f"),l=_(n("6720f7e94eecea453799")),s=_(n("3c1b3101563cb704ee07")),d=_(n("360ec9d703334ea25de8")),f=_(n("1e85d4dfe3ef0b693888")),p=_(n("f469c14f5c3cd24dad9a")),b=_(n("415b2ec7a2c957bbe58a"));function _(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.magicUrl,n=e.setupMode,a=e.setupPane,o=e.authPasswordSubmitForMagic;n("magic"),a(t),l.default.goal(u.SHOW_QR_FORM_GOAL),l.default.send([u.SHOW_QR_FORM]),o()}},{key:"componentDidUpdate",value:function(e){e.magicCSRFToken===this.props.magicCSRFToken&&e.trackId===this.props.trackId||c.default.restart()}},{key:"componentWillUnmount",value:function(){c.default.stop()}},{key:"render",value:function(){var e=this.props,t=e.trackId,n=e.fieldError;return r.default.createElement(p.default,{cls:"magic"},r.default.createElement("div",{className:"passp-magic-promo-title passp-clearfix"},r.default.createElement("div",{className:"passp-magic-promo-title__image"}),r.default.createElement("div",{className:"passp-magic-promo-title__text"},"Войдите с помощью приложения Яндекс")),r.default.createElement(b.default,null,"Откройте приложение Яндекс или Яндекс.Ключ и наведите камеру на QR-код"),r.default.createElement(f.default,{trackId:t,fieldError:n}),r.default.createElement("h3",{className:"passp-install-yandex-app-title"},"Установить Яндекс"),r.default.createElement("div",{className:"passp-install-yandex-app-links passp-clearfix"},r.default.createElement("a",{className:"passp-install-yandex-app-link",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage"},r.default.createElement("div",{className:"passp-gplay-icon"})),r.default.createElement("a",{className:"passp-install-yandex-app-link",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage"},r.default.createElement("div",{className:"passp-appstore-icon"}))))}}]),t}();t.default=(0,i.connect)(s.default,d.default)(h)},c1c5f474e631e6348cde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return function(r,i){var c=i(),u=c.additionalDataRequest.action,l=t||"";"skip_phone"!==e&&"show_phone"!==e||(l=("add"===u?"Показ привязки телефона":"secure"===u&&"Показ превращения телефона в защищенный")||"admit"===u&&"Показ актуализации телефона"||"Показ привязки телефона"),"skip_email"!==e&&"show_email"!==e||(l=("add"===u?"Показ привязки емейла":"restore"===u&&"Показ превращения емейла в защищенный")||"Показ привязки емейла"),"skip_social"!==e&&"show_social"!==e||(l=("add"===u?"Показ привязки социальщика":"allow_auth"===u&&"Показ включения авторизации социальщика")||"Показ привязки социальщика"),o.default.goal(a.ADDITIONAL_DATA_REQUEST_METRICS_PREFIX+"_"+e),o.default.send([l,n])}};var a=n("2a8109ac628133d5b12f"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("6720f7e94eecea453799"))},c43788c16aa202df1e88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.CHANGE_CAPTCHA_PLAY_STATUS:return Object.assign({},e,{playing:t.playing});case a.CHANGE_CAPTCHA_TYPE:return Object.assign({},e,{type:"text"===e.type?"audio":"text"});case a.LOAD_CAPTCHA:return Object.assign({},e,{loading:!0,loadingAudio:!0});case a.GET_AUDIO_CAPTCHA:return Object.assign({},e,{loadingAudio:!0});case a.GET_IMAGE_CAPTCHA_SUCCESS:var n={loading:!1,key:t.key,imageUrl:t.imageUrl};return Object.assign({},e,n);case a.GET_AUDIO_CAPTCHA_SUCCESS:var o={loadingAudio:!1,key:t.key};return t.introSound&&(o.introSound=t.introSound),t.captchaSound?o.captchaSound=t.captchaSound:o.captchaSound=null,Object.assign({},e,o);case a.GET_AUDIO_CAPTCHA_FAIL:return Object.assign({},e,{loadingAudio:!1});case a.CLEAR_CAPTCHA_PROPS:return Object.assign({},e,{loading:!1,loadingAudio:!1,playing:!1,type:"text",key:null,imageUrl:null,introSound:null,captchaSound:null});default:return e}};var a=n("b24de1e495698d2f533b")},c518566eeaa42dd53309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=n("27361837e9c8186338e3"),c=n("d7dd51e1bf6bfc2c9c3d"),u=(d(n("8a2d1b95e05b6a321e74")),n("4ee320a8137784c050e0")),l=d(n("e8f6b72a963e743d04a5")),s=d(n("b190c58cfcb7968e0d19"));function d(e){return e&&e.__esModule?e:{default:e}}var f={logout:l.default,forget:s.default},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addOuthsideClickHandler=n.addOuthsideClickHandler.bind(n),n.removeOutsideClickHandler=n.removeOutsideClickHandler.bind(n),n.onOutsideClick=n.onOutsideClick.bind(n),n.onMenuClick=n.onMenuClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.isShowMobileMenu;e.isShowMobileMenu!==t&&(!e.isShowMobileMenu&&t?this.addOuthsideClickHandler():this.removeOutsideClickHandler())}},{key:"addOuthsideClickHandler",value:function(){var e=this;setTimeout(function(){window.addEventListener?window.addEventListener("click",e.onOutsideClick):window.attachEvent("onclick",e.onOutsideClick)},300)}},{key:"removeOutsideClickHandler",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"onOutsideClick",value:function(){var e=this.props,t=e.isShowMobileMenu,n=e.changeMobileMenuVisibility;t&&n(!1)}},{key:"onMenuClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props.mobileMenuType,t=f[e];return r.default.createElement("div",{className:"passp-mobile-menu",onClick:this.onMenuClick},t&&r.default.createElement(t,null))}}],[{key:"mapStateToProps",value:function(e){var t=e.mobileMenu;return{isShowMobileMenu:t.isShowMobileMenu,mobileMenuType:t.mobileMenuType}}},{key:"mapDispatchToProps",value:function(e){var t={changeMobileMenuVisibility:u.changeMobileMenuVisibility};return Object.assign({},(0,i.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,c.connect)(p.mapStateToProps,p.mapDispatchToProps)(p)},c62440e8cccaf06588e5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),f(n("9fe9717c8f13b7d5381b"))),u=f(n("ce71044ed50ae6df54b1")),l=f(n("a1d676ee048a2b15fe67")),s=f(n("4589c07dfb5f37a60c4a")),d=f(n("ac46bda6cb040d04f8e4"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.accounts,n=e.addUserUrl,a=e.restoreLoginUrl,i=e.hasAccounts,s=e.avatarPath,d=e.addUserWithLoginUrl,f=e.startAuth,p=e.switchToModeAddingAccount,b=e.switchToModeRestoreLogin,_=e.openEnterNameForm,h=e.isNotFoundPhoneError;return r.default.createElement("div",{className:"passp-account-list"},i?r.default.createElement(o.Fragment,null,r.default.createElement("ul",{className:"passp-account-list-items"},t.map(function(e){return r.default.createElement("li",{className:"passp-account-list-item_block",key:e.uid},r.default.createElement(c.default,{account:e,avatarPath:s,addUserWithLoginUrl:d,startAuth:f}))})),r.default.createElement(l.default,{cls:"another-login"},r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Повторить поиск с другим телефоном",buttonLink:a,onClick:b,buttonTheme:"action"})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Повторить поиск с другим именем",onClick:_,buttonTheme:"action"})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"link",buttonText:"Войти в другой аккаунт",buttonLink:n,onClick:p,buttonTheme:"normal"})))):r.default.createElement(l.default,{cls:"retry-search-login"},r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"button",buttonText:"Повторить поиск с другим телефоном",buttonLink:a,onClick:b,buttonTheme:"action"})),r.default.createElement("div",{className:"passp-button"},!h&&r.default.createElement(u.default,{buttonType:"button",buttonText:"Повторить поиск с другим именем",onClick:_,buttonTheme:"action"})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(u.default,{buttonType:"link",buttonText:"Войти в другой аккаунт",buttonLink:n,onClick:p,buttonTheme:"normal"}))))}}]),t}();t.default=(0,i.connect)(s.default,d.default)(p)},c7288bb0a1591286b52d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=h(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=h(n("b912ecc4473ae8a2ff0b")),u=(h(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),l=h(n("6720f7e94eecea453799")),s=h(n("ee2fcad67ee984cc1b1f")),d=h(n("f36dc22f54fd39044fbb")),f=h(n("d50dc6bf2c7c8407f83a")),p=h(n("8b51c0d0c1d1775789f5")),b=h(n("f469c14f5c3cd24dad9a")),_=h(n("415b2ec7a2c957bbe58a"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,a=e.setupPane,o=e.addUserUrl,r=e.editUrl;e.hasUnitedAccounts&&t(r),n("addingAccount"),a(o),l.default.send([u.SHOW_LOGIN_FORM]),l.default.goal(u.SHOW_LOGIN_FORM_GOAL)}},{key:"componentWillUnmount",value:function(){(0,this.props.canRegister)({isCanRegister:!1})}},{key:"render",value:function(){var e=this.props,t=e.isCanRegister,n=e.customTagline;return r.default.createElement(b.default,{cls:"add-account"},r.default.createElement("div",{className:(0,c.default)({"passp-add-account-page_has-social-block":!0,"passp-add-account-page_can-register":t})},r.default.createElement(_.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),r.default.createElement(f.default,null),r.default.createElement(p.default,null)))}}]),t}();t.default=(0,i.connect)(s.default,d.default)(m)},c770b1e8e1540527b476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),u=f(n("6720f7e94eecea453799")),l=f(n("d7d34e169ec40673b89a")),s=f(n("b28dfd2cd152154a9e1a")),d=f(n("10e962d582339e41eb7c"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleCrossClick=n.handleCrossClick.bind(n),n.showMobileMenu=n.showMobileMenu.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,a=t.changeActiveAccount;e.preventDefault(),a(n.uid)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,a=t.logoutAccount;e.preventDefault(),a(n.uid),u.default.send([c.SHOW_SUGGEST_LIST,c.LOGOUT_ACCOUNT])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,a=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,r=t.setProccessedAccountUid;e.preventDefault(),o("logout"),r(n.uid),a(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,a=e.isTouch,o=e.logoutUrl,i=e.fallbackUrl;return t?r.default.createElement("li",{className:"passp-account-list-item_block"},r.default.createElement(d.default,{account:t,avatarSettings:n,logoutUrl:o,fallbackUrl:i,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!1,isTouch:a})):null}}]),t}();t.default=(0,i.connect)(l.default,s.default)(p)},c8283707285dbcdfa00d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var l=n(),s=l.auth,d=s.processedAccount,f=s.defaultAccount,p=l.common.csrf,b=d||f,_={email:e,csrf_token:p,is_safe:"yes",uid:b?b.uid:""};t((0,o.clearErrors)()),a.default.request("email/setup_confirmed_v2",_).done(function(){t((0,c.default)("setup_confirmed_email","Показ превращения емейла в защищенный","Превратить")),t((0,r.default)("no"))}).fail(function(e){-1===e.errors.indexOf("password.required")?(t((0,o.setErrors)(e.errors)),t((0,u.domikIsLoading)(!1))):t((0,i.default)())})}};var a=l(n("fb6358edfd8976cf491c")),o=n("2dad848e8287918fdb83"),r=l(n("376afcf70180c39dfa41")),i=l(n("bb35215c4a46a2d07b5f")),c=l(n("c1c5f474e631e6348cde")),u=n("4ee320a8137784c050e0");function l(e){return e&&e.__esModule?e:{default:e}}},c8ffe23a92589aee0f8a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=l(o),i=l(n("bf84de9334c4224584f8")),c=l(n("415b2ec7a2c957bbe58a")),u=l(n("f469c14f5c3cd24dad9a"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return r.default.createElement(u.default,{cls:"restore-login-enter-phone"},r.default.createElement(c.default,null,"Для восстановления логина введите номер телефона, который был привязан к аккаунту"),r.default.createElement(i.default,null))}}]),t}();t.default=s},ca24a59b6c35f0274ada:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var c=n(),u=c.common,l=u.track_id,s=u.uid,d=u.captchaScaleFactor,f=c.settings.language,p=c.captcha.ocr;t((0,i.loadCaptcha)());var b={track_id:l,uid:s,language:f,ocr:p};d&&(b.scale_factor=d),a.default.request("textcaptcha",b,{abortPrevious:!0}).done(function(n){return t((0,i.getImageCaptchaSuccess)(n.key,n.image_url)),t(e?(0,o.default)(n):(0,r.default)(n))}).fail(function(e){t((0,i.getCaptchaFail)(e))})}};var a=c(n("fb6358edfd8976cf491c")),o=c(n("82a1a22fbf89468ffd30")),r=c(n("ba531bf28b1c27064b28")),i=n("b24de1e495698d2f533b");function c(e){return e&&e.__esModule?e:{default:e}}},ce71044ed50ae6df54b1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=e.buttonType,n=e.buttonText,i=e.buttonTheme,c=e.buttonLink,u=e.onClick,l=e.disabled,s={};c&&(s.url=c);l&&(s.disabled=l);return o.default.createElement(r.default,a({cls:"passp-form-button",theme:i,size:"l",width:"max",type:t,onClick:u},s),n)};var o=i(n("8af190b70a6bc55c6f1b")),r=(i(n("8a2d1b95e05b6a321e74")),i(n("a6fd5b93bd0fb4ce3d49")));function i(e){return e&&e.__esModule?e:{default:e}}},cfbb1a667a369146e7f0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={changeConfirmationCode:o.changeConfirmationCode,sendAdditionalDataRequestMetrics:r.default,sendApiRequest:i.default,clearErrors:o.clearErrors,changeNativeInputValue:c.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("2dad848e8287918fdb83"),r=u(n("c1c5f474e631e6348cde")),i=u(n("492f0884ca0d25627280")),c=u(n("8150816e8c486cf8a0f0"));function u(e){return e&&e.__esModule?e:{default:e}}},d25df76ba5a6ce17dde1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.common,n=t.addUserUrl,r=t.editUrl,i=t.welcomeUrl,c=t.backPane,u=e.auth,l=u.processedAccount,s=u.form,d=s.login,f=s.isForceOTP,p=u.unitedAccounts,b=e.customs.tagline,_=e.social.providers,h=e.mailAuth,m=h.isEnabled,y=h.isUpdatedAuthLetterStatus,g=e.messengerAuth.isEnabled,v=Object.keys(p).length>0,E=l.allowed_auth_methods||[],O=l.preferred_auth_method||"password";E.indexOf("otp")>-1&&f&&(O="otp");var T=_.filter(function(e){var t=e.data;return"social_"+t.code===O})[0]||null,C=a.default[b]||"Войдите, чтобы продолжить",P=Boolean(E.length&&!E.some(function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e})),S=Boolean(o.indexOf(O)>-1&&T)||P,A=Boolean("password"===O||E.indexOf("password")>-1),w=Boolean(E.indexOf("magic_link")>-1);return{addUserUrl:n,editUrl:r,welcomeUrl:i,backPane:c,hasUnitedAccounts:v,customTagline:C,account:l,login:d,hasSocialButton:S,isShowPasswordField:A,isShowAuthLetterButton:w,isMailAuthEnabled:m,isMessengerAuthEnabled:g,isUpdatedAuthLetterStatus:y}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fefa03794472a910c8cc"));var o=["social_gg","social_fb","social_tw","social_mr","social_vk","social_sberbank","social_ok"]},d2dbe1fcc8a23653b617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.settings,o=n.avatar,r=n.ua,i=e.common,c=i.embeddedauth_url,u=i.retpath,l=i.origin,s=i.yu,d=t.account.uid,f=(0,a.default)({action:"logout",embeddedAuthUrl:c,retpath:u,yu:s,origin:l,uid:d}),p=(0,a.default)({action:"retpath",embeddedAuthUrl:c,retpath:u,yu:s,origin:l,uid:d});return{isTouch:r&&r.isTouch,avatarSettings:o,logoutUrl:f,fallbackUrl:p}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b20b60813c34dac7b6ce"))},d3959c63d47d0a3395f0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mailAuth,n=t.isAuthMailConfirmationVisible,r=t.isUpdatedAuthLetterStatus,i=t.isAuthMailSent,c=t.isAuthCancelled,u=t.mailAuthError,l=t.mailAuthExperiment,s=e.auth.processedAccount,d=s.email,f=s.allowed_auth_methods,p=Object.assign({},o.default,a.default),b="magic_link.invalidated"===u,_=u&&(p[u]||p.global),h="captcha.required"===u,m=i&&!c,y=function(e,t){if(t)return"Письмо отправлено";var n={magic_link_exp:"Получить письмо для входа",magic_link_exp_t1:"Получить письмо для входа",magic_link_exp_t2:"Войти без пароля",magic_link_exp_t3:"Войти без пароля",magic_link_exp_t4:"Отправить письмо для входа"};return n[e]||n.magic_link_exp}(l,m),g=r&&!f.includes("magic_link"),v=function(e,t){var n={magic_link_exp:"Письмо придёт на почту <strong>%s</strong>\nоткройте его на любом устройстве",magic_link_exp_t1:"Если вы уже вошли в почту <strong>%s</strong> на другом устройстве, подтвердите вход, нажав на кнопку в письме",magic_link_exp_t2:"Мы отправим на ящик <strong>%s</strong> письмо для подтверждения входа",magic_link_exp_t3:"Мы отправим письмо на <strong>%s</strong>, откройте его на устройстве, где вы авторизованы",magic_link_exp_t4:"Откройте его на устройстве, где вы авторизованы, и подтвердите вход"};return n[e]&&n[e].replace("%s",t)||n.magic_link_exp}(l,d);return{isAuthMailConfirmationVisible:n,isUpdatedAuthLetterStatus:r,isShouldBeDisabled:g,isAuthMailSent:i,isAuthCancelled:c,isAuthLetterStatusChecking:m,isCaptchaRequired:h,error:_,shouldErrorDisappear:b,email:d,buttonText:y,descriptionText:v,titleRequired:"magic_link_exp_t1"===l}};var a=r(n("65f992ec08dfd9108e30")),o=r(n("f3e5b0b53b9a60481e9f"));function r(e){return e&&e.__esModule?e:{default:e}}},d50dc6bf2c7c8407f83a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=m(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=m(n("b912ecc4473ae8a2ff0b")),u=(m(n("8a2d1b95e05b6a321e74")),m(n("492f0884ca0d25627280"))),l=m(n("614b39f039bc9b9d408e")),s=m(n("2d4f8b4913646867c015")),d=m(n("5ec19fc3bfeab65dc04f")),f=m(n("5b1ba08c9bbd7767f36c")),p=m(n("de2bc6fddb7a49bbda32")),b=m(n("e10f1597817d0474ba0e")),_=m(n("13a6fd289c62825ef787")),h=m(n("12409bff7d6b1ff45b24"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeLoginValue=n.changeLoginValue.bind(n),n.submitLoginForm=n.submitLoginForm.bind(n),n.handlePasswordChange=n.handlePasswordChange.bind(n),n.switchToMagicPage=n.switchToMagicPage.bind(n),n.changePromoTooltipPosition=n.changePromoTooltipPosition.bind(n),n.state={isPasswordChanged:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isShowQRAuthPromoTooltip&&((0,h.default)(),this.promoTimer=setTimeout(function(){e.changePromoTooltipPosition()},600),$(window).on("resize",this.changePromoTooltipPosition))}},{key:"componentDidUpdate",value:function(e){if("addingAccount"===e.mode&&"addingAccount"!==this.props.mode){var t=document.getElementById("qr-promo-tooltip");this.promoTimer&&clearTimeout(this.promoTimer),t&&(t.style.display="none",t.style.opacity="0",t.style.display="block")}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setLoginError,n=e.isShowQRAuthPromoTooltip;t(""),n&&$(window).off("resize",this.changePromoTooltipPosition)}},{key:"changePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-sign-in-button"),t=document.getElementById("qr-promo-tooltip");if(e&&t){var n=e.getBoundingClientRect();t.style.top=n.top-15+"px",t.style.right=n.left-250+"px",t.style.left="auto",t.style.opacity="1"}}},{key:"changeLoginValue",value:function(e){(0,this.props.updateLoginValue)(e)}},{key:"handlePasswordChange",value:function(e){e.target.value&&this.setState({isPasswordChanged:!0})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.props,n=t.addUserUrl,a=t.login;(0,t.dispatch)((0,u.default)(l.default,a,n))}},{key:"switchToMagicPage",value:function(){this.props.switchToModeMagic(!1)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.retpath,a=e.fretpath,o=e.clean,i=e.csrf,u=e.isCanRegister,l=e.registrationLogin,s=e.registrationUrl,d=e.hasCaptcha,h=e.authUrl;return r.default.createElement("div",{className:(0,c.default)("passp-login-form",{"passp-login-form_can-register":u,"passp-login-form_has-captcha":d})},r.default.createElement("form",{onSubmit:this.submitLoginForm,method:"post",action:h},r.default.createElement("input",{type:"hidden",name:"retpath",value:n}),r.default.createElement("input",{type:"hidden",name:"fretpath",value:a}),r.default.createElement("input",{type:"hidden",name:"clean",value:o}),r.default.createElement("input",{type:"hidden",name:"service",value:""}),r.default.createElement("input",{type:"hidden",name:"origin",value:""}),r.default.createElement("input",{type:"hidden",name:"policy",value:""}),r.default.createElement("input",{type:"hidden",name:"is_pdd",value:""}),r.default.createElement("input",{type:"hidden",name:"csrf_token",value:i}),d&&r.default.createElement(f.default,null),r.default.createElement(p.default,{login:t,onChangeLogin:this.changeLoginValue}),!this.state.isPasswordChanged&&r.default.createElement("input",{className:"passp-hidden-password-field",type:"password",id:"hiddenPassword",name:"hidden-password",onChange:this.handlePasswordChange,tabIndex:-1,autoComplete:"off","aria-hidden":!0}),r.default.createElement(b.default,{login:l,url:s}),r.default.createElement(_.default,{switchToModeMagic:this.switchToMagicPage})))}}]),t}();y.defaultProps={retpath:"",fretpath:"",clean:"",csrf:"",isCanRegister:!1},t.default=(0,i.connect)(s.default,d.default)(y)},d588776d16def5f6ce0b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(p(n("8a2d1b95e05b6a321e74")),p(n("b912ecc4473ae8a2ff0b"))),u=n("3aced5b508e7389026da"),l=p(n("1def7208fe0e21ce16a3")),s=n("4ee320a8137784c050e0"),d=p(n("8150816e8c486cf8a0f0")),f=p(n("77f4ec134c13a6a944ca"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.switchToListPage=n.switchToListPage.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"switchToListPage",value:function(e){var t=this.props,n=t.addUserUrl,a=t.editUrl,o=t.hasUnitedAccounts,r=t.dispatch;e.preventDefault(),r((0,u.push)(o?a:n,{isPreviousStep:!0})),o||(r((0,s.updateLoginValue)("")),r((0,d.default)("login","")))}},{key:"render",value:function(){var e=this.props,t=e.hasDisplayName,n=e.displayLogin,a=e.avatarStyle,o=e.displayName,i=e.login,u=e.editUrl;return r.default.createElement(l.default,{url:u,theme:"normal",onClick:this.switchToListPage,cls:(0,c.default)("passp-current-account",{"passp-current-account_has-display-name":t,"passp-current-account_without-login":!n})},r.default.createElement("div",{className:"passp-current-account__avatar",style:a}),r.default.createElement("div",{className:"passp-current-account__display-name"},o||n||i),t&&n&&r.default.createElement("div",{className:"passp-current-account__login"},n),r.default.createElement("div",{className:"passp-current-account__select-icon"}))}}]),t}();t.default=(0,i.connect)(f.default)(b)},d6b450235dea56f14038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n("99d31cffdbf327a0604b")),o=c(n("199afe915d0301db3224")),r=c(n("66cc45f59e73e5a78254")),i=c(n("7bec9e0f5607402a990d"));function c(e){return e&&e.__esModule?e:{default:e}}var u=void 0,l={init:function(e){var t=this;t.setStore(e);var n=t.getStore().getState(),a=n.social.brokerParams.startUrl,r=n.common,i=r.retpath,c=r.backpath,u=r.origin,l=n.auth.process_uuid,s=n.customs.display,d={},f=i||location.protocol+"//"+location.host+"/profile";"yandex"===u&&(f=c||location.protocol+"//"+location.host+"/profile"),d.resize=1,d.startUrl=a,("popup"===s||"touch"===s||t.isTouch())&&(d.display="touch",d.retnopopup=f),d.process_uuid=l,window.addEventListener?window.addEventListener("message",t.onSuccess.bind(this)):window.attachEvent("onmessage",t.onSuccess.bind(this)),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname),window.socialResponse=function(e){t.onSuccess({origin:location.origin,data:e})},o.default.init(d)},getStore:function(){return u},isTouch:function(){return a.default.isTouch},setStore:function(e){u=e},onSuccess:function(e){var t=this.getStore().getState().common,n=t.origin,a=t.pane;e.origin===location.origin&&e.data.socialAuth&&(a.match(/\/auth\/social/)||"ok"===e.data.status&&("yandex"===n?this.getStore().dispatch((0,r.default)()):this.getStore().dispatch((0,i.default)())))},start:function(e){o.default.start(e)}};t.default=l},d7d34e169ec40673b89a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.settings,o=n.avatar,r=n.ua,i=e.common,c=i.embeddedauth_url,u=i.retpath,l=i.origin,s=i.yu,d=t.account.uid,f=(0,a.default)({action:"logout",embeddedAuthUrl:c,retpath:u,yu:s,origin:l,uid:d}),p=(0,a.default)({action:"change_default",embeddedAuthUrl:c,retpath:u,yu:s,origin:l,uid:d});return{isTouch:r&&r.isTouch,avatarSettings:o,logoutUrl:f,fallbackUrl:p}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("b20b60813c34dac7b6ce"))},d8640f8c6b90b5cc4700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=s(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(s(n("8a2d1b95e05b6a321e74")),s(n("f90d1e31363e3e95f33e"))),u=s(n("32f2686eeb882a4ae234")),l=s(n("ed71d4c250ec26f8dc96"));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCloseClick=n.handleCloseClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t((0,u.default)())}},{key:"render",value:function(){var e=this.props.email,t="Письмо отправлено\nна <strong>%s</strong>".replace("%s",e);return r.default.createElement("div",{className:"al-send-popup passp-page-popup__content"},r.default.createElement("div",{className:"al-send-popup__content"},r.default.createElement("p",{className:"al-send-popup__description",dangerouslySetInnerHTML:{__html:t}}),r.default.createElement(c.default,{text:"Когда вы нажмёте на кнопку в письме, увидите на экране три символа<br/>\nУбедитесь, что там те же символы, что здесь"}),r.default.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля")),r.default.createElement(l.default,null))}}],[{key:"mapStateToProps",value:function(e){return{email:e.auth.processedAccount.email}}}]),t}();t.default=(0,i.connect)(d.mapStateToProps)(d)},d8b9d13b44bc0751f18c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(p(n("8a2d1b95e05b6a321e74")),p(n("16de34b25409679aeacf"))),u=p(n("e6ab9ec4fb60a42c7fce")),l=p(n("c770b1e8e1540527b476")),s=p(n("f06a2b1b63b4c7bb4fd1")),d=p(n("7aa3d9891ce07350e4a8")),f=p(n("44cf7cc3e87e91eeaaf7"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.authorizedAccounts,n=e.defaultAccount,a=e.hasUnauthorizedAccounts,o=e.suggestedAccounts,i=e.invalidAccounts,c=e.isSessionOverflow;return r.default.createElement("div",{className:"passp-account-list"},r.default.createElement("ul",{className:"passp-account-list-items"},n&&r.default.createElement(u.default,{key:n.uid,account:n}),t.filter(function(e){return!n||e.uid!==n.uid}).map(function(e){return r.default.createElement(l.default,{key:e.uid,account:e})}),a&&r.default.createElement("h3",{className:"passp-account-list__unathorized_accounts_title"},"Вы вышли из аккаунтов:"),o.map(function(e){return r.default.createElement(s.default,{key:e.uid,account:e})}),i.map(function(e){return r.default.createElement(d.default,{key:e.uid,account:e})})),!c&&r.default.createElement(f.default,null))}}]),t}();t.default=(0,i.connect)(c.default)(b)},d980a6b4f65a3a13be8b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_CSRF=t.GET_TIMEZONES=t.GET_COUNTRIES=t.SETUP_PANE=t.LOCATION_CHANGE=t.SETUP_BACK_PANE=t.GET_TRACK_FAIL=t.GET_TRACK_SUCCESS=t.GET_TRACK=t.UPDATE_TRACK=t.CURRENT_PAGE_CHANGED=t.SHOW_REG_POPUP=t.SET_EDIT_MODE=t.CONNECTION_ERROR=t.SAVE_ACTION_FOR_REPEAT=void 0,t.connectionError=function(e){return{type:i,error:e}},t.saveActionForRepeat=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:r,actionToCall:e,payload:n}},t.setEditMode=function(e){return{type:c,edit:e}},t.showRegPopup=function(e){return{type:u,show:e}},t.goToRetpath=function(){return function(e,t){var n=t().common,o=n.retpath,r=n.defaultPage;o?location.replace(o):e((0,a.push)(r))}},t.goToAuth=function(){return function(e,t){var n=t().common,a=n.defaultPage,o=n.authURL;o?location.replace(o):location.replace("/auth?retpath="+a)}},t.changeCurrentPage=function(e,t){return{type:l,currentPage:e,historyEvent:t}},t.getNewTrackId=function(){return function(e,t){var n=t(),a=n.common,r=a.csrf,i=a.actionForRepeat||{},c=i.action,u=i.payload;e({type:d}),o.default.request("getTrackWithUid",{csrf_token:r}).done(function(t){e({type:f,track_id:t.track_id}),c&&e(c.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u)))}).fail(function(t){e({type:p,res:t})})}},t.updateTrack=function(e){return{type:s,track_id:e}},t.updateCSRF=function(e){return{type:h,token:e}},t.handleBack=function(){return function(e,t){var n=t(),o=n.common;"string"==typeof o.backPane?e((0,a.push)(o.backPane)):o.backPane&&e((0,a.goBack)()),e(m(null))}},t.setupBackPane=m,t.setupPane=function(e){return function(t){t({type:_,pane:e})}};var a=n("3ad3c1378076e862aab0"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c"));var r=t.SAVE_ACTION_FOR_REPEAT="SAVE_ACTION_FOR_REPEAT",i=t.CONNECTION_ERROR="CONNECTION_ERROR",c=t.SET_EDIT_MODE="SET_EDIT_MODE",u=t.SHOW_REG_POPUP="SHOW_REG_POPUP",l=t.CURRENT_PAGE_CHANGED="CURRENT_PAGE_CHANGED",s=t.UPDATE_TRACK="UPDATE_TRACK",d=t.GET_TRACK="GET_TRACK",f=t.GET_TRACK_SUCCESS="GET_TRACK_SUCCESS",p=t.GET_TRACK_FAIL="GET_TRACK_FAIL",b=t.SETUP_BACK_PANE="SETUP_BACK_PANE",_=(t.LOCATION_CHANGE="LOCATION_CHANGE",t.SETUP_PANE="SETUP_PANE"),h=(t.GET_COUNTRIES="GET_COUNTRIES",t.GET_TIMEZONES="GET_TIMEZONES",t.UPDATE_CSRF="UPDATE_CSRF");function m(e){return function(t){t({type:b,pane:e})}}},dabe4e15a14257fec3c9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var i=n(),c=i.settings.ua,u=i.common,l=u.profile_url,s=u.csrf,d=u.yu,f=u.retpath,p=c&&c.isTouch,b={csrf_token:s,retpath:f||l,uid:e,yu:d};t((0,o.domikIsLoading)(!0)),a.default.request("auth/logout",b).done(function(){t((0,r.default)()),p&&t((0,o.changeMobileMenuVisibility)(!1))}).fail(function(){t((0,r.default)())}).always(function(){return t((0,o.domikIsLoading)(!1))})}};var a=i(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=i(n("400d618db20c4ff01c08"));function i(e){return e&&e.__esModule?e:{default:e}}},dafcc85692a2c3d9f452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){if(!e||!e.trim())return t((0,i.setErrors)(["email.empty"])),void t((0,o.domikIsLoading)(!1));var l=n(),s=l.additionalDataRequest.track_id,d=l.auth,f=d.processedAccount,p=d.defaultAccount,b=l.common,_=b.profile_url,h=b.csrf,m=f||p,y={email:e,track_id:s,csrf_token:h,validator_ui_url:_,retpath:_,code_only:"yes",uid:m?m.uid:""};t((0,i.clearErrors)()),a.default.request("email/send_confirmation_email_v2",y).done(function(){t((0,u.default)("request_email_confirmation_code","Показ привязки емейла","Отправка кода")),t((0,i.sentEmailConfirmationCodeSuccess)()),t((0,o.domikIsLoading)(!1)),t((0,o.changePagePopupVisibility)(!0)),t((0,o.changePagePopupType)("emailConfirmation"))}).fail(function(e){for(var n=e.errors.length,a=0;a<n;a++){var u=e.errors[a];if("password.required"===u)return void t((0,c.default)());if("email.already_confirmed"===u)return void t((0,r.default)())}t((0,i.setErrors)(e.errors)),t((0,o.domikIsLoading)(!1))})}};var a=l(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=l(n("7bec9e0f5607402a990d")),i=n("2dad848e8287918fdb83"),c=l(n("bb35215c4a46a2d07b5f")),u=l(n("c1c5f474e631e6348cde"));function l(e){return e&&e.__esModule?e:{default:e}}},dcab4392e18bb757d6bb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=m(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(m(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),u=m(n("6720f7e94eecea453799")),l=m(n("d25df76ba5a6ce17dde1")),s=m(n("187fb00d6fb085509d48")),d=m(n("1322e380206bd356b59d")),f=m(n("664b6cb97401fb1e6d78")),p=m(n("4b89f6d4ff311c5307f2")),b=m(n("54e87e818f78ae30bfd7")),_=m(n("f469c14f5c3cd24dad9a")),h=m(n("415b2ec7a2c957bbe58a"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.addUserUrl,a=e.editUrl,o=e.welcomeUrl,r=e.setupMode,i=e.setupPane,l=e.backPane,s=e.hasUnitedAccounts,d=e.updateLoginValue,f=e.account,p=e.login;u.default.goal(c.SHOW_PASSWORD_FORM_GOAL),l&&l!==o||t(s?a:n),p||d(f.login),r("welcome"),i(o)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.updatePasswordValue,n=e.changeNativeInputValue;t(""),n("passwd","")}},{key:"render",value:function(){var e=this.props,t=e.customTagline,n=e.hasSocialButton,a=e.isShowPasswordField,o=e.isShowAuthLetterButton,i=e.isMailAuthEnabled,c=e.isMessengerAuthEnabled,u=e.isUpdatedAuthLetterStatus;return r.default.createElement(_.default,{cls:"welcome"},r.default.createElement(h.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),r.default.createElement(d.default,{hasSocialButton:n}),n&&r.default.createElement(f.default,{isShowPasswordField:a}),i&&(o||u)&&r.default.createElement(p.default,null),c&&(o||u)&&r.default.createElement(b.default,null))}}]),t}();t.default=(0,i.connect)(l.default,s.default)(y)},de2bc6fddb7a49bbda32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=d(o),i=d(n("63f14ac74ce296f77f4d")),c=n("d7dd51e1bf6bfc2c9c3d"),u=(d(n("8a2d1b95e05b6a321e74")),d(n("753465db54c384e4bbc3"))),l=d(n("f829dce6e807e79181ee")),s=d(n("3025578a00df69bdcb8e"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"username"};var a=n.props,o=a.fieldLink,r=a.isRestoreLoginEnabled,i=a.dispatch;return n.fieldLink=Object.assign({},o),r&&(n.fieldLink.pseudo=!0,n.fieldLink.onClick=function(){o.onClick(),i((0,s.default)())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isNoTabletTouch||setTimeout(function(){i.default.findDOMNode(e.loginField).querySelector("input").focus()},300)}},{key:"render",value:function(){var e=this,t=this.props,n=t.login,a=t.onChangeLogin,o=t.fieldError,i=t.isShowFieldLink;return r.default.createElement(l.default,{ref:function(t){e.loginField=t},fieldLabel:"Введите логин, почту или телефон",fieldValue:n,fieldName:"login",fieldType:"text",fieldError:o,fieldLink:this.fieldLink,fieldOptions:this.fieldOptions,isShowFieldLink:i,onFieldChange:a})}}]),t}();f.defaultProps={fieldValue:""},t.default=(0,c.connect)(u.default)(f)},df082eebca57bc13f720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=l(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(l(n("8a2d1b95e05b6a321e74")),l(n("b912ecc4473ae8a2ff0b"))),u=l(n("ac563649a2d33b90d3d7"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.isShowMobileMenu;return r.default.createElement("div",{className:(0,c.default)("passp-page-overlay",{"passp-page-overlay_showed":t||n,"passp-page-overlay_mobile-menu":n})},t&&r.default.createElement(u.default,{cls:"passp-page-overlay__loader",progress:!0,size:"l"}))}}],[{key:"mapStateToProps",value:function(e){return{loading:e.auth.loading,isShowMobileMenu:e.mobileMenu.isShowMobileMenu}}}]),t}();s.defaultProps={loading:!1,isShowMobileMenu:!1},t.default=(0,i.connect)(s.mapStateToProps)(s)},dfeb0d4d6d92a58233ac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.CHANGE_MOBILE_MENU_VISIBILITY:return Object.assign({},e,{isShowMobileMenu:t.visible,mobileMenuType:t.visible?e.mobileMenuType:null});case a.CHANGE_MOBILE_MENU_TYPE:return Object.assign({},e,{mobileMenuType:t.mobileMenuType});case a.SET_PROCESSED_ACCOUNT_UID:return Object.assign({},e,{processedAccountUid:t.processedAccountUid});default:return e}};var a=n("4ee320a8137784c050e0")},e10f1597817d0474ba0e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=l(o),i=(l(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),c=l(n("6720f7e94eecea453799")),u=l(n("ce71044ed50ae6df54b1"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendMetrics=n.sendMetrics.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"sendMetrics",value:function(){c.default.send([i.SHOW_LOGIN_FORM,i.CLICK_REGISTRATION_LINK_FROM_ERROR])}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.url;return r.default.createElement("div",{onClick:this.sendMetrics,className:"passp-button passp-register-button"},r.default.createElement(u.default,{buttonType:"link",buttonLink:n,buttonText:"Зарегистрировать %1".replace("%1",t),buttonTheme:"normal"}))}}]),t}();t.default=s},e11671dbd7053ced2817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),c=n.common,u=c.track_id,l=c.uid,s=n.settings.language;e((0,r.default)()),e((0,i.getAudioCaptcha)()),a.default.request("audiocaptcha",{track_id:u,uid:l,language:s},{abortPrevious:!0}).done(function(t){return e((0,o.default)(t,!0))}).fail(function(t){return e((0,i.getAudioCaptchaFail)(t))})}};var a=c(n("fb6358edfd8976cf491c")),o=c(n("ba531bf28b1c27064b28")),r=c(n("2de5c9c49c6d5989f45c")),i=n("b24de1e495698d2f533b");function c(e){return e&&e.__esModule?e:{default:e}}},e14b389d821b6a025824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),r=n.common.welcomeUrl,i=n.auth.mode;"welcome"!==i&&(e((0,o.switchToModeWelcomeSuccess)()),e((0,a.push)(r)))}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},e16a64fc4ac2fa640ace:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var c=n(),u=c.common.csrf,l=e.uid,s=e.status,d=e.login,f=e.preferred_auth_method,p=e.allowed_auth_methods;if("INVALID"===s)return t((0,o.domikIsLoading)(!1)),t((0,o.loginSuggestedAccountSuccess)(e)),void t((0,r.default)(d));var b={_uid:l,csrf_token:u};t((0,o.domikIsLoading)(!0)),a.default.request("accounts/input-login",b).done(function(e){var n={};e&&e.input_login&&(n[l]=e&&e.input_login,t((0,o.inputLoginSuccess)(n)))}).always(function(){t((0,o.domikIsLoading)(!1)),t((0,o.loginSuggestedAccountSuccess)(e));var n=(f||"").indexOf("social_")>-1,a=(p||[]).some(function(e){return["password","magic","magic_x_token","rfc_totp","otp"].indexOf(e)>-1});if(n&&!a)return t((0,o.changeProcessedAccount)(e)),t((0,o.updateLoginValue)(d)),void t((0,i.default)());t((0,r.default)(d))})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=c(n("614b39f039bc9b9d408e")),i=c(n("e14b389d821b6a025824"));function c(e){return e&&e.__esModule?e:{default:e}}},e568a524ac56cbad8c01:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),i=n.settings.host,c=n.common.retpath,u=i+"/profile/emails";if(e((0,r.default)("redirect_to_emails_page","Показ превращения емейла в защищенный","Изменить")),c)return u+="?retpath="+encodeURIComponent(c),window.open(u),void e((0,a.default)());e((0,o.default)(u))}};var a=i(n("7bec9e0f5607402a990d")),o=i(n("991bab4cbee4bd95d9b7")),r=i(n("c1c5f474e631e6348cde"));function i(e){return e&&e.__esModule?e:{default:e}}},e5f7320146580cab6ff9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){if(!e||!e.trim())return t((0,i.setErrors)(["key.empty"])),void t((0,r.domikIsLoading)(!1));var s=n(),d=s.additionalDataRequest.track_id,f=s.auth,p=f.processedAccount,b=f.defaultAccount,_=s.common.csrf,h=p||b,m={key:e,csrf_token:_,track_id:d,uid:h?h.uid:""};t((0,i.clearErrors)()),a.default.request("email/confirm/by_code_v2",m).done(function(){t((0,l.default)("submit_email_confirmation_code","Показ привязки емейла","Успешная привязка")),t((0,c.default)("no"))}).fail(function(e){for(var n=e.errors.length,a=0;a<n;a++){var c=e.errors[a];if("password.required"===c)return void t((0,u.default)());if("email.already_confirmed"===c)return void t((0,o.default)())}t((0,i.setErrors)(e.errors)),t((0,r.domikIsLoading)(!1))})}};var a=s(n("fb6358edfd8976cf491c")),o=s(n("7bec9e0f5607402a990d")),r=n("4ee320a8137784c050e0"),i=n("2dad848e8287918fdb83"),c=s(n("376afcf70180c39dfa41")),u=s(n("bb35215c4a46a2d07b5f")),l=s(n("c1c5f474e631e6348cde"));function s(e){return e&&e.__esModule?e:{default:e}}},e6034e01754f26236b79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var o=n(),r=o.common.track_id,i={track_id:r,provider:e.provider};e.scope&&(i.scope=e.scope),a.default.start(i)}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("d6b450235dea56f14038"))},e6ab9ec4fb60a42c7fce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),u=f(n("6720f7e94eecea453799")),l=f(n("d2dbe1fcc8a23653b617")),s=f(n("55621460a7f2ac679428")),d=f(n("10e962d582339e41eb7c"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleCrossClick=n.handleCrossClick.bind(n),n.showMobileMenu=n.showMobileMenu.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props.redirectToRetpath;e.preventDefault(),t()}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,a=t.logoutAccount;e.preventDefault(),a(n.uid),u.default.send([c.SHOW_SUGGEST_LIST,c.LOGOUT_ACCOUNT])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,a=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,r=t.setProccessedAccountUid;e.preventDefault(),o("logout"),r(n.uid),a(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,a=e.isTouch,o=e.logoutUrl,i=e.fallbackUrl;return t?r.default.createElement("li",{className:"passp-account-list-item_block"},r.default.createElement(d.default,{account:t,avatarSettings:n,logoutUrl:o,fallbackUrl:i,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!0,isTouch:a})):null}}]),t}();t.default=(0,i.connect)(l.default,s.default)(p)},e71cbcfb936ff794222f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=p(n("63f14ac74ce296f77f4d")),c=p(n("b912ecc4473ae8a2ff0b")),u=n("d7dd51e1bf6bfc2c9c3d"),l=(p(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),s=p(n("6720f7e94eecea453799")),d=p(n("61cd2aab7a2771c86b20")),f=p(n("f829dce6e807e79181ee"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPasswordShowed:!1},n.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"current-password"},n.togglePasswordVision=n.togglePasswordVision.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isNoTabletTouch,a=t.hasSocialButton;s.default.send([a?l.SHOW_SOCIAL_WITH_PASSWORD_FORM:l.SHOW_PASSWORD_FORM]),n||setTimeout(function(){i.default.findDOMNode(e.passwordField).querySelector("input").focus()},300)}},{key:"togglePasswordVision",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState(function(e){return{isPasswordShowed:!e.isPasswordShowed}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.password,a=t.onChange,o=t.fieldError,i=t.fieldLink,u=t.isShowFieldLink,l=t.inputLogin,s=t.login,d=this.state.isPasswordShowed;return r.default.createElement("div",{className:"passp-password-field"},r.default.createElement("input",{className:"passp-hidden-login-field",type:"text",name:"login",id:"login",readOnly:!0,autoComplete:"username",value:l||s}),r.default.createElement(f.default,{ref:function(t){e.passwordField=t},fieldLabel:"Введите пароль",fieldValue:n,fieldName:"passwd",fieldType:d?"text":"password",fieldError:o,fieldOptions:this.fieldOptions,fieldLink:i,isShowFieldLink:u,onFieldChange:a}),r.default.createElement("span",{onClick:this.togglePasswordVision,className:(0,c.default)("passp-password-field__eye passp-password-field__eye_opened",{"passp-password-field__eye_hidden":d})}),r.default.createElement("span",{onClick:this.togglePasswordVision,className:(0,c.default)("passp-password-field__eye passp-password-field__eye_closed",{"passp-password-field__eye_hidden":!d})}))}}]),t}();b.defaultProps={fieldValue:""},t.default=(0,u.connect)(d.default)(b)},e8f6b72a963e743d04a5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=p(o),i=n("27361837e9c8186338e3"),c=n("d7dd51e1bf6bfc2c9c3d"),u=(p(n("8a2d1b95e05b6a321e74")),p(n("dabe4e15a14257fec3c9"))),l=p(n("f5d6aed31f8bc2351e50")),s=n("2a8109ac628133d5b12f"),d=p(n("6720f7e94eecea453799")),f=p(n("a6fd5b93bd0fb4ce3d49"));function p(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.logoutProcessedAccount=n.logoutProcessedAccount.bind(n),n.logoutAndForgetProcessedAccount=n.logoutAndForgetProcessedAccount.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"logoutProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,a=t.logoutAccount;e.preventDefault(),a(n),d.default.send([s.SHOW_SUGGEST_LIST,s.LOGOUT_ACCOUNT])}},{key:"logoutAndForgetProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,a=t.logoutAndForget;e.preventDefault(),a(n),d.default.send([s.SHOW_SUGGEST_LIST,s.FORGET_ACCOUNT])}},{key:"render",value:function(){return r.default.createElement("div",{className:"passp-logout-mobile-menu"},r.default.createElement(f.default,{cls:"passp-mobile-menu__button passp-logout-mobile-menu__logout-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.logoutProcessedAccount},r.default.createElement("span",{className:"passp-mobile-menu__button-text"},r.default.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти из аккаунта")),r.default.createElement(f.default,{cls:"passp-mobile-menu__button passp-logout-mobile-menu__forget-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.logoutAndForgetProcessedAccount},r.default.createElement("span",{className:"passp-mobile-menu__button-text"},r.default.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти и удалить из списка")))}}],[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={logoutAccount:u.default,logoutAndForget:l.default};return Object.assign({},(0,i.bindActionCreators)(t,e),{dispatch:e})}}]),t}();t.default=(0,c.connect)(b.mapStateToProps,b.mapDispatchToProps)(b)},ec7a66791361653ff08d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=n(),i=r.common,c=i.pane,u=i.magicUrl,l=r.auth,s=l.mode,d=l.isQRPromo1Enabled,f=l.isQRPromo2Enabled;if("magic"!==s){var p=d||f,b=p&&"addingAccount"===s;t((0,o.setupBackPane)(c)),t((0,a.push)(u)),t((0,o.switchToModeMagicSuccess)(Boolean(b)||e))}}};var a=n("3aced5b508e7389026da"),o=n("4ee320a8137784c050e0")},ed71d4c250ec26f8dc96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=c(o),i=c(n("041bd6492602bccda0c8"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){i.default.start()}},{key:"componentWillUnmount",value:function(){i.default.stop()}},{key:"render",value:function(){return r.default.createElement("div",null)}}]),t}();t.default=u},ee2fcad67ee984cc1b1f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=t.form.isCanRegister,o=t.unitedAccounts,r=e.common,i=r.addUserUrl,c=r.editUrl,u=e.customs.tagline,l=Object.keys(o).length>0,s=a.default[u]||"Войдите, чтобы продолжить";return{addUserUrl:i,editUrl:c,isCanRegister:n,hasUnitedAccounts:l,customTagline:s}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fefa03794472a910c8cc"))},f06a2b1b63b4c7bb4fd1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=f(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(f(n("8a2d1b95e05b6a321e74")),n("2a8109ac628133d5b12f")),u=f(n("6720f7e94eecea453799")),l=f(n("3c1f4d4fa3f6ebca8253")),s=f(n("f7cb502a9dd1579b999d")),d=f(n("10e962d582339e41eb7c"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleCrossClick=n.handleCrossClick.bind(n),n.showMobileMenu=n.showMobileMenu.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,a=t.editUrl,o=t.loginSuggestedAccount,r=t.domikIsLoading,i=t.setupBackPane;e.preventDefault(),r(!0),i(a),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,a=t.forgetAccount;e.preventDefault(),a(n.uid),u.default.send([c.SHOW_SUGGEST_LIST,c.FORGET_ACCOUNT])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,a=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,r=t.setProccessedAccountUid;e.preventDefault(),o("forget"),r(n.uid),a(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,a=e.fallbackUrl,o=e.isTouch;return t?r.default.createElement("li",{className:"passp-account-list-item_block"},r.default.createElement(d.default,{account:t,avatarSettings:n,fallbackUrl:a,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isTouch:o})):null}}]),t}();t.default=(0,i.connect)(l.default,s.default)(p)},f36dc22f54fd39044fbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={setupBackPane:o.setupBackPane,canRegister:o.canRegister,setupMode:o.setupMode,setupPane:r.setupPane};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("4ee320a8137784c050e0"),r=n("d980a6b4f65a3a13be8b")},f36f1e2cdd5cdb0ee64b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={sendApiRequest:o.default,changePhoneNumber:c.changePhoneNumber,sendAdditionalDataRequestMetrics:r.default,redirectToPhonesPage:i.default};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=u(n("492f0884ca0d25627280")),r=u(n("c1c5f474e631e6348cde")),i=u(n("67ca3bf7dd23abfeff4d")),c=n("2dad848e8287918fdb83");function u(e){return e&&e.__esModule?e:{default:e}}},f3e5b0b53b9a60481e9f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"login.can_register":"Такого аккаунта нет","login.empty":"Логин не указан","login.missingvalue":"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.not_available":"Логин введен некорректно или удален","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.notavailable":"Логин введен некорректно или удален","account.disabled":"Аккаунт заблокирован","account.disabled_on_deletion":"Аккаунт заблокирован","account.global_logout":"Что-то пошло не так. Попробуйте обновить страницу","account.not_found":"Такого аккаунта нет","action.impossible":"Введенные данные нельзя использовать для входа","captcha.invalid":"Символы введены неверно","captcha.empty":"Введите символы с картинки","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","captcha.required":"Введите символы с картинки","captcha.missingvalue":"Введите символы с картинки","captcha.cannot_locate":"Введите символы с картинки","password.empty":"Пароль не указан","password.not_matched_2fa":"Неверный пин-код, одноразовый пароль или логин.","password.not_matched":"Неверный пароль","rfc_otp.invalid":"Неверный пароль","sessionid.overflow":"Список аккаунтов заполнен.",global:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз","number.empty":"Укажите номер телефона","number.invalid":"Пожалуйста, укажите корректный номер телефона","sms_limit.exceeded":"Превышено количество попыток подтверждения номера телефона. Попробуйте еще раз позже.","phone.confirmed":"Невозможно подтвердить телефон, попробуйте ввести другой номер","phone.blocked":"Номер телефона заблокирован","phone_secure.bound_and_confirmed":"","code.empty":"Укажите код подтверждения","code.invalid":"Неправильный код подтверждения","confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно","phone.not_found":"Данный номер больше не привязан к аккаунту. Вы можете привязать новый номер на странице управления телефонами.","email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","social_profile.invalid":"Данный профиль больше не привязан к аккаунту. Вы можете привязать новый профиль на странице управления соц.профилями.","account.strong_password_policy_enabled":"При выбранной для вашей учетной записи политике аутентификации авторизация через соц.сети отключена.","social_profile.single_auth_method":"Данный профиль невозможно использовать для входа. Вы можете привязать новый профиль на странице управления соц.профилями.","oauth_token.invalid":"Что-то пошло не так. Войдите в аккаунт с помощью пароля."}},f469c14f5c3cd24dad9a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cls,n=e.children;return a.default.createElement("div",{className:"passp-auth-screen passp-"+t+"-page"},n)}},f5d6aed31f8bc2351e50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var i=n(),c=i.settings.ua,u=i.common,l=u.profile_url,s=u.csrf,d=u.yu,f=u.retpath,p=c&&c.isTouch,b={csrf_token:s,retpath:f||l,uid:e,yu:d};t((0,o.domikIsLoading)(!0)),a.default.request("auth/logout_and_forget",b).done(function(){t((0,r.default)()),p&&t((0,o.changeMobileMenuVisibility)(!1))}).fail(function(){t((0,r.default)())}).always(function(){return t((0,o.domikIsLoading)(!1))})}};var a=i(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=i(n("400d618db20c4ff01c08"));function i(e){return e&&e.__esModule?e:{default:e}}},f7184967d7de6dd38a1e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=u(o),i=(u(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=u(n("7368db871fd0c10fee71"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.staticPath,a=e.code,o=a?t:"Внутренняя ошибка: обновите страницу и попробуйте еще раз";return r.default.createElement("div",null,a&&r.default.createElement("ul",{className:"al-send-popup__code"},a.map(function(e,t){return r.default.createElement("li",{className:"popup__code-item",key:t},r.default.createElement("img",{className:"popup__code-item-img",src:n+"/i/magic-letter/"+e+".png",alt:"magic link code image"}))})),r.default.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:o}}))}}]),t}();t.default=(0,i.connect)(c.default)(l)},f779c6413bea08822627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){if(!e||!e.trim())return t((0,r.setErrors)(["code.empty"])),void t((0,o.domikIsLoading)(!1));var s=n(),d=s.additionalDataRequest.track_id,f=s.common.csrf,p={code:e,track_id:d,csrf_token:f};t((0,r.clearErrors)()),a.default.request("phone/confirm_and_bind_secure/commit_v2",p).done(function(){t((0,l.default)("submit_phone_confirmation_code","Показ привязки телефона","Успешная привязка")),t((0,c.default)("no"))}).fail(function(e){for(var n=e.errors.length,a=0;a<n;a++){var c=e.errors[a];if("password.required"===c)return void t((0,u.default)());if("phone_secure.bound_and_confirmed"===c)return void t((0,i.default)())}t((0,r.setErrors)(e.errors)),t((0,o.domikIsLoading)(!1))})}};var a=s(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=n("2dad848e8287918fdb83"),i=s(n("7bec9e0f5607402a990d")),c=s(n("376afcf70180c39dfa41")),u=s(n("bb35215c4a46a2d07b5f")),l=s(n("c1c5f474e631e6348cde"));function s(e){return e&&e.__esModule?e:{default:e}}},f7cb502a9dd1579b999d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={loginSuggestedAccount:r.default,forgetAccount:i.default,domikIsLoading:o.domikIsLoading,setupBackPane:o.setupBackPane,changeMobileMenuVisibility:o.changeMobileMenuVisibility,changeMobileMenuType:o.changeMobileMenuType,setProccessedAccountUid:o.setProccessedAccountUid};return Object.assign({},(0,a.bindActionCreators)(t,e),{dispatch:e})};var a=n("27361837e9c8186338e3"),o=n("4ee320a8137784c050e0"),r=c(n("e16a64fc4ac2fa640ace")),i=c(n("256898036d63d335a892"));function c(e){return e&&e.__esModule?e:{default:e}}},f829dce6e807e79181ee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NATIVE_INPUT_ID_PREFIX=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("8af190b70a6bc55c6f1b"),i=s(r),c=(s(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),u=s(n("b912ecc4473ae8a2ff0b")),l=s(n("1def7208fe0e21ce16a3"));function s(e){return e&&e.__esModule?e:{default:e}}var d=t.NATIVE_INPUT_ID_PREFIX="passp-field-",f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleChange=n.handleChange.bind(n),n.state={isFocused:!1},n.updateInterval=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fieldValue,a=t.fieldName,o=t.ua,r=document.getElementById(""+d+a);r.value=n,o.isMobile&&(this.updateInterval=setInterval(function(){r.value!==e.props.fieldValue&&e.handleChange({target:{value:r.value}})},100))}},{key:"componentWillUnmount",value:function(){this.props.ua.isMobile&&clearInterval(this.updateInterval)}},{key:"handleFocus",value:function(){this.setState({isFocused:!0})}},{key:"handleBlur",value:function(){this.setState({isFocused:!1})}},{key:"handleChange",value:function(e){(0,this.props.onFieldChange)(e.target.value),this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.fieldLabel,n=e.fieldValue,o=e.fieldClass,r=e.fieldName,c=e.fieldType,s=e.fieldError,f=e.fieldLink,p=e.fieldOptions,b=void 0===p?{}:p,_=e.isShowFieldLink,h=this.state.isFocused,m=Boolean(s);return i.default.createElement("div",{className:(0,u.default)("passp-form-field "+(o||""),{"passp-form-field_focused":h,"passp-form-field_filled":Boolean(n),"passp-form-field_failed":m})},i.default.createElement("div",{className:"passp-form-field__input"},i.default.createElement("input",a({type:c,id:""+d+r,name:r},b,{onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})),i.default.createElement("label",{className:"passp-form-field__label",htmlFor:""+d+r},t)),m&&i.default.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:s}}),_&&Boolean(f)&&i.default.createElement("div",{className:"passp-form-field__link"},i.default.createElement(l.default,{url:f.url,onClick:f.onClick,pseudo:f.pseudo||!1,theme:"normal"},f.text)))}}]),t}();f.defaultProps={fieldError:"",fieldLink:null,fieldOptions:{},isShowFieldLink:!1,fieldClass:""},t.default=(0,c.connect)(function(e){return{ua:e.settings&&e.settings.ua||{}}})(f)},f8ac0d4d63461cef51dc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var c=n(),u=c.common,l=u.profile_url,s=u.csrf,d=u.yu,f=u.retpath,p={csrf_token:s,retpath:f||l,uid:e,yu:d};t((0,o.domikIsLoading)(!0)),a.default.request("auth/change_default",p).done(function(){t((0,r.default)()),t((0,i.default)())}).fail(function(){t((0,r.default)())}).always(function(){return t((0,o.domikIsLoading)(!1))})}};var a=c(n("fb6358edfd8976cf491c")),o=n("4ee320a8137784c050e0"),r=c(n("400d618db20c4ff01c08")),i=c(n("7bec9e0f5607402a990d"));function c(e){return e&&e.__esModule?e:{default:e}}},f8f0212f92cde3c17f5d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=v(o),i=n("d7dd51e1bf6bfc2c9c3d"),c=(v(n("8a2d1b95e05b6a321e74")),v(n("f829dce6e807e79181ee"))),u=v(n("5b1ba08c9bbd7767f36c")),l=v(n("ce71044ed50ae6df54b1")),s=v(n("ff5e0c92347047de2c64")),d=v(n("0a6182e4a23d9b6c7858")),f=v(n("cfbb1a667a369146e7f0")),p=v(n("f3e5b0b53b9a60481e9f")),b=v(n("f779c6413bea08822627")),_=v(n("15a1cb3beb4f3d6cfe2c")),h=v(n("376afcf70180c39dfa41")),m=v(n("415b2ec7a2c957bbe58a")),y=v(n("fcbfd009d184700124a8")),g=v(n("a1d676ee048a2b15fe67"));function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleConfirmationCodeChange=n.handleConfirmationCodeChange.bind(n),n.approvePhone=n.approvePhone.bind(n),n.sentConfirmationCode=n.sentConfirmationCode.bind(n),n.goBack=n.goBack.bind(n),n.startTimer=n.startTimer.bind(n),n.stopTimer=n.stopTimer.bind(n),n.timerInterval=null,n.state={currentTimestamp:Number(new Date)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.stopTimer(),this.startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this.startTimer())}},{key:"componentWillUnmount",value:function(){this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.clearErrors(),this.stopTimer()}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approvePhone",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.confirmationCode;n(b.default,a)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,a=t.phoneNumber;n(_.default,a)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_phone",null,"Отложить"),t(h.default)}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval(function(){var t=Number(new Date);e.setState({currentTimestamp:t}),t>=Number(e.props.denyResendUntil)&&e.stopTimer()},1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}},{key:"getSendAgainButtonText",value:function(e){var t=this.props.denyResendUntil,n=this.state.currentTimestamp;return e?r.default.createElement("span",null,"Отправить ещё код","  ",r.default.createElement(s.default,{startTime:n,endTime:Number(t)})):"Отправить ещё код"}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,a=e.denyResendUntil,o=e.popupTitle,i=e.errors,s=this.state.currentTimestamp+1e3<Number(a),d=null;i.length&&(d=p.default[i[0]]?p.default[i[0]]:p.default.internal);var f=this.getSendAgainButtonText(s);return r.default.createElement(y.default,{cls:"phone-confirmation"},r.default.createElement(m.default,null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}})),r.default.createElement(g.default,{cls:"phone-confirmation"},r.default.createElement(c.default,{fieldLabel:"Код из смс",fieldValue:t,fieldName:"confirmation_code",fieldType:"text",fieldError:d,onFieldChange:this.handleConfirmationCodeChange}),n&&r.default.createElement(u.default,null),r.default.createElement("div",{className:"passp-button"},r.default.createElement(l.default,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:this.approvePhone})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(l.default,{buttonType:"button",buttonText:f,buttonTheme:"normal",disabled:s,onClick:this.sentConfirmationCode})),r.default.createElement("div",{className:"passp-button"},r.default.createElement(l.default,{buttonType:"button",buttonText:"Подтвердить позже",buttonTheme:"normal",onClick:this.goBack}))))}}]),t}();t.default=(0,i.connect)(d.default,f.default)(E)},f90d1e31363e3e95f33e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af190b70a6bc55c6f1b"),r=u(o),i=(u(n("8a2d1b95e05b6a321e74")),n("d7dd51e1bf6bfc2c9c3d")),c=u(n("a33348bf773d0b1bb5d0"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.staticPath,a=e.code,o=a?t:"Внутренняя ошибка: обновите страницу и попробуйте еще раз";return r.default.createElement("div",null,a&&r.default.createElement("ul",{className:"al-send-popup__code"},a.map(function(e,t){return r.default.createElement("li",{className:"popup__code-item",key:t},r.default.createElement("img",{className:"popup__code-item-img",src:n+"/i/magic-letter/"+e+".png",alt:"magic link code image"}))})),r.default.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:o}}))}}]),t}();t.default=(0,i.connect)(c.default)(l)},fa93acbe643a2e0cfe93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4ee320a8137784c050e0"),o=l(n("400d618db20c4ff01c08")),r=l(n("a3c2d05881d3875b5dbb")),i=l(n("410c72216bba39e80c40")),c=n("2a8109ac628133d5b12f"),u=l(n("6720f7e94eecea453799"));function l(e){return e&&e.__esModule?e:{default:e}}var s=void 0,d={init:function(e){this.setStore(e)},onSuccess:function(e){var t=void 0;if(e.origin===location.origin&&e.data.socialAuth){var n=this.getStore();(t=n.getState()).common.retpath?(0,a.redirect)(t.common.retpath):n.dispatch((0,o.default)())}},setStore:function(e){s=e},getStore:function(){return s},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState();e.track_id=t.auth.magicTrack,e.csrf_token=t.auth.magicCSRF,e.trackNotFoundErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout(function(){e._interval=1e3},6e4),window.redirectTimeout=setTimeout(function(){window.location.reload(!0)},6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout(function(){e.poll()},e._interval)},poll:function(){var e=this,t=$.ajax("/auth/new/magic/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",type:"POST"}),n=e.getStore();t.done(function(t){var o=void 0;if("ok"===t.status&&"otp_auth_finished"===t.state)return e.stop(),u.default.goal(c.SUCCESS_AUTH_GOAL),void(window.location.href="/auth/finish/?track_id="+e.track_id);if(t.errors){if("password.not_matched"===(o=t.errors[0])&&(o="password.not_matched_2fa"),"captcha.required"===o)return e.stop(),n.dispatch((0,a.setLoginError)(o)),n.dispatch((0,a.changeCaptchaState)(!0)),void n.dispatch((0,r.default)());"track.not_found"===o&&(e.trackNotFoundErrorCount>5&&(e.stop(),n.dispatch((0,a.setMagicError)(o)),n.dispatch((0,i.default)())),e.trackNotFoundErrorCount++),-1===["internal.temporary","backend.redis_failed","track.not_found"].indexOf(o)&&(e.stop(),n.dispatch((0,a.setMagicError)(o)),n.dispatch((0,i.default)()))}e.restartPolling()})},stopPoll:function(){this._stopped=!0},stop:function(){clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout),this.stopPoll()}};t.default=d},fb09d2078d24ea3d0b13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){var n=t(),i=n.common,c=i.csrf,u=i.track_id,l=n.settings.lang,s={csrf_token:c,language:l,send_to:"messenger",track_id:u};e((0,r.domikIsLoading)(!0)),a.default.request("auth/send_magic_letter",s).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e((0,o.setAuthMessengerSent)(n)),e((0,r.changePagePopupVisibility)(!0)),e((0,r.changePagePopupType)("authMessenger"))}else e((0,o.setAuthMessengerError)("global"))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";if("bot_api.request_failed"===n)return e((0,r.changePagePopupVisibility)(!0)),e((0,r.changePagePopupType)("authMessengerInfo")),void e((0,r.setPasswordError)(""));e((0,o.setAuthMessengerError)(n))}).always(function(){e((0,r.domikIsLoading)(!1))})}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fb6358edfd8976cf491c")),o=n("7ed68ea4ffabadd59750"),r=n("4ee320a8137784c050e0")},fb6358edfd8976cf491c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n("99d31cffdbf327a0604b")),o=n("8070137bd608b2b9c74f"),r=n("d980a6b4f65a3a13be8b");var i=void 0;t.default={init:function(e){i=e},request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],c=new $.Deferred;return a.default.api.request(e,t,n).done(function(t){return"error"!==t.status?c.resolve(t):(Array.isArray(t.errors)&&(t.errors.find(function(e){return"password.required"===e})&&i.dispatch((0,o.showRequestPassword)(!0)),t.errors.find(function(e){return"captcha.required"===e})&&"/profile/password/submit"!==e&&i.dispatch((0,o.showRequestCaptcha)(!0)),t.errors.find(function(e){return"sessionid.invalid"===e})&&i.dispatch((0,r.goToAuth)()),t.errors.find(function(e){return"track.not_found"===e||"track_id.invalid"===e})&&i.dispatch((0,r.getNewTrackId)())),c.reject(t))}).fail(function(e){var t={status:"error",errors:[]};return 403===e.status?t.errors.push("csrf_token.invalid"):t.errors.push("internal"),i.dispatch((0,r.connectionError)(t)),c.reject(t)}),c.promise()},log:function(e,t){a.default.api.log(e,t)}}},fcbfd009d184700124a8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("8af190b70a6bc55c6f1b"));o(n("8a2d1b95e05b6a321e74"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cls,n=e.children;return a.default.createElement("div",{className:"passp-page-popup__content passp-"+t+"-popup"},n)}},fefa03794472a910c8cc:function(e,t,n){"use strict";e.exports={appmetrica:"Авторизуйтесь, чтобы перейти в AppMetrica",audience:"Войдите, чтобы перейти к Аудиториям",connect:"Войдите, чтобы перейти в Коннект",contest:"Авторизуйтесь для регистрации и участия в соревновании",serp_disk:"Войдите, чтобы сохранить файл на Яндекс.Диск",serp_ugc:"Войдите, чтобы оставить отзыв",serp_default:"Поиск лучше, когда вы авторизованы",serp_suggest_t1:"Выберите аккаунт, чтобы войти и объединить историю поиска",serp_suggest_t2:"Через какой аккаунт вы хотите объединить поиск на своих устройствах?",serp_suggest_t3:"Войдите в аккаунт — и поиск подстроится под вас",serp_suggest_t4:"Осталось выбрать аккаунт — и поиск объединится на ваших устройствах",serp_suggest_t5:"Войдите, чтобы объединить историю поиска",toloka:"Войдите, чтобы перейти к Толоке",telephony:"Все входящие будут приняты!",music:"Остался один шаг до Музыки",health:"Авторизуйтесь, чтобы медицинские заключения и отчеты о консультациях всегда были под рукой",news_welcome1:"Войдите, чтобы читать новости из своих любимых источников",news_welcome2:"Войдите, чтобы читать новости из своих любимых источников",news_welcome3:"Войдите, чтобы оставлять оценки к новостям",news_welcome4:"Войдите, чтобы оставлять комментарии к новостям",lyceum:"Войдите, чтобы учиться в Яндекс.Лицее",mail_exp:"Войдите, чтобы перейти к Почте",money_offer:"Выдаем бонусы только своим. Войдите:",maps_favorites:"Войдите, чтобы пользоваться закладками",maps_feedback:"Войдите, чтобы дополнять и исправлять данные организаций",maps_reviews:"Войдите, чтобы ставить оценки, писать отзывы и добавлять фото",mapsconstructor_new:"Войдите, чтобы создать карту",money_payment:" Войдите, чтобы заплатить из кошелька ",money_card:"Войдите в кошелек, в котором будет храниться карта",video:"Сохраняйте интересные видео",video_myvideo_add_new:"Войдите, чтобы сохранять видео",tune:"Войдите в аккаунт, чтобы синхронизировать историю поиска","disk_public-touch-copy":"Войдите, чтобы сохранить на Яндекс.Диск","disk_public-android-copy":"Войдите, чтобы сохранить на Яндекс.Диск","disk_public-touch-copy-limit":"Войдите, чтобы сохранить и скачать с Яндекс.Диска","disk_public-touch-comment":"Войдите, чтобы отправить комментарий","disk_public-android-comment":"Войдите, чтобы отправить комментарий",market_desktop_review:"Оценка сохранена. Авторизуйтесь, чтобы опубликовать её на Маркете.",market_desktop_wishlist:"Если у вас уже есть отложенные товары на Маркете, авторизуйтесь, чтобы их увидеть.",market_desktop_compare:"Если в вашем списке сравнения на Маркете уже есть товары, авторизуйтесь, чтобы их увидеть.",market_desktop_header:"Авторизуйтесь, чтобы ваши товары и настройки сохранялись на всех устройствах, с которых вы заходите на Маркет.",market_desktop_forum:"Авторизуйтесь, чтобы написать комментарий на Маркете.",market_desktop_comment:"Авторизуйтесь, чтобы написать комментарий к отзыву на Маркете.",market_desktop_checkout:"Авторизуйтесь, чтобы следить за заказом на Маркете и общаться с магазином напрямую.",market_desktop_reviews:"Авторизуйтесь, чтобы посмотреть историю своих отзывов на Маркете.",market_desktop_orders:"Авторизуйтесь, чтобы посмотреть историю своих заказов на Маркете.",market_desktop_wishlist_save:"Если войти, отложенные товары можно будет посмотреть позже и на других устройствах.",market_desktop_compare_save:"Если войти, сравнение товаров сохранится и его можно будет посмотреть на другом устройстве.",znatoki:"Войдите в аккаунт, чтобы писать вопросы и ответы",zen_pubs:"Войдите, чтобы создавать публикации, находить подписчиков и зарабатывать в Яндекс Дзене",passport_device:"Войдите в аккаунт, к которому вы хотите привязать устройство.",plus_gift:"Чтобы активировать промокод, войдите в аккаунт",market_cashback:"После входа мы попросим добавить телефон, если вы не сделали этого раньше.",kinopoisk:"Войдите или зарегистрируйтесь.<br>Если у вас есть аккаунт на КиноПоиске, не волнуйтесь за данные — всё сохранится.",nmaps:"Войдите, чтобы перейти к редактированию на Народной карте"}},ff5e0c92347047de2c64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startTime,n=e.endTime,r=(0,o.getTimerMinutes)(t,n),i=(0,o.getTimerSeconds)(t,n);return a.default.createElement("span",{className:"phone-confirmation-timer"},(0,o.showWithLeadZero)(r),":",(0,o.showWithLeadZero)(i))};r(n("8a2d1b95e05b6a321e74"));var a=r(n("8af190b70a6bc55c6f1b")),o=n("8f590c31c04b04831974");function r(e){return e&&e.__esModule?e:{default:e}}}});